<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修GO基础之Map' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>GO基础之Map</center></div><div class='banquan'>原文出处:本文由博客园博主小禾点点提供。<br/>
原文连接:https://www.cnblogs.com/jalja/p/11785336.html</div><br>
    <p><strong>go开发手册：</strong>&nbsp; &nbsp;https://studygolang.com/pkgdoc</p>
<h3>&nbsp;一、什么是map</h3>
<p>有资料翻译成地图、映射或字典。但是大多数习惯上翻译成集合。<br /><strong>1、map是Go中的内置类型，它将一个值与一个键关联起来。可以使用相应的键检索值。</strong></p>
<ul>
<li>map是一种无序的键值对（key-value pair)的集合。map通过key来快速检索数据，key类似于索引，指向相应的value值。</li>
<li>map是一种集合，所以可以像遍历数组或切片那样去遍历它，不过map是无序的，所以无法决</li>



</ul>
<p>&nbsp;</p>
<p><strong>2、使用map的注意细节：</strong><br />&bull; map是无序的，每次打印出来的map都会不一样，它不能通过index获取，而必须通过key获取；<br />&bull; map的长度是不固定的，和slice-样可以扩展。内置的len()函数同样适用于map,返回map拥有的键值对的数量。但是map不能通过cap()函数计算容量（或者说cap()函数的参数不可以是map);<br />&bull;同_tmap中key必须保证唯_。key的数据类型必须是可参与比较运算的类型，也就是支持==或!=操作的类型。如布尔型、整数型、浮点型、字符串型、数组。对于切片、函数等引用类型则不能作为键的类型；</p>
<p>（Invalid map&nbsp;key type: must not be must not be a function , map or slice)<br />&bull; map的value可以是任何数据类型。<br />&bull;和slice&mdash;样，map也是一种引用类型；</p>
<p>&nbsp;</p>
<h3>二、map的使用</h3>
<p><strong>1、map的声明</strong></p>
<p>map中key可以是：int、float、bool、string、数组；&nbsp; &nbsp; 一定不可以是：切片、函数、map</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">package main

import (
    </span><span style="color: #800000;">"</span><span style="color: #800000;">fmt</span><span style="color: #800000;">"</span><span style="color: #000000;">
)

func main() {
    </span><span style="color: #008000;">//</span><span style="color: #008000;">map的声明 一(var 变量名 map[key的类型]value的类型 )</span>
    <span style="color: #0000ff;">var</span> map1 map[<span style="color: #0000ff;">string</span>]<span style="color: #0000ff;">string</span><span style="color: #000000;">
    fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%T,%v,%v \n</span><span style="color: #800000;">"</span>, map1, map1, map1 == nil) <span style="color: #008000;">//</span><span style="color: #008000;">map[string]string,map[],true
    </span><span style="color: #008000;">//</span><span style="color: #008000;">map声明 二</span>
    map2 := make(map[<span style="color: #0000ff;">string</span>]<span style="color: #0000ff;">string</span><span style="color: #000000;">)
    fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%T,%v,%v \n</span><span style="color: #800000;">"</span>, map2, map2, map2 == nil) <span style="color: #008000;">//</span><span style="color: #008000;">map[string]string,map[],false</span>
}</pre>
</div>
<p>2、map的初始化</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">package main

import (
    </span><span style="color: #800000;">"</span><span style="color: #800000;">fmt</span><span style="color: #800000;">"</span><span style="color: #000000;">
)

func main() {
    </span><span style="color: #008000;">//</span><span style="color: #008000;">map的声明 一(var 变量名 map[key的类型]value的类型 )</span>
    <span style="color: #0000ff;">var</span> map1 map[<span style="color: #0000ff;">string</span>]<span style="color: #0000ff;">string</span><span style="color: #000000;">
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">map的长度</span><span style="color: #800000;">"</span><span style="color: #000000;">, len(map1))
    </span><span style="color: #008000;">//</span><span style="color: #008000;">在声明的同时初始化数据</span>
    <span style="color: #0000ff;">var</span> map2 = map[<span style="color: #0000ff;">string</span>]<span style="color: #0000ff;">string</span><span style="color: #000000;">{
        </span><span style="color: #800000;">"</span><span style="color: #800000;">sz</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">张三</span><span style="color: #800000;">"</span><span style="color: #000000;">,
        </span><span style="color: #800000;">"</span><span style="color: #800000;">ls</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">李四</span><span style="color: #800000;">"</span><span style="color: #000000;">,
    }
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">map=</span><span style="color: #800000;">"</span><span style="color: #000000;">, map2)
    
    </span><span style="color: #008000;">//</span><span style="color: #008000;">先声明 然后再赋值</span>
    map3 := make(map[<span style="color: #0000ff;">string</span>]<span style="color: #0000ff;">string</span><span style="color: #000000;">)
    map3[</span><span style="color: #800000;">"</span><span style="color: #800000;">ww</span><span style="color: #800000;">"</span>] = <span style="color: #800000;">"</span><span style="color: #800000;">王五</span><span style="color: #800000;">"</span><span style="color: #000000;">
    map3[</span><span style="color: #800000;">"</span><span style="color: #800000;">lb</span><span style="color: #800000;">"</span>] = <span style="color: #800000;">"</span><span style="color: #800000;">刘备</span><span style="color: #800000;">"</span><span style="color: #000000;">
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">map=</span><span style="color: #800000;">"</span><span style="color: #000000;">, map3)
}</span></pre>
</div>
<p>3、map的CURD</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">package main

import (
    </span><span style="color: #800000;">"</span><span style="color: #800000;">fmt</span><span style="color: #800000;">"</span><span style="color: #000000;">
)

func main() {
    </span><span style="color: #008000;">//</span><span style="color: #008000;">=========在声明的同时初始化数据</span>
    <span style="color: #0000ff;">var</span> map2 = map[<span style="color: #0000ff;">string</span>]<span style="color: #0000ff;">string</span><span style="color: #000000;">{
        </span><span style="color: #800000;">"</span><span style="color: #800000;">zs</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">张三</span><span style="color: #800000;">"</span><span style="color: #000000;">,
        </span><span style="color: #800000;">"</span><span style="color: #800000;">ls</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">李四</span><span style="color: #800000;">"</span><span style="color: #000000;">,
    }
    </span><span style="color: #008000;">//</span><span style="color: #008000;">=========map添加数据</span>
    map2[<span style="color: #800000;">"</span><span style="color: #800000;">lb</span><span style="color: #800000;">"</span>] = <span style="color: #800000;">"</span><span style="color: #800000;">刘备</span><span style="color: #800000;">"</span>

    <span style="color: #008000;">//</span><span style="color: #008000;">=========map的遍历</span>
    <span style="color: #0000ff;">for</span> k, v :=<span style="color: #000000;"> range map2 {
        fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">k=</span><span style="color: #800000;">"</span>, k, <span style="color: #800000;">"</span><span style="color: #800000;"> v=</span><span style="color: #800000;">"</span><span style="color: #000000;">, v)
    }
    </span><span style="color: #008000;">//</span><span style="color: #008000;">=========根据key检测值是否存在</span>
    v, ok := map2[<span style="color: #800000;">"</span><span style="color: #800000;">sz</span><span style="color: #800000;">"</span><span style="color: #000000;">]
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">v=</span><span style="color: #800000;">"</span>, v, <span style="color: #800000;">"</span><span style="color: #800000;"> ok=</span><span style="color: #800000;">"</span>, ok) <span style="color: #008000;">//</span><span style="color: #008000;">v= 张三  ok= true</span>
    v1, ok1 := map2[<span style="color: #800000;">"</span><span style="color: #800000;">sssss</span><span style="color: #800000;">"</span><span style="color: #000000;">]
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">v=</span><span style="color: #800000;">"</span>, v1, <span style="color: #800000;">"</span><span style="color: #800000;"> ok=</span><span style="color: #800000;">"</span>, ok1) <span style="color: #008000;">//</span><span style="color: #008000;">v=   ok= false</span>
    <span style="color: #0000ff;">if</span> value, key := map2[<span style="color: #800000;">"</span><span style="color: #800000;">lb</span><span style="color: #800000;">"</span><span style="color: #000000;">]; key {
        fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">元素的值=</span><span style="color: #800000;">"</span><span style="color: #000000;">, value)
    }
    </span><span style="color: #008000;">//</span><span style="color: #008000;">=========修改map中key对应的value</span>
    map2[<span style="color: #800000;">"</span><span style="color: #800000;">zs</span><span style="color: #800000;">"</span>] = <span style="color: #800000;">"</span><span style="color: #800000;">zhangshan</span><span style="color: #800000;">"</span><span style="color: #000000;">
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">update=</span><span style="color: #800000;">"</span><span style="color: #000000;">, map2)

    </span><span style="color: #008000;">//</span><span style="color: #008000;">=========delete 删除map中的元素
    </span><span style="color: #008000;">//</span><span style="color: #008000;">该函数没有返回值，如果删除不存在的key程序不会报错</span>
    fmt.Println(<span style="color: #800000;">"</span><span style="color: #800000;">delete befor=</span><span style="color: #800000;">"</span><span style="color: #000000;">, map2)
    delete(map2, </span><span style="color: #800000;">"</span><span style="color: #800000;">lb</span><span style="color: #800000;">"</span><span style="color: #000000;">)
    delete(map2, </span><span style="color: #800000;">"</span><span style="color: #800000;">HHHHHHHHHHHHHH</span><span style="color: #800000;">"</span><span style="color: #000000;">)
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">delete after=</span><span style="color: #800000;">"</span><span style="color: #000000;">, map2)
    </span><span style="color: #008000;">//</span><span style="color: #008000;">=========清空map （go语言没有清空的函数，如果要清空，就是直接赋新的map）</span>
    map2 = map[<span style="color: #0000ff;">string</span>]<span style="color: #0000ff;">string</span><span style="color: #000000;">{}
    </span><span style="color: #008000;">//</span><span style="color: #008000;">map2 = make(map[string]string)</span>
    fmt.Println(<span style="color: #800000;">"</span><span style="color: #800000;">clear=</span><span style="color: #800000;">"</span><span style="color: #000000;">, map2)

    </span><span style="color: #008000;">//</span><span style="color: #008000;">map是引用类型</span>
<span style="color: #000000;">    
}</span></pre>
</div>
<p>4、map是引用类型</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">package main

import (
    </span><span style="color: #800000;">"</span><span style="color: #800000;">fmt</span><span style="color: #800000;">"</span>
    <span style="color: #800000;">"</span><span style="color: #800000;">container/list</span><span style="color: #800000;">"</span><span style="color: #000000;">
)

func main() {
    </span><span style="color: #008000;">//</span><span style="color: #008000;">初始薪资</span>
    salary := map[<span style="color: #0000ff;">string</span><span style="color: #000000;">]float64 {
        </span><span style="color: #800000;">"</span><span style="color: #800000;">Steven</span><span style="color: #800000;">"</span>:<span style="color: #800080;">15000</span><span style="color: #000000;">,
        </span><span style="color: #800000;">"</span><span style="color: #800000;">Josh</span><span style="color: #800000;">"</span>:<span style="color: #800080;">20000</span><span style="color: #000000;">,
        </span><span style="color: #800000;">"</span><span style="color: #800000;">Daniel</span><span style="color: #800000;">"</span>:<span style="color: #800080;">5000</span><span style="color: #000000;">,
    }
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">初始薪资</span><span style="color: #800000;">"</span><span style="color: #000000;">,salary)

    </span><span style="color: #008000;">//</span><span style="color: #008000;">调薪后</span>
    newSalary :=<span style="color: #000000;"> salary
    newSalary[</span><span style="color: #800000;">"</span><span style="color: #800000;">Daniel</span><span style="color: #800000;">"</span>] = <span style="color: #800080;">8000</span><span style="color: #000000;">
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">调薪后：</span><span style="color: #800000;">"</span><span style="color: #000000;"> , newSalary)
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">原始薪资salary是否受影响：</span><span style="color: #800000;">"</span><span style="color: #000000;"> , salary)

    </span><span style="color: #008000;">//</span><span style="color: #008000;">定期涨薪</span>
<span style="color: #000000;">    changeSalary(salary)
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">原始薪资salary是否受影响：</span><span style="color: #800000;">"</span><span style="color: #000000;"> , salary)
}

</span><span style="color: #008000;">//</span><span style="color: #008000;">定期涨薪</span>
func changeSalary(m map[<span style="color: #0000ff;">string</span><span style="color: #000000;">]float64) {
    </span><span style="color: #0000ff;">for</span> k :=<span style="color: #000000;">range m {
        m[k] </span>*= <span style="color: #800080;">1.1</span><span style="color: #000000;">
    }
}</span></pre>
</div>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>