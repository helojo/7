<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修GO基础之结构体' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>GO基础之结构体</center></div><div class='banquan'>原文出处:本文由博客园博主小禾点点提供。<br/>
原文连接:https://www.cnblogs.com/jalja/p/11795509.html</div><br>
    <pre><code><br /><span style="font-size: 15px;"><strong>1 、什么是结构体</strong> </span><br /><span style="font-size: 14px;">GO语言中数组可以存储同一类型的数据，但在结构体中我们可以为不同项定义不同的数据类型。结构体是由一系列具有相同类型或不同类型的数据构成的数据集合。</span></pre>
<p><strong>2、什么是实例化?</strong></p>
<ul>
<li>Go结构体的定义只是一种内存布局的描述,只有当结构体实例化时,才会真正分配内存。因此必须在定义结构体并实例化后才能使用结构体实例化就是根据结构体定义的格式创建一份与格式一致的內存区域。</li>
<li>结构体实例之间的内存是完全独立的。</li>
</ul>
<div class="cnblogs_code" onclick="cnblogs_code_show('9bf251d6-280d-4ea4-9244-bffa5483ae4a')"><img id="code_img_closed_9bf251d6-280d-4ea4-9244-bffa5483ae4a" class="code_img_closed" src="./images/GO基础之结构体0.png" alt="" /><img id="code_img_opened_9bf251d6-280d-4ea4-9244-bffa5483ae4a" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('9bf251d6-280d-4ea4-9244-bffa5483ae4a',event)" src="./images/GO基础之结构体1.png" alt="" />
<div id="cnblogs_code_open_9bf251d6-280d-4ea4-9244-bffa5483ae4a" class="cnblogs_code_hide">
<pre><code><span style="color: #000000;">package main

import </span><span style="color: #800000;">"</span><span style="color: #800000;">fmt</span><span style="color: #800000;">"</span><span style="color: #000000;">

func main() {
    </span><span style="color: #008000;">//</span><span style="color: #008000;">实例化方式一</span>
    <span style="color: #0000ff;">var</span><span style="color: #000000;"> stu1 Student
    fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">stu1=%T,%v,%q \n</span><span style="color: #800000;">"</span><span style="color: #000000;">, stu1, stu1, stu1)
    stu1.name </span>= <span style="color: #800000;">"</span><span style="color: #800000;">zs</span><span style="color: #800000;">"</span><span style="color: #000000;">
    stu1.age </span>= <span style="color: #800080;">12</span><span style="color: #000000;">
    stu1.sex </span>= <span style="color: #800080;">1</span><span style="color: #000000;">
    fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">stu1=%T,%v,%q \n</span><span style="color: #800000;">"</span><span style="color: #000000;">, stu1, stu1, stu1)
    </span><span style="color: #008000;">//</span><span style="color: #008000;">实例化方式二</span>
    stu2 :=<span style="color: #000000;"> Student{}
    stu2.name </span>= <span style="color: #800000;">"</span><span style="color: #800000;">David</span><span style="color: #800000;">"</span><span style="color: #000000;">
    stu2.age </span>= <span style="color: #800080;">33</span><span style="color: #000000;">
    stu2.sex </span>= <span style="color: #800080;">1</span><span style="color: #000000;">
    fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">stu2=%T,%v,%q \n</span><span style="color: #800000;">"</span><span style="color: #000000;">, stu2, stu2, stu2)
    </span><span style="color: #008000;">//</span><span style="color: #008000;">实例化方式三</span>
    stu3 :=<span style="color: #000000;"> Student{
        name: </span><span style="color: #800000;">"</span><span style="color: #800000;">Josh</span><span style="color: #800000;">"</span><span style="color: #000000;">,
        age:  </span><span style="color: #800080;">28</span><span style="color: #000000;">,
        sex:  </span><span style="color: #800080;">1</span><span style="color: #000000;">,
    }
    fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">stu3=%T,%v,%q \n</span><span style="color: #800000;">"</span><span style="color: #000000;">, stu3, stu3, stu3)
    </span><span style="color: #008000;">//</span><span style="color: #008000;">实例化四</span>
    stu4 := Student{<span style="color: #800000;">"</span><span style="color: #800000;">Ruby</span><span style="color: #800000;">"</span>, <span style="color: #800080;">30</span>, <span style="color: #800080;">0</span><span style="color: #000000;">}
    fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">stu3=%T,%v,%q \n</span><span style="color: #800000;">"</span><span style="color: #000000;">, stu4, stu4, stu4)
    </span><span style="color: #008000;">//</span><span style="color: #008000;">实例化五
    </span><span style="color: #008000;">//</span><span style="color: #008000;">使用内置函数new()对结构体进行实例化,结构体实例化后形成指针类型的结构体
    </span><span style="color: #008000;">//</span><span style="color: #008000;">&middot;new内置函数会分配内存。第一个参数是类型,而不是值,返回的值是指向该类型新分配的零值的指针。该函数用于创建某个类型的指针。</span>
    stu5 := <span style="color: #0000ff;">new</span><span style="color: #000000;">(Student)
    (</span>*stu5).name = <span style="color: #800000;">"</span><span style="color: #800000;">Running</span><span style="color: #800000;">"</span><span style="color: #000000;">
    (</span>*stu5).age = <span style="color: #800080;">31</span><span style="color: #000000;">
    stu5.sex </span>= <span style="color: #800080;">0</span>                                     <span style="color: #008000;">//</span><span style="color: #008000;">语法糖的方式</span>
    fmt.Printf(<span style="color: #800000;">"</span><span style="color: #800000;">stu3=%T,%v,%q \n</span><span style="color: #800000;">"</span>, stu5, stu5, stu5) <span style="color: #008000;">//</span><span style="color: #008000;">stu3=*main.Student,&amp;{Running 31 0},&amp;{"Running" '\x1f' '\x00'}</span>
<span style="color: #000000;">
}

</span><span style="color: #008000;">//</span><span style="color: #008000;">结构体的定义</span>
type Student <span style="color: #0000ff;">struct</span><span style="color: #000000;"> {
    name </span><span style="color: #0000ff;">string</span><span style="color: #000000;">
    age  </span><span style="color: #0000ff;">int</span><span style="color: #000000;">
    sex  int8
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p><strong>语法糖的概念( Syntactic sugar)</strong></p>
<ul>
<li>语法糖,也译为糖衣语法,是由英国计算机科学家彼得&middot;约翰&middot;兰达( PeterJ.Landin)发明的一个术语,指计算机语言中添加的某种语法,这种语法对语言的功能并没有影响,但是更方便程序员使用。</li>
<li>通常来说使用语法糖能够增加程序的可读性,从而减少程序代码岀错的机会</li>
<li>结构体和数组中都含有语法糖。</li>
</ul>
<div class="cnblogs_code" onclick="cnblogs_code_show('b76d24c8-693d-44c4-a464-a669843f9e65')"><img id="code_img_closed_b76d24c8-693d-44c4-a464-a669843f9e65" class="code_img_closed" src="./images/GO基础之结构体0.png" alt="" /><img id="code_img_opened_b76d24c8-693d-44c4-a464-a669843f9e65" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('b76d24c8-693d-44c4-a464-a669843f9e65',event)" src="./images/GO基础之结构体1.png" alt="" />
<div id="cnblogs_code_open_b76d24c8-693d-44c4-a464-a669843f9e65" class="cnblogs_code_hide">
<pre><code><span style="color: #000000;">package main

import </span><span style="color: #800000;">"</span><span style="color: #800000;">fmt</span><span style="color: #800000;">"</span><span style="color: #000000;">

func main() {
    arr :</span>= [<span style="color: #800080;">4</span>]<span style="color: #0000ff;">int</span>{<span style="color: #800080;">1</span>, <span style="color: #800080;">2</span>, <span style="color: #800080;">3</span>, <span style="color: #800080;">4</span><span style="color: #000000;">}
    arr2 :</span>= &amp;<span style="color: #000000;">arr
    fmt.Println((</span>*arr2)[<span style="color: #800080;">3</span><span style="color: #000000;">])
    </span><span style="color: #008000;">//</span><span style="color: #008000;">数组中的语法糖</span>
    fmt.Println(arr2[<span style="color: #800080;">3</span><span style="color: #000000;">])
    
    </span><span style="color: #008000;">//</span><span style="color: #008000;">切片</span>
    arr3 := []<span style="color: #0000ff;">int</span>{<span style="color: #800080;">10</span>, <span style="color: #800080;">20</span>, <span style="color: #800080;">30</span>, <span style="color: #800080;">40</span><span style="color: #000000;">}
    arr4 :</span>= &amp;<span style="color: #000000;">arr3
    fmt.Println((</span>*arr4)[<span style="color: #800080;">3</span><span style="color: #000000;">])
    </span><span style="color: #008000;">//</span><span style="color: #008000;">切片中没有语法糖
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fmt.Println(arr4[3])</span>
}</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<p><strong>3、结构体是值类型传递</strong></p>
<h3><strong>二、深拷贝与浅拷贝</strong></h3>
<p><strong>struct&nbsp;默认是深拷贝</strong></p>
<div class="cnblogs_code" onclick="cnblogs_code_show('e56e0bb9-df63-4c1c-a104-2d7f9b18988c')"><img id="code_img_closed_e56e0bb9-df63-4c1c-a104-2d7f9b18988c" class="code_img_closed" src="./images/GO基础之结构体0.png" alt="" /><img id="code_img_opened_e56e0bb9-df63-4c1c-a104-2d7f9b18988c" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('e56e0bb9-df63-4c1c-a104-2d7f9b18988c',event)" src="./images/GO基础之结构体1.png" alt="" />
<div id="cnblogs_code_open_e56e0bb9-df63-4c1c-a104-2d7f9b18988c" class="cnblogs_code_hide">
<pre><code><span style="color: #000000;">package main

import </span><span style="color: #800000;">"</span><span style="color: #800000;">fmt</span><span style="color: #800000;">"</span><span style="color: #000000;">

func main() {
    stu1 :</span>= Student{<span style="color: #800000;">"</span><span style="color: #800000;">zs</span><span style="color: #800000;">"</span>, <span style="color: #800080;">18</span>, <span style="color: #800080;">0</span><span style="color: #000000;">}
    fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">stu1:=%T,%p,%v \n</span><span style="color: #800000;">"</span>, stu1, &amp;<span style="color: #000000;">stu1, stu1)
    </span><span style="color: #008000;">//</span><span style="color: #008000;">stu1:=main.Student,0xc0000044a0,{zs 18 0}</span>
    stu2 :=<span style="color: #000000;"> stu1
    stu2.name </span>= <span style="color: #800000;">"</span><span style="color: #800000;">ls</span><span style="color: #800000;">"</span><span style="color: #000000;">
    fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">stu2:=%T,%p,%v \n</span><span style="color: #800000;">"</span>, stu2, &amp;<span style="color: #000000;">stu2, stu2)
    </span><span style="color: #008000;">//</span><span style="color: #008000;">stu2:=main.Student,0xc000004520,{ls 18 0}</span>
<span style="color: #000000;">    
    fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">stu1:=%T,%p,%v \n</span><span style="color: #800000;">"</span>, stu1, &amp;<span style="color: #000000;">stu1, stu1)
    </span><span style="color: #008000;">//</span><span style="color: #008000;">stu1:=main.Student,0xc0000044a0,{zs 18 0}
    </span><span style="color: #008000;">//</span><span style="color: #008000;">修改stu2对stu1没有任何影响</span>
<span style="color: #000000;">
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<p><strong>实现浅拷贝</strong></p>
<p>1、直接赋值指针地址</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('0d63a1df-9cd5-4695-af1d-7e5b92918101')"><img id="code_img_closed_0d63a1df-9cd5-4695-af1d-7e5b92918101" class="code_img_closed" src="./images/GO基础之结构体0.png" alt="" /><img id="code_img_opened_0d63a1df-9cd5-4695-af1d-7e5b92918101" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('0d63a1df-9cd5-4695-af1d-7e5b92918101',event)" src="./images/GO基础之结构体1.png" alt="" />
<div id="cnblogs_code_open_0d63a1df-9cd5-4695-af1d-7e5b92918101" class="cnblogs_code_hide">
<pre><code><span style="color: #000000;">package main

import </span><span style="color: #800000;">"</span><span style="color: #800000;">fmt</span><span style="color: #800000;">"</span><span style="color: #000000;">

func main() {
    stu1 :</span>= Student{<span style="color: #800000;">"</span><span style="color: #800000;">zs</span><span style="color: #800000;">"</span>, <span style="color: #800080;">18</span>, <span style="color: #800080;">0</span><span style="color: #000000;">}
    fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">stu1:=%T,%p,%v \n</span><span style="color: #800000;">"</span>, stu1, &amp;<span style="color: #000000;">stu1, stu1)
    </span><span style="color: #008000;">//</span><span style="color: #008000;">stu1:=main.Student,0xc00005a440,{zs 18 0}</span>
    stu2 := &amp;<span style="color: #000000;">stu1
    stu2.name </span>= <span style="color: #800000;">"</span><span style="color: #800000;">ls</span><span style="color: #800000;">"</span><span style="color: #000000;">
    fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">stu2:=%T,%p,%v \n</span><span style="color: #800000;">"</span><span style="color: #000000;">, stu2, stu2, stu2)
    </span><span style="color: #008000;">//</span><span style="color: #008000;">stu2:=*main.Student,0xc00005a440,&amp;{ls 18 0}</span>
<span style="color: #000000;">
    fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">stu1:=%T,%p,%v \n</span><span style="color: #800000;">"</span>, stu1, &amp;<span style="color: #000000;">stu1, stu1)
    </span><span style="color: #008000;">//</span><span style="color: #008000;">stu1:=main.Student,0xc00005a440,{ls 18 0}
    </span><span style="color: #008000;">//</span><span style="color: #008000;">修改stu2对stu1有影响</span>
}</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;2、实现结构体浅拷贝：通过new()函数来实例化对象</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('e4febf40-7483-4713-867e-92d799ee9b53')"><img id="code_img_closed_e4febf40-7483-4713-867e-92d799ee9b53" class="code_img_closed" src="./images/GO基础之结构体0.png" alt="" /><img id="code_img_opened_e4febf40-7483-4713-867e-92d799ee9b53" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('e4febf40-7483-4713-867e-92d799ee9b53',event)" src="./images/GO基础之结构体1.png" alt="" />
<div id="cnblogs_code_open_e4febf40-7483-4713-867e-92d799ee9b53" class="cnblogs_code_hide">
<pre><code><span style="color: #000000;">package main

import </span><span style="color: #800000;">"</span><span style="color: #800000;">fmt</span><span style="color: #800000;">"</span><span style="color: #000000;">

func main() {
    </span><span style="color: #008000;">//</span><span style="color: #008000;">3、实现结构体浅拷贝：通过new()函数来实例化对象</span>
    d4 := <span style="color: #0000ff;">new</span><span style="color: #000000;">(Dog)
    d4.name </span>= <span style="color: #800000;">"</span><span style="color: #800000;">多多</span><span style="color: #800000;">"</span><span style="color: #000000;">
    d4.color </span>= <span style="color: #800000;">"</span><span style="color: #800000;">棕色</span><span style="color: #800000;">"</span><span style="color: #000000;">
    d4.age </span>= <span style="color: #800080;">1</span><span style="color: #000000;">
    d4.kind </span>= <span style="color: #800000;">"</span><span style="color: #800000;">巴哥犬</span><span style="color: #800000;">"</span><span style="color: #000000;">
    d5 :</span>=<span style="color: #000000;"> d4
    fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">d4: %T , %v , %p \n</span><span style="color: #800000;">"</span><span style="color: #000000;">, d4, d4, d4)
    </span><span style="color: #008000;">//</span><span style="color: #008000;">d4: *main.Dog , &amp;{多多 棕色 1 巴哥犬} , 0xc000040080</span>
    fmt.Printf(<span style="color: #800000;">"</span><span style="color: #800000;">d5: %T , %v , %p \n</span><span style="color: #800000;">"</span><span style="color: #000000;">, d5, d5, d5)

    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">--------------------------------------</span><span style="color: #800000;">"</span><span style="color: #000000;">)

    d5.color </span>= <span style="color: #800000;">"</span><span style="color: #800000;">金色</span><span style="color: #800000;">"</span><span style="color: #000000;">
    d5.kind </span>= <span style="color: #800000;">"</span><span style="color: #800000;">金毛</span><span style="color: #800000;">"</span><span style="color: #000000;">
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">d5修改后：</span><span style="color: #800000;">"</span><span style="color: #000000;">, d5)
    </span><span style="color: #008000;">//</span><span style="color: #008000;">d5修改后： &amp;{多多 金色 1 金毛}</span>
    fmt.Println(<span style="color: #800000;">"</span><span style="color: #800000;">d4：</span><span style="color: #800000;">"</span><span style="color: #000000;">, d4)
    </span><span style="color: #008000;">//</span><span style="color: #008000;">d4： &amp;{多多 金色 1 金毛}</span>
<span style="color: #000000;">}

type Dog </span><span style="color: #0000ff;">struct</span><span style="color: #000000;"> {
    name  </span><span style="color: #0000ff;">string</span><span style="color: #000000;">
    color </span><span style="color: #0000ff;">string</span><span style="color: #000000;">
    age   int8
    kind  </span><span style="color: #0000ff;">string</span><span style="color: #000000;">
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<h3>&nbsp;三、struct做函数参数</h3>
<p>结构体对象或指针作为函数的参数及函数返回值</p>
<ul>
<li>结构体对象作为函数参数与结构体指针作为函数参数的不同</li>
<li>结构体对象作为函数返回值与结构体指针作为函数返回值的不同</li>
</ul>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3>四、匿名结构体和匿名字段</h3>
<p><strong>匿名结构体</strong></p>
<ul>
<li>&bull;没有名字的结构体。无需通过type关键字定义就可以直接使用。</li>
<li>&bull;在创建匿名结构体时，同时要创建对象。</li>
<li>&bull;匿名结构体由结构体定义和键值对初始化两部分组成</li>
</ul>
<div class="cnblogs_code">
<pre><code>    <span style="color: #008000;">//</span><span style="color: #008000;">匿名结构体</span>
    addr := <span style="color: #0000ff;">struct</span><span style="color: #000000;"> {
        province, city </span><span style="color: #0000ff;">string</span><span style="color: #000000;">
    }{</span><span style="color: #800000;">"</span><span style="color: #800000;">陕西省</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">西安市</span><span style="color: #800000;">"</span><span style="color: #000000;">}
    fmt.Println(addr)</span></pre>
</div>
<p><strong>结构体的匿名字段</strong><br />结构体中的字段没有名字，只包含一个没有字段名的类型。这些字段被称为匿名字段。</p>
<ul>
<li>&bull;如果字段没有名字，那么默认使用类型作为字段名。</li>
<li>&bull;注意：同一个类型只能写一个。</li>
<li>&bull;结构体嵌套中采用匿名结构体字段可以模拟继承关系。</li>

</ul>
<div class="cnblogs_code" onclick="cnblogs_code_show('0ca5a2b4-df14-46fe-8e29-c46125b04f01')"><img id="code_img_closed_0ca5a2b4-df14-46fe-8e29-c46125b04f01" class="code_img_closed" src="./images/GO基础之结构体0.png" alt="" /><img id="code_img_opened_0ca5a2b4-df14-46fe-8e29-c46125b04f01" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('0ca5a2b4-df14-46fe-8e29-c46125b04f01',event)" src="./images/GO基础之结构体1.png" alt="" />
<div id="cnblogs_code_open_0ca5a2b4-df14-46fe-8e29-c46125b04f01" class="cnblogs_code_hide">
<pre><code><span style="color: #000000;">package main

import </span><span style="color: #800000;">"</span><span style="color: #800000;">fmt</span><span style="color: #800000;">"</span><span style="color: #000000;">

type User </span><span style="color: #0000ff;">struct</span><span style="color: #000000;"> {
    </span><span style="color: #0000ff;">string</span>
    <span style="color: #0000ff;">byte</span><span style="color: #000000;">
    int8
    float64
}

func main() {
    </span><span style="color: #008000;">//</span><span style="color: #008000;">    实例化结构体</span>
    user:= User{<span style="color: #800000;">"</span><span style="color: #800000;">Steven</span><span style="color: #800000;">"</span> , <span style="color: #800000;">'</span><span style="color: #800000;">m</span><span style="color: #800000;">'</span> , <span style="color: #800080;">35</span> , <span style="color: #800080;">177.5</span><span style="color: #000000;">}
    fmt.Println(user)
    </span><span style="color: #008000;">//</span><span style="color: #008000;">如果想依次输出姓名、年龄、身高、性别</span>
    fmt.Printf(<span style="color: #800000;">"</span><span style="color: #800000;">姓名：%s \n</span><span style="color: #800000;">"</span> , user.<span style="color: #0000ff;">string</span><span style="color: #000000;">)
    fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">身高：%.2f \n</span><span style="color: #800000;">"</span><span style="color: #000000;"> , user.float64)
    fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">性别：%c \n</span><span style="color: #800000;">"</span> , user.<span style="color: #0000ff;">byte</span><span style="color: #000000;">)
    fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">年龄：%d \n</span><span style="color: #800000;">"</span><span style="color: #000000;"> , user.int8)
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<h3>五、结构体的聚合</h3>
<p>&bull;将一个结构体作为另一个结构体的属性（字段），这种结构就是结构体嵌套。<br />&bull;结构体嵌套可以模拟面向对象中的两种关系：</p>
<ul>
<li>〇聚合关系：一个类作为另_个类的属性</li>
<li>〇继承关系：一个类作为另一个类的子类。子类和父类。</li>

</ul>
<div class="cnblogs_code" onclick="cnblogs_code_show('13636a16-48a7-43a6-bf43-a1e2dcaba883')"><img id="code_img_closed_13636a16-48a7-43a6-bf43-a1e2dcaba883" class="code_img_closed" src="./images/GO基础之结构体0.png" alt="" /><img id="code_img_opened_13636a16-48a7-43a6-bf43-a1e2dcaba883" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('13636a16-48a7-43a6-bf43-a1e2dcaba883',event)" src="./images/GO基础之结构体1.png" alt="" />
<div id="cnblogs_code_open_13636a16-48a7-43a6-bf43-a1e2dcaba883" class="cnblogs_code_hide">
<pre><code><span style="color: #000000;">package main

import </span><span style="color: #800000;">"</span><span style="color: #800000;">fmt</span><span style="color: #800000;">"</span><span style="color: #000000;">

type Address </span><span style="color: #0000ff;">struct</span><span style="color: #000000;"> {
    province, city </span><span style="color: #0000ff;">string</span><span style="color: #000000;">
}

type Person </span><span style="color: #0000ff;">struct</span><span style="color: #000000;"> {
    name    </span><span style="color: #0000ff;">string</span><span style="color: #000000;">
    age     </span><span style="color: #0000ff;">int</span><span style="color: #000000;">
    address </span>*<span style="color: #000000;">Address
}

func main() {
    </span><span style="color: #008000;">//</span><span style="color: #008000;">模拟结构体对象之间的聚合关系</span>
    p :=<span style="color: #000000;"> Person{}
    p.name </span>= <span style="color: #800000;">"</span><span style="color: #800000;">Steven</span><span style="color: #800000;">"</span><span style="color: #000000;">
    p.age </span>= <span style="color: #800080;">35</span>

    <span style="color: #008000;">//</span><span style="color: #008000;">赋值方式1：</span>
    addr :=<span style="color: #000000;"> Address{}
    addr.province </span>= <span style="color: #800000;">"</span><span style="color: #800000;">北京市</span><span style="color: #800000;">"</span><span style="color: #000000;">
    addr.city </span>= <span style="color: #800000;">"</span><span style="color: #800000;">海淀区</span><span style="color: #800000;">"</span><span style="color: #000000;">
    p.address </span>= &amp;<span style="color: #000000;">addr

    fmt.Println(p)
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">姓名：</span><span style="color: #800000;">"</span><span style="color: #000000;">, p.name)
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">年龄：</span><span style="color: #800000;">"</span><span style="color: #000000;">, p.age)
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">省：</span><span style="color: #800000;">"</span><span style="color: #000000;">, p.address.province)
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">市：</span><span style="color: #800000;">"</span><span style="color: #000000;">, p.address.city)
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">-----------------------</span><span style="color: #800000;">"</span><span style="color: #000000;">)

    </span><span style="color: #008000;">//</span><span style="color: #008000;">修改Person对象的数据，是否会影响Address对象的数据？</span>
    p.address.city = <span style="color: #800000;">"</span><span style="color: #800000;">昌平区</span><span style="color: #800000;">"</span><span style="color: #000000;">
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">姓名：</span><span style="color: #800000;">"</span><span style="color: #000000;">, p.name)
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">年龄：</span><span style="color: #800000;">"</span><span style="color: #000000;">, p.age)
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">省：</span><span style="color: #800000;">"</span><span style="color: #000000;">, p.address.province)
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">市：</span><span style="color: #800000;">"</span><span style="color: #000000;">, p.address.city)
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">addr市：</span><span style="color: #800000;">"</span>, addr.city) <span style="color: #008000;">//</span><span style="color: #008000;">?是否会受到影响？</span>
    fmt.Println(<span style="color: #800000;">"</span><span style="color: #800000;">-----------------------</span><span style="color: #800000;">"</span><span style="color: #000000;">)

    </span><span style="color: #008000;">//</span><span style="color: #008000;">修改Address对象的数据，是否会影响Person对象的数据？</span>
    addr.city = <span style="color: #800000;">"</span><span style="color: #800000;">大兴区</span><span style="color: #800000;">"</span><span style="color: #000000;">
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">姓名：</span><span style="color: #800000;">"</span><span style="color: #000000;">, p.name)
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">年龄：</span><span style="color: #800000;">"</span><span style="color: #000000;">, p.age)
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">省：</span><span style="color: #800000;">"</span><span style="color: #000000;">, p.address.province)
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">市：</span><span style="color: #800000;">"</span><span style="color: #000000;">, p.address.city)
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">addr市：</span><span style="color: #800000;">"</span>, addr.city) <span style="color: #008000;">//</span><span style="color: #008000;">?是否会受到影响？</span>
    fmt.Println(<span style="color: #800000;">"</span><span style="color: #800000;">-----------------------</span><span style="color: #800000;">"</span><span style="color: #000000;">)

    </span><span style="color: #008000;">//</span><span style="color: #008000;">赋值方式2</span>
    p.address = &amp;<span style="color: #000000;">Address{
        province: </span><span style="color: #800000;">"</span><span style="color: #800000;">陕西省</span><span style="color: #800000;">"</span><span style="color: #000000;">,
        city:     </span><span style="color: #800000;">"</span><span style="color: #800000;">西安市</span><span style="color: #800000;">"</span><span style="color: #000000;">,
    }
    fmt.Println(p)
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">姓名：</span><span style="color: #800000;">"</span><span style="color: #000000;">, p.name)
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">年龄：</span><span style="color: #800000;">"</span><span style="color: #000000;">, p.age)
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">省：</span><span style="color: #800000;">"</span><span style="color: #000000;">, p.address.province)
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">市：</span><span style="color: #800000;">"</span><span style="color: #000000;">, p.address.city)
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">-----------------------</span><span style="color: #800000;">"</span><span style="color: #000000;">)
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<h3><strong>六、结构体嵌套模拟继承关系</strong></h3>
<p>&bull;继承是传统面向对象编程中三大特征之一。用于描述两个类之间的关系。一个类（子类、派生类）继承于另一个类（父类、超类）。<br />&bull;子类可以有自己的属性和方法，也可以重写父类已有的方法。<br />&bull;子类可以直接访问父类所有的属性和方法。<br />&bull;提升字段：<br />	　　〇在结构体中属于匿名结构体的字段称为提升字段，因为它们可以被访问，就好像它们属于拥有匿名结构字段的结构一样。<br />	　　〇换句话说，父类中的字段就是提升字段。<br />&bull;继承的意义：避免重复代码、扩展类的功能<br />&bull;采用匿名字段的形式就是模拟继承关系。而模拟聚合关系时一定要采用有名字的结构体作为字段</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('c0cc434f-8249-4257-a198-a9c72289161b')"><img id="code_img_closed_c0cc434f-8249-4257-a198-a9c72289161b" class="code_img_closed" src="./images/GO基础之结构体0.png" alt="" /><img id="code_img_opened_c0cc434f-8249-4257-a198-a9c72289161b" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('c0cc434f-8249-4257-a198-a9c72289161b',event)" src="./images/GO基础之结构体1.png" alt="" />
<div id="cnblogs_code_open_c0cc434f-8249-4257-a198-a9c72289161b" class="cnblogs_code_hide">
<pre><code><span style="color: #000000;">package main

import (
    </span><span style="color: #800000;">"</span><span style="color: #800000;">fmt</span><span style="color: #800000;">"</span><span style="color: #000000;">
)

type Person </span><span style="color: #0000ff;">struct</span><span style="color: #000000;"> {
    name </span><span style="color: #0000ff;">string</span><span style="color: #000000;">
    age  </span><span style="color: #0000ff;">int</span><span style="color: #000000;">
    sex  </span><span style="color: #0000ff;">string</span><span style="color: #000000;">
}

type Student </span><span style="color: #0000ff;">struct</span><span style="color: #000000;"> {
    Person
    schoolName </span><span style="color: #0000ff;">string</span><span style="color: #000000;">
}

func main() {
    </span><span style="color: #008000;">//</span><span style="color: #008000;">1、实例化并初始化Person</span>
    p1 := Person{<span style="color: #800000;">"</span><span style="color: #800000;">Steven</span><span style="color: #800000;">"</span>, <span style="color: #800080;">35</span>, <span style="color: #800000;">"</span><span style="color: #800000;">男</span><span style="color: #800000;">"</span><span style="color: #000000;">}
    fmt.Println(p1)
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">-------------------</span><span style="color: #800000;">"</span><span style="color: #000000;">)

    </span><span style="color: #008000;">//</span><span style="color: #008000;">2、实例化并初始化Student
    </span><span style="color: #008000;">//</span><span style="color: #008000;">    写法1：</span>
    s1 := Student{p1, <span style="color: #800000;">"</span><span style="color: #800000;">北航软件学院</span><span style="color: #800000;">"</span><span style="color: #000000;">}
    printInfo(s1)

    </span><span style="color: #008000;">//</span><span style="color: #008000;">写法2：</span>
    s2 := Student{Person{<span style="color: #800000;">"</span><span style="color: #800000;">Josh</span><span style="color: #800000;">"</span>, <span style="color: #800080;">30</span>, <span style="color: #800000;">"</span><span style="color: #800000;">男</span><span style="color: #800000;">"</span>}, <span style="color: #800000;">"</span><span style="color: #800000;">北外高翻学院</span><span style="color: #800000;">"</span><span style="color: #000000;">}
    printInfo(s2)

    </span><span style="color: #008000;">//</span><span style="color: #008000;">写法3：</span>
    s3 :=<span style="color: #000000;"> Student{Person: Person{
        name: </span><span style="color: #800000;">"</span><span style="color: #800000;">Penn</span><span style="color: #800000;">"</span><span style="color: #000000;">,
        age:  </span><span style="color: #800080;">19</span><span style="color: #000000;">,
        sex:  </span><span style="color: #800000;">"</span><span style="color: #800000;">男</span><span style="color: #800000;">"</span><span style="color: #000000;">,
    },
        schoolName: </span><span style="color: #800000;">"</span><span style="color: #800000;">北大元培学院</span><span style="color: #800000;">"</span><span style="color: #000000;">,
    }
    printInfo(s3)

    </span><span style="color: #008000;">//</span><span style="color: #008000;">    写法4：</span>
    s4 :=<span style="color: #000000;"> Student{}
    s4.name </span>= <span style="color: #800000;">"</span><span style="color: #800000;">Daniel</span><span style="color: #800000;">"</span><span style="color: #000000;">
    s4.sex </span>= <span style="color: #800000;">"</span><span style="color: #800000;">男</span><span style="color: #800000;">"</span><span style="color: #000000;">
    s4.age </span>= <span style="color: #800080;">12</span><span style="color: #000000;">
    s4.schoolName </span>= <span style="color: #800000;">"</span><span style="color: #800000;">北京十一龙樾</span><span style="color: #800000;">"</span><span style="color: #000000;">
    printInfo(s4)

}

func printInfo(s1 Student) {
    fmt.Println(s1)
    fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%+v \n</span><span style="color: #800000;">"</span><span style="color: #000000;">, s1)
    fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">姓名：%s， 年龄：%d ， 性别：%s ，学校：%s \n</span><span style="color: #800000;">"</span><span style="color: #000000;">, s1.name, s1.age, s1.sex, s1.schoolName)
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">-------------------</span><span style="color: #800000;">"</span><span style="color: #000000;">)
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<h3>七、结构体中的方法</h3>
<p>&nbsp;</p>
<p>&bull; Go语言同时有函数和方法，方法的本质是函数，但是方法和函数又具有不同点。<br />1、 含义不同<br />&bull;函数function是一段具有独立功能的代码，可以被反复多次调用，从而实现代码复用。而方法method是一个类的行为功能，只有该类的对象才能调用。<br />2、 方法有接受者，而函数无接受者<br />&bull; Go语言的方法methods&mdash;种作用于特定类型变量的函数。这种特定类型变量叫做Receiver (接受者、接收者、接收器）。<br />&bull;接受者的概念类似于传统面向对象语言中的this或self关键字。<br />&bull; Go语言的接受者强调了方法具有作用对象，而函数没有作用对象。<br />&bull;&mdash;个方法就是一个包含了接受者的函数。<br />&bull; Go语言中，接受者的类型可以是任何类型，不仅仅是结构体，也可以是struct类型外的其他任何类型。<br />3、 函数不可以重名，而方法可以重名<br />&bull;只要接受者不同，则方法名可以一样。</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('40af879b-9262-44ef-a923-483dc58d473b')"><img id="code_img_closed_40af879b-9262-44ef-a923-483dc58d473b" class="code_img_closed" src="./images/GO基础之结构体0.png" alt="" /><img id="code_img_opened_40af879b-9262-44ef-a923-483dc58d473b" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('40af879b-9262-44ef-a923-483dc58d473b',event)" src="./images/GO基础之结构体1.png" alt="" />
<div id="cnblogs_code_open_40af879b-9262-44ef-a923-483dc58d473b" class="cnblogs_code_hide">
<pre><code><span style="color: #000000;">package main

import </span><span style="color: #800000;">"</span><span style="color: #800000;">fmt</span><span style="color: #800000;">"</span><span style="color: #000000;">
import </span><span style="color: #800000;">"</span><span style="color: #800000;">base</span><span style="color: #800000;">"</span><span style="color: #000000;">
type Employee </span><span style="color: #0000ff;">struct</span><span style="color: #000000;"> {
    name , currency </span><span style="color: #0000ff;">string</span><span style="color: #000000;">
    salary float64
}
func main() {
    emp1 :</span>= Employee{<span style="color: #800000;">"</span><span style="color: #800000;">Daniel</span><span style="color: #800000;">"</span> , <span style="color: #800000;">"</span><span style="color: #800000;">$</span><span style="color: #800000;">"</span> , <span style="color: #800080;">2000</span><span style="color: #000000;">}
    emp1.printSalary()</span><span style="color: #008000;">//</span><span style="color: #008000;">员工姓名：Daniel ，薪资：$2000.00 </span>
    emp1.updateSalary(<span style="color: #800080;">1000</span><span style="color: #000000;">)
    emp1.printSalary()</span><span style="color: #008000;">//</span><span style="color: #008000;">员工姓名：Daniel ，薪资：$1000.00 </span>
<span style="color: #000000;">}

</span><span style="color: #008000;">//</span><span style="color: #008000;">printSalary方法</span>
<span style="color: #000000;">func (e Employee) printSalary() {
    fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">员工姓名：%s ，薪资：%s%.2f \n</span><span style="color: #800000;">"</span><span style="color: #000000;">, e.name , e.currency , e.salary)
}
func (e </span>*<span style="color: #000000;">Employee) updateSalary(num float64)  {
    e.salary</span>=<span style="color: #000000;">num
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p><strong>方法的继承与重写</strong></p>
<div class="cnblogs_code" onclick="cnblogs_code_show('e658c3b5-5305-4270-b801-0a84f38b67b4')"><img id="code_img_closed_e658c3b5-5305-4270-b801-0a84f38b67b4" class="code_img_closed" src="./images/GO基础之结构体0.png" alt="" /><img id="code_img_opened_e658c3b5-5305-4270-b801-0a84f38b67b4" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('e658c3b5-5305-4270-b801-0a84f38b67b4',event)" src="./images/GO基础之结构体1.png" alt="" />
<div id="cnblogs_code_open_e658c3b5-5305-4270-b801-0a84f38b67b4" class="cnblogs_code_hide">
<pre><code><span style="color: #000000;">package main

import </span><span style="color: #800000;">"</span><span style="color: #800000;">fmt</span><span style="color: #800000;">"</span><span style="color: #000000;">
import </span><span style="color: #800000;">"</span><span style="color: #800000;">base</span><span style="color: #800000;">"</span><span style="color: #000000;">

type Human </span><span style="color: #0000ff;">struct</span><span style="color: #000000;"> {
    name, phone </span><span style="color: #0000ff;">string</span><span style="color: #000000;">
    age         </span><span style="color: #0000ff;">int</span><span style="color: #000000;">
}

type Student </span><span style="color: #0000ff;">struct</span><span style="color: #000000;"> {
    Human
    school </span><span style="color: #0000ff;">string</span><span style="color: #000000;">
}

type Employee </span><span style="color: #0000ff;">struct</span><span style="color: #000000;"> {
    Human
    company </span><span style="color: #0000ff;">string</span><span style="color: #000000;">
}

func main() {
    s1 :</span>= Student{Human{<span style="color: #800000;">"</span><span style="color: #800000;">Daniel</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">15012345678</span><span style="color: #800000;">"</span>, <span style="color: #800080;">13</span>}, <span style="color: #800000;">"</span><span style="color: #800000;">十一龙樾</span><span style="color: #800000;">"</span><span style="color: #000000;">}
    e1 :</span>= Employee{Human{<span style="color: #800000;">"</span><span style="color: #800000;">Steven</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">17812345678</span><span style="color: #800000;">"</span>, <span style="color: #800080;">35</span>}, <span style="color: #800000;">"</span><span style="color: #800000;">1000phone</span><span style="color: #800000;">"</span><span style="color: #000000;">}
    s1.printName()
    e1.printName()
    s1.SayHi()
    e1.SayHi()
}
</span><span style="color: #008000;">//</span><span style="color: #008000;">======================方法的继承=============================</span>
func (h *<span style="color: #000000;">Human) printName() {
    fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">大家好！我是%s </span><span style="color: #800000;">"</span><span style="color: #000000;">, h.name)
}

</span><span style="color: #008000;">//</span><span style="color: #008000;">=====================方法的重写=============================</span>
func (h *<span style="color: #000000;">Human) SayHi() {
    fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">大家好！我是%s ， 我%d岁 ， 联系方式：%s \n</span><span style="color: #800000;">"</span><span style="color: #000000;">, h.name, h.age, h.phone)
}

func (s </span>*<span style="color: #000000;">Student) SayHi() {
    fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">大家好！我是%s ， 我%d岁 ， 我在%s上学，联系方式：%s \n</span><span style="color: #800000;">"</span><span style="color: #000000;">, s.name, s.age, s.school, s.phone)
}

func (e </span>*<span style="color: #000000;">Employee) SayHi() {
    fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">大家好！我是%s ， 我%d岁 ， 我在%s工作，联系方式：%s \n</span><span style="color: #800000;">"</span><span style="color: #000000;">, e.name, e.age, e.company, e.phone)
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>