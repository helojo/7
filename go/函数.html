<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修函数' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>函数</center></div><div class='banquan'>原文出处:本文由博客园博主j_x_x提供。<br/>
原文连接:https://www.cnblogs.com/jiangxiangxiang/p/10917594.html</div><br>
    <ul>
<li><p>声明</p>
<pre><code><code>func funcName(input1 type1, input2 type2) (output1 type1, output2 type2) {
  //逻辑代码
  //支持返回多个值
  return value1, value2
}

//多个返回值
func SumAndProduct(A, B int) (int, int) {
  return A+B, A*B//直接返回了两个参数
}

//也可以命名返回参数的变量，然后返回的时候不用带上变量名，因为直接在函数里面初始化了。
func SumAndProduct(A, B int) (add int, Multiplied int) {
  add = A+B
  Multiplied = A*B
  return//返回的时候不用带上变量名，直接在函数里面初始化了
}</code></pre></li>
<li><p>变参</p>
<p>接受变参的函数是有着不定数量的参数的。定义函数使其接受变参：</p>
<pre><code><code>func myfunc(arg ...int) {}
//arg ...int告诉Go这个函数接受不定数量的参数**。
//注意，这些参数的类型全部是int。
//在函数体中，变量arg是一个int的slice</code></pre></li>
<li><p>defer延迟语句</p>
<p>在defer后指定的函数会在函数退出前调用。你可以在函数中添加多个defer语句。当函数执行到最后时，这些defer语句会按照逆序执行，最后该函数返回。</p>
<pre><code><code>for i := 0; i &lt; 5; i++ {
  defer fmt.Printf(&quot;%d &quot;, i)
}
//defer是采用后进先出模式，所以会输出4 3 2 1 0</code></pre></li>
<li><p>函数作为值、类型</p>
<ul>
<li><p>在Go中函数也是一种变量，我们可以通过type来定义它，它的类型就是所有拥有相同的参数，相同的返回值的一种类型</p></li>
<li><pre><code><code>type typeName func(input1 inputType1 , input2 inputType2 [, ...]) (result1 resultType1 [, ...])</code></pre></li>
<li><p>函数作为类型到底有什么好处呢？那就是可以把这个类型的函数当做值来传递</p>
<pre><code><code>type testInt func(int) bool // 声明了一个函数类型

func isOdd(integer int) bool {
  if integer%2 == 0 {
    return false
  }
  return true
}

// 声明的函数类型在这个地方当做了一个参数
func filter(slice []int, f testInt) []int {
  var result []int
  for _, value := range slice {
    if f(value) {
      result = append(result, value)
    }
  }

  return result
}

func main(){
  slice := []int {1, 2, 3, 4, 5, 7}
    odd := filter(slice, isOdd)    // isodd函数当做值来传递了
    fmt.Println(&quot;Odd elements of slice are: &quot;, odd)
}

//函数当做值和类型在我们写一些通用接口的时候非常有用，
//通过上面例子我们看到testInt这个类型是一个函数类型
//我们可以实现很多种的逻辑，这样使得我们的程序变得非常的灵活。</code></pre></li>
</ul></li>
</ul>
<p>参考书籍：<a href="https://github.com/astaxie/build-web-application-with-golang/blob/master/zh/preface.md" class="uri">https://github.com/astaxie/build-web-application-with-golang/blob/master/zh/preface.md</a></p>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>