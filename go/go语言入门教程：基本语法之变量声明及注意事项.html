<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修go语言入门教程：基本语法之变量声明及注意事项' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>go语言入门教程：基本语法之变量声明及注意事项</center></div><div class='banquan'>原文出处:本文由博客园博主千锋程序员日记提供。<br/>
原文连接:https://www.cnblogs.com/coffees/p/10788730.html</div><br>
    <div class="Post-RichTextContainer">
<div class="RichText ztext Post-RichText">
<h2>一、变量的使用</h2>
<h3>1.1 什么是变量</h3>
<p>变量是为存储特定类型的值而提供给内存位置的名称。在go中声明变量有多种语法。</p>
<p>所以变量的本质就是一小块内存，用于存储数据，在程序运行过程中数值可以改变</p>
<h3>1.2 声明变量</h3>
<p>var名称类型是声明单个变量的语法。</p>
<blockquote>以字母或下划线开头，由一个或多个字母、数字、下划线组成</blockquote>
<p>声明一个变量</p>
<p>第一种，指定变量类型，声明后若不赋值，使用默认值</p>
<div class="highlight">
<div class="cnblogs_Highlighter">
<pre><code>var name type
name = value</pre>
</div>
</div>
<p>第二种，根据值自行判定变量类型(类型推断Type inference)</p>
<p>如果一个变量有一个初始值，Go将自动能够使用初始值来推断该变量的类型。因此，如果变量具有初始值，则可以省略变量声明中的类型。</p>
<div class="highlight">
<div class="cnblogs_Highlighter">
<pre><code>var name = value</pre>
</div>
</div>
<p>第三种，省略var, 注意 :=左侧的变量不应该是已经声明过的(多个变量同时声明时，至少保证一个是新变量)，否则会导致编译错误(简短声明)</p>
<div class="highlight">
<div class="cnblogs_Highlighter">
<pre><code>name := value
​
// 例如
var a int = 10
var b = 10
c : = 10</pre>
</div>
</div>
<blockquote>这种方式它只能被用在函数体内，而不可以用于全局变量的声明与赋值</blockquote>
<p>示例代码：</p>
<div class="highlight">
<div class="cnblogs_Highlighter">
<pre><code>package main
var a = "Hello"
var b string = "World"
var c bool
​
func main(){
    println(a, b, c)
}</pre>
</div>
</div>
<p>运行结果：</p>
<div class="highlight">
<div class="cnblogs_Highlighter">
<pre><code>Hello World false</pre>
</div>
</div>
<h3>多变量声明</h3>
<p>第一种，以逗号分隔，声明与赋值分开，若不赋值，存在默认值</p>
<div class="highlight">
<div class="cnblogs_Highlighter">
<pre><code>var name1, name2, name3 type
name1, name2, name3 = v1, v2, v3</pre>
</div>
</div>
<p>第二种，直接赋值，下面的变量类型可以是不同的类型</p>
<div class="highlight">
<div class="cnblogs_Highlighter">
<pre><code>var name1, name2, name3 = v1, v2, v3</pre>
</div>
</div>
<p>第三种，集合类型</p>
<div class="highlight">
<div class="cnblogs_Highlighter">
<pre><code>var (
    name1 type1
    name2 type2
)</pre>
</div>
</div>
<h3>1.3 注意事项</h3>
<ul>
<li>变量必须先定义才能使用</li>
<li>go语言是静态语言，要求变量的类型和赋值的类型必须一致。</li>
<li>变量名不能冲突。(同一个作用于域内不能冲突)</li>
<li>简短定义方式，左边的变量名至少有一个是新的</li>
<li>简短定义方式，不能定义全局变量。</li>
<li>变量的零值。也叫默认值。</li>
<li>变量定义了就要使用，否则无法通过编译。</li>
</ul>
<p>如果在相同的代码块中，我们不可以再次对于相同名称的变量使用初始化声明，例如：a := 20 就是不被允许的，编译器会提示错误 no new variables on left side of :=，但是 a = 20 是可以的，因为这是给相同的变量赋予一个新的值。</p>
<p>如果你在定义变量 a 之前使用它，则会得到编译错误 undefined: a。如果你声明了一个局部变量却没有在相同的代码块中使用它，同样会得到编译错误，例如下面这个例子当中的变量 a：</p>
<div class="highlight">
<div class="cnblogs_Highlighter">
<pre><code>func main() {
   var a string = "abc"
   fmt.Println("hello, world")
}</pre>
</div>
</div>
<p>尝试编译这段代码将得到错误 a declared and not used</p>
<p>此外，单纯地给 a 赋值也是不够的，这个值必须被使用，所以使用</p>
<p>在同一个作用域中，已存在同名的变量，则之后的声明初始化，则退化为赋值操作。但这个前提是，最少要有一个新的变量被定义，且在同一作用域，例如，下面的y就是新定义的变量</p>
<div class="highlight">
<div class="cnblogs_Highlighter">
<pre><code>package main
​
import (
    "fmt"
)
​
func main() {
    x := 140
    fmt.Println(&amp;x)
    x, y := 200, "abc"
    fmt.Println(&amp;x, x)
    fmt.Print(y)
}</pre>
</div>
</div>
<p>运行结果：</p>
<div class="highlight">
<div class="cnblogs_Highlighter">
<pre><code>0xc04200a2b0
0xc04200a2b0 200
abc</pre>
</div>
</div>
<p>&nbsp;</p>
</div>
</div>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>