<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修GO基础之文件操作' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>GO基础之文件操作</center></div><div class='banquan'>原文出处:本文由博客园博主小禾点点提供。<br/>
原文连接:https://www.cnblogs.com/jalja/p/11854152.html</div><br>
    <h3>一、文件操作的基本API</h3>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">func main() {
    </span><span style="color: #008000;">//</span><span style="color: #008000;">绝对路径</span>
    fileInfo , err := os.Stat(<span style="color: #800000;">"</span><span style="color: #800000;">E:/a.txt</span><span style="color: #800000;">"</span><span style="color: #000000;">)
    fileInfo , err </span>= os.Stat(<span style="color: #800000;">"</span><span style="color: #800000;">E:/</span><span style="color: #800000;">"</span><span style="color: #000000;">)
    </span><span style="color: #0000ff;">if</span> err !=<span style="color: #000000;">nil {
        fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">err:</span><span style="color: #800000;">"</span><span style="color: #000000;"> , err.Error())
    } </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
        fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%T \n</span><span style="color: #800000;">"</span><span style="color: #000000;"> , fileInfo)
        fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%v \n</span><span style="color: #800000;">"</span><span style="color: #000000;"> , fileInfo)
        </span><span style="color: #008000;">//</span><span style="color: #008000;">文件名</span>
<span style="color: #000000;">        fmt.Println(fileInfo.Name())
        </span><span style="color: #008000;">//</span><span style="color: #008000;">是否是目录</span>
<span style="color: #000000;">        fmt.Println(fileInfo.IsDir())
        </span><span style="color: #008000;">//</span><span style="color: #008000;">文件尺寸大小</span>
<span style="color: #000000;">        fmt.Println(fileInfo.Size())
        </span><span style="color: #008000;">//</span><span style="color: #008000;">mode 权限</span>
<span style="color: #000000;">        fmt.Println(fileInfo.Mode())
        </span><span style="color: #008000;">//</span><span style="color: #008000;">文件最后修改时间</span>
<span style="color: #000000;">        fmt.Println(fileInfo.ModTime())
    }
}</span></pre>
</div>
<p><strong>文件路径：</strong></p>
<ul>
<li>1、绝对路径：absolute</li>
<li>2、相对路径：relative 都是相当于当前的工程&nbsp; (<strong>.</strong>当前目录&nbsp; &nbsp;<strong>..</strong>上一层)</li>
</ul>
<p>（1）、判断是否是绝对路径filepath.IsAbs()<br />	（2）、获取相对路径filepath.Rel()<br />	（3）、获取绝对路径filepath.Abs()<br />	（4）、拼接路径path.Join(）</p>
<p><strong>文件操作：</strong><br />		1.创建文件夹,如果文件夹存在，创建失败</p>
<ul>
<li>			os.MKdir()</li>
<li>			os.MKdirAll()</li>

</ul>
<p>		2.创建文件：如果文件存在，会覆盖</p>
<ul>
<li>			os.Create()--&gt;*file</li>

</ul>
<p>		3.打开文件：</p>
<ul>
<li>			os.Open(filename)</li>
<li>			os.OpenFile(filename,mode,perm)</li>

</ul>
<p>		4.关闭文件：</p>
<ul>
<li>			file.Close()</li>

</ul>
<p>		5.删除：</p>
<ul>
<li>			os.Remove()</li>
<li>			os.RemoveAll()</li>

</ul>
<div class="cnblogs_code" onclick="cnblogs_code_show('832b2601-baa1-4f7b-b272-5221d350be56')"><img id="code_img_closed_832b2601-baa1-4f7b-b272-5221d350be56" class="code_img_closed" src="./images/GO基础之文件操作0.png" alt="" /><img id="code_img_opened_832b2601-baa1-4f7b-b272-5221d350be56" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('832b2601-baa1-4f7b-b272-5221d350be56',event)" src="./images/GO基础之文件操作1.png" alt="" />
<div id="cnblogs_code_open_832b2601-baa1-4f7b-b272-5221d350be56" class="cnblogs_code_hide">
<pre><code><span style="color: #000000;">package main

import (
    </span><span style="color: #800000;">"</span><span style="color: #800000;">os</span><span style="color: #800000;">"</span>
    <span style="color: #800000;">"</span><span style="color: #800000;">fmt</span><span style="color: #800000;">"</span><span style="color: #000000;">
)

func main() {
    </span><span style="color: #008000;">/*</span><span style="color: #008000;">
    文件操作：
        1.创建文件夹,如果文件夹存在，创建失败
            os.MKdir()
            os.MKdirAll()

        2.创建文件：如果文件存在，会覆盖
            os.Create()--&gt;*file

        3.打开文件：
            os.Open(filename)
            os.OpenFile(filename,mode,perm)
        4.关闭文件：
            file.Close()
        5.删除：
            os.Remove()
            os.RemoveAll()
     </span><span style="color: #008000;">*/</span>
    <span style="color: #008000;">//</span><span style="color: #008000;">     1、创建目录</span>
    fileName1 := <span style="color: #800000;">"</span><span style="color: #800000;">./test1</span><span style="color: #800000;">"</span><span style="color: #000000;">
    err :</span>=<span style="color: #000000;"> os.Mkdir(fileName1, os.ModePerm)
    </span><span style="color: #0000ff;">if</span> err !=<span style="color: #000000;"> nil {
        fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">err:</span><span style="color: #800000;">"</span><span style="color: #000000;">, err.Error())
    } </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
        fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s 目录创建成功！\n</span><span style="color: #800000;">"</span><span style="color: #000000;">, fileName1)
    }

    fileName2 :</span>= <span style="color: #800000;">"</span><span style="color: #800000;">./test2/abc/xyz</span><span style="color: #800000;">"</span><span style="color: #000000;">
    err </span>=<span style="color: #000000;"> os.MkdirAll(fileName2, os.ModePerm)
    </span><span style="color: #0000ff;">if</span> err !=<span style="color: #000000;"> nil {
        fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">err:</span><span style="color: #800000;">"</span><span style="color: #000000;">, err.Error())
    } </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
        fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s 目录创建成功！\n</span><span style="color: #800000;">"</span><span style="color: #000000;">, fileName2)
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;">2、创建文件.如果文件已经存在，则文件被覆盖</span>
    fileName3 := <span style="color: #800000;">"</span><span style="color: #800000;">./test1/abc.txt</span><span style="color: #800000;">"</span><span style="color: #000000;">
    file1, err :</span>=<span style="color: #000000;"> os.Create(fileName3)
    </span><span style="color: #0000ff;">if</span> err !=<span style="color: #000000;"> nil {
        fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">err:</span><span style="color: #800000;">"</span><span style="color: #000000;">, err.Error())
    } </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
        fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s 创建成功！%v \n</span><span style="color: #800000;">"</span><span style="color: #000000;">, fileName3, file1)
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;">    3、打开文件</span>
    file2, err :=<span style="color: #000000;"> os.Open(fileName3)
    </span><span style="color: #0000ff;">if</span> err !=<span style="color: #000000;"> nil {
        fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">err:</span><span style="color: #800000;">"</span><span style="color: #000000;">, err.Error())
    } </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
        fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s 打开成功！%v \n</span><span style="color: #800000;">"</span><span style="color: #000000;">, fileName3, file2)
    }

    </span><span style="color: #008000;">/*</span><span style="color: #008000;">
    第一个参数：文件名称
    第二个参数：文件的打开方式
        O_RDONLY：只读模式(read-only)
        O_WRONLY：只写模式(write-only)
        O_RDWR：读写模式(read-write)
        O_APPEND：追加模式(append)
        O_CREATE：文件不存在就创建(create a new file if none exists.)
    第三个参数：文件的权限：文件不存在创建文件，需要指定权限
     </span><span style="color: #008000;">*/</span><span style="color: #000000;">
    fileName4 :</span>= <span style="color: #800000;">"</span><span style="color: #800000;">./test1/abc2.txt</span><span style="color: #800000;">"</span><span style="color: #000000;">
    file4, err :</span>= os.OpenFile(fileName4, os.O_RDWR|<span style="color: #000000;">os.O_CREATE, os.ModePerm)
    </span><span style="color: #0000ff;">if</span> err !=<span style="color: #000000;"> nil {
        fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">err:</span><span style="color: #800000;">"</span><span style="color: #000000;">, err.Error())
    } </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
        fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s 打开成功！%v \n</span><span style="color: #800000;">"</span><span style="color: #000000;">, fileName4, file4)
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;">4、关闭文件，程序与文件的联系断开</span>
<span style="color: #000000;">    file4.Close()

    </span><span style="color: #008000;">//</span><span style="color: #008000;">    5、删除文件和目录</span>
    fileName5 := <span style="color: #800000;">"</span><span style="color: #800000;">./test1</span><span style="color: #800000;">"</span><span style="color: #000000;">
    err </span>=<span style="color: #000000;"> os.Remove(fileName5)
    </span><span style="color: #0000ff;">if</span> err !=<span style="color: #000000;"> nil {
        fmt.Println(err)
    } </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
        fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s 删除成功！</span><span style="color: #800000;">"</span><span style="color: #000000;"> , fileName5)
    }

    err </span>=<span style="color: #000000;"> os.RemoveAll(fileName5)
    </span><span style="color: #0000ff;">if</span> err !=<span style="color: #000000;"> nil {
        fmt.Println(err)
    } </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
        fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s 删除成功！</span><span style="color: #800000;">"</span><span style="color: #000000;"> , fileName5)
    }
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p><strong>文件读写&nbsp;</strong></p>
<div class="cnblogs_code" onclick="cnblogs_code_show('d991830c-bf33-495d-a76d-af4f3ba3a37e')"><img id="code_img_closed_d991830c-bf33-495d-a76d-af4f3ba3a37e" class="code_img_closed" src="./images/GO基础之文件操作0.png" alt="" /><img id="code_img_opened_d991830c-bf33-495d-a76d-af4f3ba3a37e" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('d991830c-bf33-495d-a76d-af4f3ba3a37e',event)" src="./images/GO基础之文件操作1.png" alt="" />
<div id="cnblogs_code_open_d991830c-bf33-495d-a76d-af4f3ba3a37e" class="cnblogs_code_hide">
<pre><code><span style="color: #008000;">/*</span><span style="color: #008000;">*
2.读取文件file.Read([]byte)--&gt;n,err 从文件中开始读取数据，存入到byte切片中，返回值n是本次实际读取的数据量如果读取到文件末尾，n为0,err为EOF：end of file
 </span><span style="color: #008000;">*/</span><span style="color: #000000;">
func readFile(fileName </span><span style="color: #0000ff;">string</span><span style="color: #000000;">){
    file2,err:</span>=os.OpenFile(fileName, os.O_RDWR|<span style="color: #000000;">os.O_CREATE, os.ModePerm)
    </span><span style="color: #0000ff;">if</span> err!=<span style="color: #000000;">nil{
        fmt.Println(file2);
    }</span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
        bs:</span>=make([]<span style="color: #0000ff;">byte</span>,<span style="color: #800080;">8</span>,<span style="color: #800080;">1024</span>*<span style="color: #800080;">8</span><span style="color: #000000;">);
        n:</span>= -<span style="color: #800080;">1</span><span style="color: #000000;">;
        str:</span>=<span style="color: #800000;">""</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">for</span><span style="color: #000000;">{
            n,err</span>=<span style="color: #000000;">file2.Read(bs);
            fmt.Printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">n:%v \n</span><span style="color: #800000;">"</span><span style="color: #000000;">,n)
            </span><span style="color: #0000ff;">if</span> n==<span style="color: #800080;">0</span>||err==<span style="color: #000000;">io.EOF{
                fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">read file end</span><span style="color: #800000;">"</span><span style="color: #000000;">)
                </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
            }
            str</span>= strings.Join([]<span style="color: #0000ff;">string</span>{str,<span style="color: #0000ff;">string</span>(bs[:n])},<span style="color: #800000;">""</span><span style="color: #000000;">)
        }
        fmt.Println(str)
    }
    </span><span style="color: #008000;">//</span><span style="color: #008000;">3、关闭文件</span>
<span style="color: #000000;">    file2.Close()
}
func writeFile(fileName </span><span style="color: #0000ff;">string</span><span style="color: #000000;">){
    str:</span>=<span style="color: #800000;">"</span><span style="color: #800000;">I Love China 我爱中国</span><span style="color: #800000;">"</span><span style="color: #000000;">;
    bs:</span>=[]<span style="color: #0000ff;">byte</span><span style="color: #000000;">(str);
    file2,err:</span>=os.OpenFile(fileName, os.O_RDWR|<span style="color: #000000;">os.O_CREATE, os.ModePerm)
    </span><span style="color: #0000ff;">if</span> err!=<span style="color: #000000;">nil{
        fmt.Println(file2);
    }</span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
        file2.Write(bs);
    }
    file2.Close();
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<h3>二、ioutil&nbsp;包</h3>
<p> /*<br />	ioutil包：<br />		ReadFile()   //读取文件中的所有的数据，返回读取的字节数组<br />		WriteFile()  //向指定文件写入数据，如果文件不存在，则创建文件，写入数据之前清空文件<br />		ReadDir()    //读取一个目录下的子内容：子文件和子目录，但是仅有一层<br />		TempDir(）   //在当前目录下，创建一个以指定字符串为前缀的临时文件夹，并返回文件夹路径<br />		TempFile()   //在当前目录下，创建一个以指定字符串为前缀的文件，并以读写模式打开文件，并返回os.File指针对象<br />	 */</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('ba1c0e70-d6a6-444c-b412-65e183b1a879')"><img id="code_img_closed_ba1c0e70-d6a6-444c-b412-65e183b1a879" class="code_img_closed" src="./images/GO基础之文件操作0.png" alt="" /><img id="code_img_opened_ba1c0e70-d6a6-444c-b412-65e183b1a879" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('ba1c0e70-d6a6-444c-b412-65e183b1a879',event)" src="./images/GO基础之文件操作1.png" alt="" />
<div id="cnblogs_code_open_ba1c0e70-d6a6-444c-b412-65e183b1a879" class="cnblogs_code_hide">
<pre><code><span style="color: #000000;">package main

import (
    </span><span style="color: #800000;">"</span><span style="color: #800000;">io/ioutil</span><span style="color: #800000;">"</span>
    <span style="color: #800000;">"</span><span style="color: #800000;">fmt</span><span style="color: #800000;">"</span>
    <span style="color: #800000;">"</span><span style="color: #800000;">os</span><span style="color: #800000;">"</span><span style="color: #000000;">
)

func main() {
    </span><span style="color: #008000;">/*</span><span style="color: #008000;">
    ioutil包：
        ReadFile()   //读取文件中的所有的数据，返回读取的字节数组
        WriteFile()  //向指定文件写入数据，如果文件不存在，则创建文件，写入数据之前清空文件
        ReadDir()    //读取一个目录下的子内容：子文件和子目录，但是仅有一层
        TempDir(）   //在当前目录下，创建一个以指定字符串为前缀的临时文件夹，并返回文件夹路径
        TempFile()   //在当前目录下，创建一个以指定字符串为前缀的文件，并以读写模式打开文件，并返回os.File指针对象
     </span><span style="color: #008000;">*/</span>
    <span style="color: #008000;">//</span><span style="color: #008000;">1、ReadFile()   </span><span style="color: #008000;">//</span><span style="color: #008000;">读取文件中的所有的数据，返回读取的字节数组</span>
    fileName1 := <span style="color: #800000;">"</span><span style="color: #800000;">./files/blockchain.txt</span><span style="color: #800000;">"</span><span style="color: #000000;">
    data, err :</span>=<span style="color: #000000;"> ioutil.ReadFile(fileName1)
    </span><span style="color: #0000ff;">if</span> err !=<span style="color: #000000;"> nil {
        fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">文件打开异常</span><span style="color: #800000;">"</span><span style="color: #000000;">, err.Error())
    } </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
        fmt.Println(</span><span style="color: #0000ff;">string</span><span style="color: #000000;">(data))
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;">2、WriteFile()  </span><span style="color: #008000;">//</span><span style="color: #008000;">向指定文件写入数据，如果文件不存在，则创建文件，写入数据之前清空文件</span>
    fileName2 := <span style="color: #800000;">"</span><span style="color: #800000;">./files/xyz.txt</span><span style="color: #800000;">"</span><span style="color: #000000;">
    s1 :</span>= <span style="color: #800000;">"</span><span style="color: #800000;">Steven陪你学区块链</span><span style="color: #800000;">"</span><span style="color: #000000;">
    err </span>= ioutil.WriteFile(fileName2, []<span style="color: #0000ff;">byte</span>(s1), <span style="color: #800080;">0777</span><span style="color: #000000;">)
    </span><span style="color: #0000ff;">if</span> err !=<span style="color: #000000;"> nil {
        fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">写入文件异常</span><span style="color: #800000;">"</span><span style="color: #000000;">, err.Error())
    } </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
        fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">文件写入OK!</span><span style="color: #800000;">"</span><span style="color: #000000;">)
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;">3、文件拷贝</span>
    err =<span style="color: #000000;"> ioutil.WriteFile(fileName2 , data , os.ModePerm)
    </span><span style="color: #0000ff;">if</span> err !=<span style="color: #000000;"> nil {
        fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">文件拷贝异常</span><span style="color: #800000;">"</span><span style="color: #000000;">, err.Error())
    } </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
        fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">文件拷贝成功!</span><span style="color: #800000;">"</span><span style="color: #000000;">)
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;">4、ReadDir()    </span><span style="color: #008000;">//</span><span style="color: #008000;">读取一个目录下的子内容：子文件和子目录，但是仅有一层</span>
    dirName := <span style="color: #800000;">"</span><span style="color: #800000;">./</span><span style="color: #800000;">"</span><span style="color: #000000;">
    fileInfos , err :</span>=<span style="color: #000000;"> ioutil.ReadDir(dirName)
    </span><span style="color: #0000ff;">if</span> err !=<span style="color: #000000;"> nil {
        fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">目录遍历异常</span><span style="color: #800000;">"</span><span style="color: #000000;">, err.Error())
    } </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
        </span><span style="color: #0000ff;">for</span> i , v :=<span style="color: #000000;"> range fileInfos {
            fmt.Println(i , v.Name() , v.IsDir() , v.Size() , v.ModTime())
        }
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;">5、TempDir(）   </span><span style="color: #008000;">//</span><span style="color: #008000;">在当前目录下，创建一个以指定字符串为前缀的临时文件夹，并返回文件夹路径</span>
    filename , err := ioutil.TempDir(<span style="color: #800000;">"</span><span style="color: #800000;">./</span><span style="color: #800000;">"</span> , <span style="color: #800000;">"</span><span style="color: #800000;">temp</span><span style="color: #800000;">"</span><span style="color: #000000;">)
    </span><span style="color: #0000ff;">if</span> err !=<span style="color: #000000;"> nil {
        fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">创建目录失败</span><span style="color: #800000;">"</span><span style="color: #000000;"> , err.Error())
    } </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
        fmt.Println(filename)
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;">6、TempFile()   </span><span style="color: #008000;">//</span><span style="color: #008000;">在当前目录下，创建一个以指定字符串为前缀的文件，并以读写模式打开文件，并返回os.File指针对象</span>
    file1 , err := ioutil.TempFile(filename , <span style="color: #800000;">"</span><span style="color: #800000;">temp</span><span style="color: #800000;">"</span><span style="color: #000000;">)
    </span><span style="color: #0000ff;">if</span> err !=<span style="color: #000000;"> nil {
        fmt.Println(</span><span style="color: #800000;">"</span><span style="color: #800000;">创建文件失败</span><span style="color: #800000;">"</span><span style="color: #000000;"> , err.Error())
    } </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
        file1.WriteString(</span><span style="color: #800000;">"</span><span style="color: #800000;">写入内容:</span><span style="color: #800000;">"</span> +<span style="color: #000000;"> file1.Name())
    }
    file1.Close()
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>