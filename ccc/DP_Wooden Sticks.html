<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修DP_Wooden Sticks' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>DP_Wooden Sticks</center></div><div class='banquan'>原文出处:本文由博客园博主Konoba提供。<br/>
原文连接:https://www.cnblogs.com/konoba/p/11295475.html</div><br>
    <div class="ptx" lang="en-US">There is a pile of n wooden sticks. The length and weight of each stick are known in advance. The sticks are to be processed by a woodworking machine in one by one fashion. It needs some time, called setup time, for the machine to prepare processing a stick. The setup times are associated with cleaning operations and changing tools and shapes in the machine. The setup times of the woodworking machine are given as follows:&nbsp;<br />(a) The setup time for the first wooden stick is 1 minute.&nbsp;<br />(b) Right after processing a stick of length l and weight w , the machine will need no setup time for a stick of length l' and weight w' if l &lt;= l' and w &lt;= w'. Otherwise, it will need 1 minute for setup.&nbsp;<br />You are to find the minimum setup time to process a given pile of n wooden sticks. For example, if you have five sticks whose pairs of length and weight are ( 9 , 4 ) , ( 2 , 5 ) , ( 1 , 2 ) , ( 5 , 3 ) , and ( 4 , 1 ) , then the minimum setup time should be 2 minutes since there is a sequence of pairs ( 4 , 1 ) , ( 5 , 3 ) , ( 9 , 4 ) , ( 1 , 2 ) , ( 2 , 5 ) .</div>
<p>
Input</p>
<div class="ptx" lang="en-US">The input consists of T test cases. The number of test cases (T) is given in the first line of the input file. Each test case consists of two lines: The first line has an integer n , 1 &lt;= n &lt;= 5000 , that represents the number of wooden sticks in the test case, and the second line contains 2n positive integers l1 , w1 , l2 , w2 ,..., ln , wn , each of magnitude at most 10000 , where li and wi are the length and weight of the i th wooden stick, respectively. The 2n integers are delimited by one or more spaces.</div>
<p>
Output</p>
<div class="ptx" lang="en-US">The output should contain the minimum setup time in minutes, one per line.</div>
<p>
Sample Input</p>
<pre>3 
5 
4 9 5 2 2 1 3 5 1 4 
3 
2 2 1 1 2 2 
3 
1 3 2 2 3 1 
</pre>
<p>Sample Output</p>
<pre>2
1
3<br /><br /></pre>
<hr />
<pre><br /><span style="font-size: 13px;">题意：求同时满足木棒的长宽都构成不下降子序列的最少组数。</span><br /><br /><span style="font-size: 13px;">思路：1、将木棒按照长（或宽）进行升序排序。</span><br /><span style="font-size: 13px;">　　　2、建立递推数组dp[]，表示操作当前木棒时所需要的设定次数。</span><br /><span style="font-size: 13px;">　　　3、dp[]的递推公式：　　若前面存在一个木棒的宽度大于当前木棒的宽度的时，当前木棒所需要进行的设置数一定会大于这个木棒所需要的设置数。</span><br /><span style="font-size: 13px;">　　　　　　　　　　　当前木棒的dp[]=max{dp[前面宽度大于当前木棒宽度的木棒所对应的下标]}+1</span><br /><span style="font-size: 13px;">　　　4、遍历数组dp[]，最大的dp即为题目所求最少需要的设定次数.</span><br /><span style="font-size: 13px;">注意：排序完成后的木棒默认只设定一次（即假设排序完成后的序列为一个不下降序列）dp[]值初始化为1</span><br /><span style="font-size: 13px;">　　　排序时在长度相同的情况下应优先按照宽度再次进行排序。</span><br /><br /></pre>
<hr />
<pre><br /><br /></pre>
<div class="cnblogs_code" onclick="cnblogs_code_show('8c7360ad-0207-4cd3-bd0b-77d530bc82d4')"><img id="code_img_closed_8c7360ad-0207-4cd3-bd0b-77d530bc82d4" class="code_img_closed" src="./images/DP_Wooden Sticks0.png" alt="" /><img id="code_img_opened_8c7360ad-0207-4cd3-bd0b-77d530bc82d4" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('8c7360ad-0207-4cd3-bd0b-77d530bc82d4',event)" src="./images/DP_Wooden Sticks1.png" alt="" />
<div id="cnblogs_code_open_8c7360ad-0207-4cd3-bd0b-77d530bc82d4" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;"> 1</span> #include&lt;cstdio&gt;
<span style="color: #008080;"> 2</span> #include&lt;algorithm&gt;
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #008080;"> 4</span> <span style="color: #0000ff;">int</span> dp[<span style="color: #800080;">5005</span><span style="color: #000000;">];
</span><span style="color: #008080;"> 5</span> <span style="color: #0000ff;">struct</span><span style="color: #000000;"> Node{
</span><span style="color: #008080;"> 6</span>     <span style="color: #0000ff;">int</span><span style="color: #000000;"> h,w;
</span><span style="color: #008080;"> 7</span> }p[<span style="color: #800080;">5005</span><span style="color: #000000;">];
</span><span style="color: #008080;"> 8</span> <span style="color: #0000ff;">bool</span><span style="color: #000000;"> cmp( Node a, Node b){
</span><span style="color: #008080;"> 9</span>     <span style="color: #0000ff;">if</span>( a.h!=<span style="color: #000000;">b.h )
</span><span style="color: #008080;">10</span>         <span style="color: #0000ff;">return</span> a.h&lt;b.h ? <span style="color: #0000ff;">true</span>:<span style="color: #0000ff;">false</span><span style="color: #000000;">;
</span><span style="color: #008080;">11</span>     <span style="color: #0000ff;">return</span> a.w&lt;b.w ? <span style="color: #0000ff;">true</span>:<span style="color: #0000ff;">false</span><span style="color: #000000;">;
</span><span style="color: #008080;">12</span> <span style="color: #000000;">}
</span><span style="color: #008080;">13</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
</span><span style="color: #008080;">14</span> <span style="color: #000000;">{
</span><span style="color: #008080;">15</span>     <span style="color: #0000ff;">int</span><span style="color: #000000;"> t,n;
</span><span style="color: #008080;">16</span>     <span style="color: #0000ff;">int</span><span style="color: #000000;"> maxn;
</span><span style="color: #008080;">17</span> 
<span style="color: #008080;">18</span>     scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span>,&amp;<span style="color: #000000;">t);
</span><span style="color: #008080;">19</span>     <span style="color: #0000ff;">while</span>( t--<span style="color: #000000;"> ){
</span><span style="color: #008080;">20</span>         maxn=<span style="color: #800080;">1</span><span style="color: #000000;">;
</span><span style="color: #008080;">21</span>         scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span>,&amp;<span style="color: #000000;">n);
</span><span style="color: #008080;">22</span>         <span style="color: #0000ff;">for</span>( <span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>; i&lt;n; i++<span style="color: #000000;">)
</span><span style="color: #008080;">23</span>             scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%d%d</span><span style="color: #800000;">"</span>,&amp;p[i].h,&amp;<span style="color: #000000;">p[i].w);
</span><span style="color: #008080;">24</span>         sort( p, p+<span style="color: #000000;">n, cmp);
</span><span style="color: #008080;">25</span>         <span style="color: #0000ff;">for</span>( <span style="color: #0000ff;">int</span> j=<span style="color: #800080;">0</span>; j&lt;n; j++<span style="color: #000000;">)  
</span><span style="color: #008080;">26</span>             dp[j]=<span style="color: #800080;">1</span><span style="color: #000000;">;
</span><span style="color: #008080;">27</span>         <span style="color: #0000ff;">for</span>( <span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>; i&lt;n; i++<span style="color: #000000;">){
</span><span style="color: #008080;">28</span>             <span style="color: #0000ff;">for</span>( <span style="color: #0000ff;">int</span> j=<span style="color: #800080;">0</span>; j&lt;i; j++<span style="color: #000000;">){
</span><span style="color: #008080;">29</span>                 <span style="color: #0000ff;">if</span>( p[j].w&gt;<span style="color: #000000;">p[i].w ){
</span><span style="color: #008080;">30</span>                     dp[i]=max(dp[i],dp[j]+<span style="color: #800080;">1</span><span style="color: #000000;">);
</span><span style="color: #008080;">31</span> <span style="color: #000000;">                }
</span><span style="color: #008080;">32</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">33</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">34</span>         <span style="color: #0000ff;">for</span>( <span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>; i&lt;n; i++<span style="color: #000000;">)
</span><span style="color: #008080;">35</span>             <span style="color: #0000ff;">if</span>( dp[i]&gt;<span style="color: #000000;">maxn )
</span><span style="color: #008080;">36</span>                 maxn=<span style="color: #000000;">dp[i];
</span><span style="color: #008080;">37</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span><span style="color: #000000;">,maxn);
</span><span style="color: #008080;">38</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">39</span> 
<span style="color: #008080;">40</span>     <span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">41</span> }</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<hr />
<p style="text-align: center;"><br />感谢SLH的耐心讲解</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>