<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修POJ中和质数相关的三个例题（POJ 2262、POJ 2739、POJ 3006）' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>POJ中和质数相关的三个例题（POJ 2262、POJ 2739、POJ 3006）</center></div><div class='banquan'>原文出处:本文由博客园博主aTeacher提供。<br/>
原文连接:https://www.cnblogs.com/cs-whut/p/11001842.html</div><br>
    <p>&nbsp; &nbsp; &nbsp; 质数(prime number)又称素数，有无限个。一个大于1的自然数，除了1和它本身外，不能被其他自然数整除，换句话说就是该数除了1和它本身以外不再有其他的因数；否则称为合数。<br />&nbsp; &nbsp; &nbsp; 最小的质数是2。</p>
<h3>【例1】Goldbach's Conjecture （POJ 2262）</h3>
<p><strong>Description</strong></p>
<p>In 1742, Christian Goldbach, a German amateur mathematician, sent a letter to Leonhard Euler in which he made the following conjecture:</p>
<p>Every even number greater than 4 can be</p>
<p>written as the sum of two odd prime numbers.</p>
<p>For example:</p>
<p>8 = 3 + 5. Both 3 and 5 are odd prime numbers.</p>
<p>20 = 3 + 17 = 7 + 13.</p>
<p>42 = 5 + 37 = 11 + 31 = 13 + 29 = 19 + 23.</p>
<p>Today it is still unproven whether the conjecture is right. (Oh wait, I have the proof of course, but it is too long to write it on the margin of this page.)</p>
<p>Anyway, your task is now to verify Goldbach's conjecture for all even numbers less than a million.</p>
<p><strong>Input</strong></p>
<p>The input will contain one or more test cases.</p>
<p>Each test case consists of one even integer n with 6 &lt;= n &lt; 1000000.</p>
<p>Input will be terminated by a value of 0 for n.</p>
<p><strong>Output</strong></p>
<p>For each test case, print one line of the form n = a + b, where a and b are odd primes. Numbers and operators should be separated by exactly one blank like in the sample output below. If there is more than one pair of odd primes adding up to n, choose the pair where the difference b - a is maximized. If there is no such pair, print a line saying "Goldbach's conjecture is wrong."</p>
<p><strong>Sample Input</strong></p>
<p>8</p>
<p>20</p>
<p>42</p>
<p>0</p>
<p><strong>Sample Output</strong></p>
<p>8 = 3 + 5</p>
<p>20 = 3 + 17</p>
<p>42 = 5 + 37</p>
<p>&nbsp; &nbsp; &nbsp; （1）编程思路1。</p>
<p>&nbsp; &nbsp; &nbsp; 对每个输入的n，从小到大依次对3~n/2之间的奇数i进行穷举，若i和n-i均是质数，则找到一组解，退出穷举。</p>
<p>判断一个数num是否为质数的方法是：用2~ 中的每一个整数m去除num，若某一个m能整除num，则num不是质数；否则，m是质数。</p>
<p>&nbsp; &nbsp; &nbsp; （2）源程序1。</p>
<p style="margin-left: 30px;">#include &lt;iostream&gt;</p>
<p style="margin-left: 30px;">#include &lt;cmath&gt;</p>
<p style="margin-left: 30px;">using namespace std;</p>
<p style="margin-left: 30px;">bool isPrime(int num)</p>
<p style="margin-left: 30px;">{</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; int m;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; if(num==2) return true;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; for(m=2;m&lt;=(int)sqrt((double)num);m++)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (num%m==0)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return false;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; return true;</p>
<p style="margin-left: 30px;">}</p>
<p style="margin-left: 30px;">int main()</p>
<p style="margin-left: 30px;">{</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; int n,i;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; while(cin&gt;&gt;n&amp;&amp;n)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=3;i&lt;=n/2;i+=2)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; {</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(isPrime(i) &amp;&amp; isPrime(n-i))</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; {</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout&lt;&lt;n&lt;&lt;" = "&lt;&lt;i&lt;&lt;" + "&lt;&lt;n-i&lt;&lt;endl;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; }</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; }</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; return 0;</p>
<p style="margin-left: 30px;">}</p>
<p>&nbsp; &nbsp; &nbsp; （3）编程思路2。</p>
<p>&nbsp; &nbsp; &nbsp; 上面的程序在穷举时，对每个穷举的整数i，都要调用函数isPrime(i) 和isPrime(n-i)来判断i和n-i是否为质数。实际上，可以预先生成一个判定数组flag[1000000]，并且为了节省存储空间，可将flag数组定义为char类型（每个元素只占一个字节）。元素flag[i]==&rsquo;1&rsquo;表示整数i是质数；flag[i]==&rsquo;0&rsquo;表示整数i不是质数。</p>
<p>&nbsp; &nbsp; &nbsp; 初始化数组flag的所有元素都为&rsquo;1&rsquo;，然后采用Eratosthenes筛法进行处理。</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp;Eratosthenes筛法的基本思想是：把某范围内的自然数从小到大依次排列好。宣布1不是质数，把它去掉；然后从余下的数中取出最小的数，宣布它为质数，并去掉它的倍数。在第1步之后，得到质数2，筛中只包含奇数；第2步之后，得到素数3，一直做下去，直到筛子为空时结束。</p>
<p>&nbsp; &nbsp; &nbsp; 采用这个思想，用如下循环完成对flag数组的设置。</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=2;i&lt;1000000;i++)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 用筛法构建质数表</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (flag[i]=='1')</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (j=2*i;j&lt;1000000;j+=i)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flag[j]='0';</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp; &nbsp; &nbsp; （4）源程序2。</p>
<p style="margin-left: 30px;">#include &lt;iostream&gt;</p>
<p style="margin-left: 30px;">using namespace std;</p>
<p style="margin-left: 30px;">int main()</p>
<p style="margin-left: 30px;">{</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; char flag[1000000];</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int i,j,n;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; for (i=2;i&lt;1000000;i++)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flag[i]='1';</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=2;i&lt;1000000;i++)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 用筛法构建质数表</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (flag[i]=='1')</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (j=2*i;j&lt;1000000;j+=i)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flag[j]='0';</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; }</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; while(cin&gt;&gt;n&amp;&amp;n)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=3;i&lt;n;i++)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; {</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(flag[i]=='1' &amp;&amp; flag[n-i]=='1')</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; {</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout&lt;&lt;n&lt;&lt;" = "&lt;&lt;i&lt;&lt;" + "&lt;&lt;n-i&lt;&lt;endl;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; }</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; }</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; return 0;</p>
<p style="margin-left: 30px;">}</p>
<p>&nbsp; &nbsp; &nbsp; 将源程序1和2分别提交给POJ评判系统，可得到如图1所示的评判结果。从结果可以看出，源程序2的执行效率比源程序1高，当然所占用的存储空间也比源程序1要多。可以说是&ldquo;用空间换时间&rdquo;。&nbsp;&nbsp;</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="./images/POJ中和质数相关的三个例题（POJ 2262、POJ 2739、POJ 3006）0.png" alt="" /></p>
<p align="center">图1&nbsp; POJ给出的评判结果</p>
<p>&nbsp;</p>
<h3>【例2】Sum of Consecutive Prime Numbers （POJ 2739）</h3>
<p><strong>Description</strong></p>
<p>Some positive integers can be represented by a sum of one or more consecutive prime numbers. How many such representations does a given positive integer have? For example, the integer 53 has two representations 5 + 7 + 11 + 13 + 17 and 53. The integer 41 has three representations 2+3+5+7+11+13, 11+13+17, and 41. The integer 3 has only one representation, which is 3. The integer 20 has no such representations. Note that summands must be consecutive prime numbers, so neither 7 + 13 nor 3 + 5 + 5 + 7 is a valid representation for the integer 20.</p>
<p>Your mission is to write a program that reports the number of representations for the given positive integer.</p>
<p><strong>Input</strong></p>
<p>The input is a sequence of positive integers each in a separate line. The integers are between 2 and 10 000, inclusive. The end of the input is indicated by a zero.</p>
<p><strong>Output</strong></p>
<p>The output should be composed of lines each corresponding to an input line except the last zero. An output line includes the number of representations for the input integer as the sum of one or more consecutive prime numbers. No other characters should be inserted in the output.</p>
<p><strong>Sample Input</strong></p>
<p>2</p>
<p>3</p>
<p>17</p>
<p>41</p>
<p>20</p>
<p>666</p>
<p>12</p>
<p>53</p>
<p>0</p>
<p><strong>Sample Output</strong></p>
<p>1</p>
<p>1</p>
<p>2</p>
<p>3</p>
<p>0</p>
<p>0</p>
<p>1</p>
<p>2</p>
<p>&nbsp; &nbsp; &nbsp; （1）编程思路1。</p>
<p>&nbsp; &nbsp; &nbsp; 先将10000以内的所有质数求出来保存到数组prime中，并记下质数的个数len。</p>
<p>&nbsp; &nbsp; &nbsp; 对于给定的测试数据n，用二重循环求出所有的连续质数和等于n的种数cnt。</p>
<p>&nbsp; &nbsp; &nbsp; （2）源程序1。</p>
<p style="margin-left: 30px;">#include &lt;iostream&gt;</p>
<p style="margin-left: 30px;">#include &lt;cmath&gt;</p>
<p style="margin-left: 30px;">using namespace std;</p>
<p style="margin-left: 30px;">bool isPrime(int num)</p>
<p style="margin-left: 30px;">{</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; int m;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; if(num==2) return true;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; for(m=2;m&lt;=(int)sqrt((double)num);m++)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (num%m==0)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return false;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; return true;</p>
<p style="margin-left: 30px;">}</p>
<p style="margin-left: 30px;">int main()</p>
<p style="margin-left: 30px;">{</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; int prime[2000],i,j,len=0,n,cnt,sum;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; for(i=2;i&lt;10000;i++)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(isPrime(i))</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; prime[len++]=i;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; }</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; while (cin&gt;&gt;n &amp;&amp; n!=0)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cnt=0;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=0;i&lt;len;i++)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sum=0;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(j=i;j&lt;len;j++)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sum+=prime[j];</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(sum&gt;n)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else if(sum==n)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cnt++;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout&lt;&lt;cnt&lt;&lt;endl;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; }</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; return 0;</p>
<p style="margin-left: 30px;">}</p>
<p>&nbsp; &nbsp; &nbsp; （3）编程思路2。</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp;采用打表的方法。先用二重循环构造好答案表。</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; for(i=0;i&lt;len;i++)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sum=0;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(j=i;j&lt;len;j++)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sum+=prime[j];</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(sum&gt;10000) break;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ans[sum]++;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //&nbsp; 连续和为sum的种数加1</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp; &nbsp; &nbsp; 对于给定的测试数据n，直接查表ans[n]即可。</p>
<p>&nbsp; &nbsp; &nbsp; （4）源程序2。</p>
<p style="margin-left: 30px;">#include &lt;iostream&gt;</p>
<p style="margin-left: 30px;">using namespace std;</p>
<p style="margin-left: 30px;">int main()</p>
<p style="margin-left: 30px;">{</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; int flag[10000]={0},prime[2000],ans[10001]={0};</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int i,j,len=0,n,sum;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; for(i=2;i&lt;10000;i++)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 构造质数表</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (flag[i]==0)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; prime[len++]=i;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (j=2*i;j&lt;10000;j+=i)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flag[j]=1;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; }</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; for(i=0;i&lt;len;i++)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 构造答案表</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sum=0;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(j=i;j&lt;len;j++)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sum+=prime[j];</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(sum&gt;10000) break;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ans[sum]++;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; while (cin&gt;&gt;n &amp;&amp; n!=0)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout&lt;&lt;ans[n]&lt;&lt;endl;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; }</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; return 0;</p>
<p style="margin-left: 30px;">}</p>
<h3>&nbsp;【例3】Dirichlet's Theorem on Arithmetic Progressions （POJ 3006）</h3>
<p><strong>Description</strong></p>
<p>If a and d are relatively prime positive integers, the arithmetic sequence beginning with a and increasing by d, i.e., a, a + d, a + 2d, a + 3d, a + 4d, ..., contains infinitely many prime numbers. This fact is known as Dirichlet's Theorem on Arithmetic Progressions, which had been conjectured by Johann Carl Friedrich Gauss (1777 - 1855) and was proved by Johann Peter Gustav Lejeune Dirichlet (1805 - 1859) in 1837.</p>
<p>For example, the arithmetic sequence beginning with 2 and increasing by 3, i.e.,</p>
<p>2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71, 74, 77, 80, 83, 86, 89, 92, 95, 98, ... ,</p>
<p>contains infinitely many prime numbers</p>
<p>2, 5, 11, 17, 23, 29, 41, 47, 53, 59, 71, 83, 89, ... .</p>
<p>Your mission, should you decide to accept it, is to write a program to find the nth prime number in this arithmetic sequence for given positive integers a, d, and n.</p>
<p><strong>Input</strong></p>
<p>The input is a sequence of datasets. A dataset is a line containing three positive integers a, d, and n separated by a space. a and d are relatively prime. You may assume a &lt;= 9307, d &lt;= 346, and n &lt;= 210.</p>
<p>The end of the input is indicated by a line containing three zeros separated by a space. It is not a dataset.</p>
<p><strong>Output</strong></p>
<p>The output should be composed of as many lines as the number of the input datasets. Each line should contain a single integer and should never contain extra characters.</p>
<p>The output integer corresponding to a dataset a, d, n should be the nth prime number among those contained in the arithmetic sequence beginning with a and increasing by d.</p>
<p>FYI, it is known that the result is always less than 106 (one million) under this input condition.</p>
<p><strong>Sample Input</strong></p>
<p>367 186 151</p>
<p>179 10 203</p>
<p>271 37 39</p>
<p>103 230 1</p>
<p>27 104 185</p>
<p>253 50 85</p>
<p>1 1 1</p>
<p>9075 337 210</p>
<p>0 0 0</p>
<p><strong>Sample Output</strong></p>
<p>92809</p>
<p>6709</p>
<p>12037</p>
<p>103</p>
<p>93523</p>
<p>14503</p>
<p>2</p>
<p>899429</p>
<p>&nbsp; &nbsp; &nbsp; （1）编程思路。</p>
<p>&nbsp; &nbsp; &nbsp; 定义数组char flag[1000000]用于质数的判定。元素flag[i]==&rsquo;1&rsquo;表示整数i是质数；flag[i]==&rsquo;0&rsquo;表示整数i不是质数。</p>
<p>&nbsp; &nbsp; &nbsp; 对于输入的测试数据a、d和n，采用循环找到第n个质数在原等差数列中位置i。</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; count = 0;&nbsp;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=0;count&lt;n;i++)&nbsp;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; {&nbsp;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(flag[a+d*i]=='1')&nbsp;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; count++;&nbsp;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; }&nbsp;</p>
<p>&nbsp; &nbsp; &nbsp; （2）源程序。</p>
<p style="margin-left: 30px;">#include &lt;iostream&gt;&nbsp;</p>
<p style="margin-left: 30px;">using namespace std;&nbsp;</p>
<p style="margin-left: 30px;">int main()&nbsp;</p>
<p style="margin-left: 30px;">{&nbsp;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; int a,d,n,i,j,count;&nbsp;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; char flag[1000000];</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; for (i=2;i&lt;1000000;i++)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flag[i]='1';</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=2;i&lt;1000000;i++)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 用筛法构建质数表</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (flag[i]=='1')</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (j=2*i;j&lt;1000000;j+=i)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flag[j]='0';</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; }</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; flag[1]='0';&nbsp;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; while(cin&gt;&gt;a&gt;&gt;d&gt;&gt;n &amp;&amp; a+d+n!=0)&nbsp;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;count = 0;&nbsp;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=0;count&lt;n;i++)&nbsp;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; {&nbsp;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(flag[a+d*i]=='1')&nbsp;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; count++;&nbsp;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; }&nbsp;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout&lt;&lt;a+d*(i-1)&lt;&lt;endl;&nbsp;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; return 0;&nbsp;</p>
<p style="margin-left: 30px;">}&nbsp;&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>