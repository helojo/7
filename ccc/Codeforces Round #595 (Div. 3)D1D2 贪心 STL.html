<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Codeforces Round #595 (Div. 3)D1D2 贪心 STL' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Codeforces Round #595 (Div. 3)D1D2 贪心 STL</center></div><div class='banquan'>原文出处:本文由博客园博主爱吃鱼的小管提供。<br/>
原文连接:https://www.cnblogs.com/ilikeeatfish/p/11808577.html</div><br>
    <p><span style="font-family: 'Microsoft YaHei'; font-size: 18pt; color: #888888;">一道用STL的贪心，正好可以用来学习使用STL库</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 18pt; color: #888888;">题目大意：给出n条可以内含，相交，分离的线段，如果重叠条数超过k次则为坏点，n,k&lt;2e5</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 18pt; color: #888888;">所以我们贪心的想我们从左往右遍历，如果重合部分条数超过了k，就必须去除线段，（此时从左边看去除线段后不会出现冲突，右边还有剩余很多线段未知）所以我们选择去除这些重合线段里右端最右的部分</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 18pt; color: #888888;">实现：</span></p>
<p>#include&lt;bits/stdc++.h&gt;<br />using namespace std;<br />typedef pair&lt;int,int&gt; pii;<br />typedef long long ll;<br />const int maxn =2e5+30;<br />set&lt;pii&gt;res;<br />vector&lt;pii&gt;v[maxn];<br />vector&lt;int&gt;ans;<br />int main(){<br />    int n,k,mx=0,t1,t2;<br />    scanf("%d%d",&amp;n,&amp;k);<br />    for(int i=1;i&lt;=n;i++){<br />        scanf("%d%d",&amp;t1,&amp;t2);<br />        v[t1].push_back({t2,i});//左端点t1储存右端点和序号i，C11的用法这里{t2,i}等于make_pair<br />        mx=max(t2,mx);<br />    }<br />    for(int i=0;i&lt;=mx;i++){<br />        while(res.begin()-&gt;first &lt;i&amp;&amp;!res.empty())//当右端点小于i时已经完全扫过，此时删去该线段<br />            res.erase(res.begin());//删去整条线段<br />        for(int j=0;j&lt;v[i].size();j++)<br />            res.insert(v[i][j]);//插入该端点为左端点下的线段<br />        while(res.size()&gt;k){//如果此时重合部分大于k，则找到这些线段里右端点最右的线段，加入ans并删去<br />            ans.push_back(res.rbegin()-&gt;second);//rbegin()返回的是最末元素的位置<br />            res.erase(--res.end());//注意虽然效果一样但end和rbegin的类型不一样<br />        }<br />    }<br />    cout&lt;&lt;ans.size()&lt;&lt;endl;<br />    for(auto x:ans){<br />        cout&lt;&lt;x&lt;&lt;' ';<br />    }<br />    cout&lt;&lt;endl;<br />}</p>
<p>原题链接：<a href="https://codeforces.com/contest/1249/problem/D2">https://codeforces.com/contest/1249/problem/D2</a></p>
<p>关于迭代器的tip</p>
<p><img src="./images/Codeforces Round #595 (Div. 3)D1D2 贪心 STL0.png" alt="" width="713" height="289" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>