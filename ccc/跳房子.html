<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修跳房子' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>跳房子</center></div><div class='banquan'>原文出处:本文由博客园博主Ra煞提供。<br/>
原文连接:https://www.cnblogs.com/I-Love-You-520/p/11410441.html</div><br>
    <h2>跳房子</h2>
<h3><a title="跳房子" href="https://www.luogu.org/problem/P3957" target="_blank">题目</a></h3>
<p>【题目描述】</p>
<p>跳房子，也叫跳飞机，是一种世界性的儿童游戏，也是中国民间传统的体育游戏之一。跳房子的游戏规则如下：</p>
<p>在地面上确定一个起点，然后在起点右侧画<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">n个格子，这些格子都在同一条直线上。每个格子内有一个数字（整数），表示到达这个 格子能得到的分数。玩家第一次从起点开始向右跳，跳到起点右侧的一个格子内。第二次再从当前位置继续向右跳，依此类推。规则规定：</span></span></span></span></span></span></span></p>
<p>玩家每次都必须跳到当前位置右侧的一个格子内。玩家可以在任意时刻结束游戏，获得的分数为曾经到达过的格子中的数字之和。</p>
<p>现在小&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">R&nbsp;研发了一款弹跳机器人来参加这个游戏。但是这个机器人有一个非常严重的缺陷，它每次向右弹跳的距离只能为固定的&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">d&nbsp;。小&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">R&nbsp;希望改进他的机器人，如果他花&nbsp;<span class="katex"><span class="katex-mathml">g<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">&nbsp;个金币改进他的机器人，那么他的机器人灵活性就能增加&nbsp;<span class="katex"><span class="katex-mathml">g<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">g&nbsp;，但是需要注意的是，每 次弹跳的距离至少为<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">1&nbsp;。具体而言，当&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">g<span class="mord rule"><span class="mrel">&lt;<span class="mord rule"><span class="mord mathit">d&nbsp;时，他的机器人每次可以选择向右弹跳的距离为&nbsp;<span class="katex"><span class="katex-mathml">d-g,d-g+1,d-g+2，<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">d<span class="mord rule"><span class="mbin">&minus;<span class="mord rule"><span class="mord mathit">g<span class="mpunct">,<span class="mord rule"><span class="mord mathit">d<span class="mord rule"><span class="mbin">&minus;<span class="mord rule"><span class="mord mathit">g<span class="mord rule"><span class="mbin">+<span class="mord rule"><span class="mord">1<span class="mpunct">,<span class="mord rule"><span class="mord mathit">d<span class="mord rule"><span class="mbin">&minus;<span class="mord rule"><span class="mord mathit">g<span class="mord rule"><span class="mbin">+<span class="mord rule"><span class="mord">2&nbsp;，&hellip;，&nbsp;<span class="katex"><span class="katex-mathml">d+g-2<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">d<span class="mord rule"><span class="mbin">+<span class="mord rule"><span class="mord mathit">g<span class="mord rule"><span class="mbin">&minus;<span class="mord rule"><span class="mord">2&nbsp;，&nbsp;<span class="katex"><span class="katex-mathml">d+g-1<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">d<span class="mord rule"><span class="mbin">+<span class="mord rule"><span class="mord mathit">g<span class="mord rule"><span class="mbin">&minus;<span class="mord rule"><span class="mord">1&nbsp;，&nbsp;<span class="katex"><span class="katex-mathml">d+g<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">d<span class="mord rule"><span class="mbin">+<span class="mord rule"><span class="mord mathit">g&nbsp;；否则（当<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">g<span class="mord rule"><span class="mrel">&ge;<span class="mord rule"><span class="mord mathit">d&nbsp;时），他的机器人每次可以选择向右弹跳的距离为&nbsp;<span class="katex"><span class="katex-mathml">1<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">&nbsp;，&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">2&nbsp;，&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">3&nbsp;，&hellip;，&nbsp;<span class="katex"><span class="katex-mathml">d+g-2<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">d<span class="mord rule"><span class="mbin">+<span class="mord rule"><span class="mord mathit">g<span class="mord rule"><span class="mbin">&minus;<span class="mord rule"><span class="mord">2&nbsp;，&nbsp;<span class="katex"><span class="katex-mathml">d+g-1<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">d<span class="mord rule"><span class="mbin">+<span class="mord rule"><span class="mord mathit">g<span class="mord rule"><span class="mbin">&minus;<span class="mord rule"><span class="mord">1&nbsp;，&nbsp;<span class="katex"><span class="katex-mathml">d+g<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">d<span class="mord rule"><span class="mbin">+<span class="mord rule"><span class="mord mathit">g&nbsp;。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>现在小&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">R&nbsp;希望获得至少&nbsp;<span class="katex"><span class="katex-mathml">k<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">&nbsp;分，请问他至少要花多少金币来改造他的机器人。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">【输入格式】</span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>第一行三个正整数&nbsp;<span class="katex"><span class="katex-mathml">n<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">，<span class="katex"><span class="katex-mathml">d<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">，<span class="katex"><span class="katex-mathml">k<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">，分别表示格子的数目，改进前机器人弹跳的固定距离，以及希望至少获得的分数。相邻两个数 之间用一个空格隔开。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>接下来&nbsp;<span class="katex"><span class="katex-mathml">n<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">行，每行两个正整数<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord mathit">x<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">i<span class="vlist-s">​<span class="vlist-r"><span class="vlist"><span class="mpunct">,<span class="mord rule"><span class="mord"><span class="mord mathit">s<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">i<span class="vlist-s">​<span class="vlist-r"><span class="vlist">，分别表示起点到第<span class="katex"><span class="katex-mathml">i<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">个格子的距离以及第<span class="katex"><span class="katex-mathml">i<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">个格子的分数。两个数之间用一个空格隔开。保证&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord mathit">x<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">i<span class="vlist-s">​<span class="vlist-r"><span class="vlist">&nbsp;按递增顺序输入。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord mathit"><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight"><span class="vlist-s"><span class="vlist-r"><span class="vlist"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="mord mathit"><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight"><span class="vlist-s"><span class="vlist-r"><span class="vlist"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord mathit"><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight"><span class="vlist-s"><span class="vlist-r"><span class="vlist">【输出格式】</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord mathit"><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight"><span class="vlist-s"><span class="vlist-r"><span class="vlist"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="mord mathit"><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight"><span class="vlist-s"><span class="vlist-r"><span class="vlist"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord mathit"><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight"><span class="vlist-s"><span class="vlist-r"><span class="vlist">共一行，一个整数，表示至少要花多少金币来改造他的机器人。若无论如何他都无法获得至少&nbsp;<span class="katex"><span class="katex-mathml">k<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">分，输出<span class="katex"><span class="katex-mathml">-1<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord">。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord mathit"><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight"><span class="vlist-s"><span class="vlist-r"><span class="vlist"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="mord mathit"><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight"><span class="vlist-s"><span class="vlist-r"><span class="vlist"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord mathit"><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight"><span class="vlist-s"><span class="vlist-r"><span class="vlist"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord">【输入样例】</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #800080;">7</span> <span style="color: #800080;">4</span> <span style="color: #800080;">10</span>
<span style="color: #800080;">2</span> <span style="color: #800080;">6</span>
<span style="color: #800080;">5</span> -<span style="color: #800080;">3</span>
<span style="color: #800080;">10</span> <span style="color: #800080;">3</span>
<span style="color: #800080;">11</span> -<span style="color: #800080;">3</span>
<span style="color: #800080;">13</span> <span style="color: #800080;">1</span>
<span style="color: #800080;">17</span> <span style="color: #800080;">6</span>
<span style="color: #800080;">20</span> <span style="color: #800080;">2</span></pre>
</div>
<p>【输出样例】</p>
<div class="cnblogs_code">
<pre><code><span style="color: #800080;">2</span> </pre>
</div>
<p>【样例解释】</p>
<p><span class="katex"><span class="katex-html"><span class="base"><span class="mord">2个金币改进后, 小 R 的机器人依次选择的向右弹跳的距离分别为<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">2<span class="mpunct">,<span class="mord rule"><span class="mord">3<span class="mpunct">,<span class="mord rule"><span class="mord">5<span class="mpunct">,<span class="mord rule"><span class="mord">3<span class="mpunct">,<span class="mord rule"><span class="mord">4<span class="mpunct">,<span class="mord rule"><span class="mord">3, 先后到达的位置分别为<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">2<span class="mpunct">,<span class="mord rule"><span class="mord">5<span class="mpunct">,<span class="mord rule"><span class="mord">1<span class="mord">0<span class="mpunct">,<span class="mord rule"><span class="mord">1<span class="mord">3<span class="mpunct">,<span class="mord rule"><span class="mord">1<span class="mord">7<span class="mpunct">,<span class="mord rule"><span class="mord">2<span class="mord">0, 对应<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">1<span class="mpunct">,<span class="mord rule"><span class="mord">2<span class="mpunct">,<span class="mord rule"><span class="mord">3<span class="mpunct">,<span class="mord rule"><span class="mord">5<span class="mpunct">,<span class="mord rule"><span class="mord">6<span class="mpunct">,<span class="mord rule"><span class="mord">7&nbsp;这<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">6&nbsp;个格子。这些格子中的数字之和<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">1<span class="mord">5&nbsp;即为小 R 获得的分数。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-html"><span class="base"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord">【数据规模】</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>本题共 10 组测试数据,每组数据 10 分。</p>
<p>对于全部的数据满足<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">1<span class="mord rule"><span class="mrel">&le;<span class="mord rule"><span class="mord mathit">n<span class="mord rule"><span class="mrel">&le;<span class="mord rule"><span class="mord">5<span class="mord">0<span class="mord">0<span class="mord">0<span class="mord">0<span class="mord">0<span class="mpunct">,<span class="mord rule"><span class="mord">1<span class="mord rule"><span class="mrel">&le;<span class="mord rule"><span class="mord mathit">d<span class="mord rule"><span class="mrel">&le;<span class="mord rule"><span class="mord">2<span class="mord">0<span class="mord">0<span class="mord">0<span class="mpunct">,<span class="mord rule"><span class="mord">1<span class="mord rule"><span class="mrel">&le;<span class="mord rule"><span class="mord"><span class="mord mathit">x<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">i<span class="vlist-s">​<span class="vlist-r"><span class="vlist"><span class="mpunct">,<span class="mord rule"><span class="mord mathit">k<span class="mord rule"><span class="mrel">&le;<span class="mord rule"><span class="mord">1<span class="mord"><span class="mord">0<span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9<span class="mpunct">,<span class="mord rule"><span class="mord">∣<span class="mord"><span class="mord mathit">s<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">i<span class="vlist-s">​<span class="vlist-r"><span class="vlist"><span class="mord">∣<span class="mord rule"><span class="mrel">&lt;<span class="mord rule"><span class="mord">1<span class="mord"><span class="mord">0<span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>对于第<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">1<span class="mpunct">,<span class="mord rule"><span class="mord">2组测试数据,&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">n<span class="mord rule"><span class="mrel">&le;<span class="mord rule"><span class="mord">1<span class="mord">0；</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>对于第<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">3<span class="mpunct">,<span class="mord rule"><span class="mord">4<span class="mpunct">,<span class="mord rule"><span class="mord">5&nbsp;组测试数据,&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">n<span class="mord rule"><span class="mrel">&le;<span class="mord rule"><span class="mord">5<span class="mord">0<span class="mord">0</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>对于第<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">6<span class="mpunct">,<span class="mord rule"><span class="mord">7<span class="mpunct">,<span class="mord rule"><span class="mord">8&nbsp;组测试数据,&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">d<span class="mord rule"><span class="mrel">=<span class="mord rule"><span class="mord">1</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<h3><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mord rule"><span class="mrel"><span class="mord rule"><span class="mord">解析</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></h3>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mord rule"><span class="mrel"><span class="mord rule"><span class="mord">这题本蒟蒻用了些玄学优化，不用二分，不用单调队列，O(n<sup>2</sup>)的dp居然过了。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mord rule"><span class="mrel"><span class="mord rule"><span class="mord">好，说说思路：</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mord rule"><span class="mrel"><span class="mord rule"><span class="mord">首先既然是dp，那么肯定少不了状态：</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>令f[i]表示到达i格子的最大分数，初值为极小值，</p>
<p>状态转移方程：f[j]=f[i]+s[j]，具体的i与j后面会说。</p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mord rule"><span class="mrel"><span class="mord rule"><span class="mord">我们在读入的时候，先累加所有分数大于0的，如果maxn(maxn表示累加分数后的结果)小于k，那么直接输出-1，maxn记得开long long不然后5个点全部都会输出-1(<span style="text-decoration: line-through;">说多了都是泪</span>)！</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mord rule"><span class="mrel"><span class="mord rule"><span class="mord">反之我们从0开始累加g的值，即while循环。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mord rule"><span class="mrel"><span class="mord rule"><span class="mord">每次我们从0到n-1枚举i，如果bj[i]为真(bj[i]表示能否到达i这个格子，初始全为false，由于g是累加的，所以如果之前的g可以到达i，那么之后的g必然也可以到达i，所以只需要初始化bj一次就可以了)，</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mord rule"><span class="mrel"><span class="mord rule"><span class="mord">便从i+1到n枚举j，如果x[j]-x[i]&lt;=d+g(x如题目所述)，即从i到j的距离小于等于能够跳的最远距离，就判断如果x[j]-x[i]&gt;=max(1,d-g)，即从i到j的距离大于等于能过跳的最短距离，</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="mpunct"><span class="mord rule"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mord rule"><span class="mrel"><span class="mord rule"><span class="mord">就令bj[j]=true，f[j]=max(f[j]，f[i]+s[j])，如果f[j]&gt;=k，那么直接输出当前的g；</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>如果x[j]-x[i]&gt;d+g，即从i到j的距离大于能够跳的最远距离，那么直接退出j循环，因为x是递增的，那么如果当前点跳不到，后面的点肯定也是跳不到的。</p>
<h3>Code</h3>
<div class="cnblogs_code" onclick="cnblogs_code_show('5b144f39-8ce6-43de-bfb9-38c715d8e294')"><img id="code_img_closed_5b144f39-8ce6-43de-bfb9-38c715d8e294" class="code_img_closed" src="./images/跳房子0.png" alt="" /><img id="code_img_opened_5b144f39-8ce6-43de-bfb9-38c715d8e294" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('5b144f39-8ce6-43de-bfb9-38c715d8e294',event)" src="./images/跳房子1.png" alt="" />
<div id="cnblogs_code_open_5b144f39-8ce6-43de-bfb9-38c715d8e294" class="cnblogs_code_hide">
<pre>#include &lt;algorithm&gt;<span style="color: #000000;">
#include </span>&lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;cstring&gt;<span style="color: #000000;">
#include </span>&lt;<span style="color: #0000ff;">string</span>&gt;<span style="color: #000000;">
#include </span>&lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;cmath&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> read()
{
    </span><span style="color: #0000ff;">int</span> num=<span style="color: #800080;">0</span>,w=<span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">char</span> ch=<span style="color: #000000;">getchar();
    </span><span style="color: #0000ff;">while</span>(ch&lt;<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>||ch&gt;<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span>(ch==<span style="color: #800000;">'</span><span style="color: #800000;">-</span><span style="color: #800000;">'</span>) w=-<span style="color: #800080;">1</span><span style="color: #000000;">;
        ch</span>=<span style="color: #000000;">getchar();
    }
    </span><span style="color: #0000ff;">while</span>(ch&gt;=<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>&amp;&amp;ch&lt;=<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        num</span>=(num&lt;&lt;<span style="color: #800080;">1</span>)+(num&lt;&lt;<span style="color: #800080;">3</span>)+ch-<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span><span style="color: #000000;">;
        ch</span>=<span style="color: #000000;">getchar();
    }
    </span><span style="color: #0000ff;">return</span> num*<span style="color: #000000;">w;
}
</span><span style="color: #0000ff;">int</span> n,d,k,g,x[<span style="color: #800080;">500100</span>],s[<span style="color: #800080;">500100</span>],f[<span style="color: #800080;">500100</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span><span style="color: #000000;"> maxn;
</span><span style="color: #0000ff;">bool</span> bj[<span style="color: #800080;">500100</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    memset(bj,</span><span style="color: #0000ff;">false</span>,<span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(bj));
    memset(f,</span><span style="color: #800080;">0xcfcfcfcf</span>,<span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(f));
    bj[</span><span style="color: #800080;">0</span>]=<span style="color: #0000ff;">true</span>,f[<span style="color: #800080;">0</span>]=<span style="color: #800080;">0</span><span style="color: #000000;">;
    n</span>=read(),d=read(),k=<span style="color: #000000;">read();
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=n;i++<span style="color: #000000;">)
    {
        x[i]</span>=read(),s[i]=<span style="color: #000000;">read();
        </span><span style="color: #0000ff;">if</span>(s[i]&gt;<span style="color: #800080;">0</span>) maxn+=<span style="color: #000000;">s[i];
    }
    </span><span style="color: #0000ff;">if</span>(maxn&lt;<span style="color: #000000;">k)
    {
        cout</span>&lt;&lt;<span style="color: #800000;">"</span><span style="color: #800000;">-1</span><span style="color: #800000;">"</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
    }
    </span><span style="color: #0000ff;">while</span>(<span style="color: #800080;">1</span><span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>;i&lt;n;i++<span style="color: #000000;">)
            </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(bj[i])
                </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> j=i+<span style="color: #800080;">1</span>;j&lt;=n;j++<span style="color: #000000;">)
                {
                    </span><span style="color: #0000ff;">if</span>(x[j]-x[i]&lt;=d+<span style="color: #000000;">g)
                    {
                        </span><span style="color: #0000ff;">if</span>(x[j]-x[i]&gt;=max(<span style="color: #800080;">1</span>,d-<span style="color: #000000;">g))
                        {
                            bj[j]</span>=<span style="color: #0000ff;">true</span><span style="color: #000000;">;
                            f[j]</span>=max(f[j],f[i]+<span style="color: #000000;">s[j]);
                            </span><span style="color: #0000ff;">if</span>(f[j]&gt;=<span style="color: #000000;">k)
                            {
                                cout</span>&lt;&lt;<span style="color: #000000;">g;
                                </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
                            }
                        }
                    }
                    </span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">break</span><span style="color: #000000;">;
                }
        g</span>++<span style="color: #000000;">;
    }
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>