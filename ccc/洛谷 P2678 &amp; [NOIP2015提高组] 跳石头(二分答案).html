<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修洛谷 P2678 &amp; [NOIP2015提高组] 跳石头(二分答案)' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>洛谷 P2678 &amp; [NOIP2015提高组] 跳石头(二分答案)</center></div><div class='banquan'>原文出处:本文由博客园博主尹昱钦提供。<br/>
原文连接:https://www.cnblogs.com/yinyuqin/p/10765412.html</div><br>
    <h2>题目链接</h2>
<h3><a href="https://www.luogu.org/problemnew/show/P2678" target="_blank">https://www.luogu.org/problemnew/show/P2678</a></h3>
<h2>题目背景</h2>
<p>一年一度的&ldquo;跳石头&rdquo;比赛又要开始了!</p>
<h2>题目描述</h2>
<p>这项比赛将在一条笔直的河道中进行，河道中分布着一些巨大岩石。组委会已经选择好了两块岩石作为比赛起点和终点。在起点和终点之间，有 <span class="katex"><span class="katex-mathml">N<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"> 块岩石（不含起点和终点的岩石）。在比赛过程中，选手们将从起点出发，每一步跳向相邻的岩石，直至到达终点。</span></span></span></span></span></span></span></p>
<p>为了提高比赛难度，组委会计划移走一些岩石，使得选手们在比赛过程中的最短跳跃距离尽可能长。由于预算限制，组委会至多从起点和终点之间移走 <span class="katex"><span class="katex-mathml">M<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"> 块岩石（不能移走起点和终点的岩石）。</span></span></span></span></span></span></span></p>
<h2>输入输出格式</h2>
<h3><strong>输入格式：</strong></h3>
<p>第一行包含三个整数 <span class="katex"><span class="katex-mathml">L,N,M<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mpunct"><span class="mord mathit"><span class="mpunct"><span class="mord mathit">，分别表示起点到终点的距离，起点和终点之间的岩石数，以及组委会至多移走的岩石数。保证 <span class="katex"><span class="katex-mathml">L&ge;1<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord">且 <span class="katex"><span class="katex-mathml">N&ge;M&ge;0<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord">。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>接下来 <span class="katex"><span class="katex-mathml">N<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"> 行，每行一个整数，第 <span class="katex"><span class="katex-mathml">i <span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">行的整数 <span class="katex"><span class="katex-mathml">Di(0&lt;Di&lt;L)<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord mathit"><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight"><span class="vlist-s"><span class="vlist-r"><span class="vlist"><span class="mopen"><span class="mord"><span class="mrel"><span class="mord"><span class="mord mathit"><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight"><span class="vlist-s"><span class="vlist-r"><span class="vlist"><span class="mrel"><span class="mord mathit"><span class="mclose">， 表示第 <span class="katex"><span class="katex-mathml">i<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"> 块岩石与起点的距离。这些岩石按与起点距离从小到大的顺序给出，且不会有两个岩石出现在同一个位置。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<h3><strong>输出格式：</strong></h3>
<p>一个整数，即最短跳跃距离的最大值。</p>
<h2>输入输出样例</h2>
<div class="am-g">
<div class="am-u-md-6 copy-region">
<h3><strong>输入样例：</strong></h3>
<pre>25 5 2 
2
11
14
17 
21</pre>
</div>
<div class="am-u-md-6 copy-region">
<h3><strong>输出样例：</strong></h3>
<pre>4</pre>
</div>
</div>
<h2>说明</h2>
<p>输入输出样例 1 说明：将与起点距离为 <span class="katex"><span class="katex-mathml">2<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">和 <span class="katex"><span class="katex-mathml">14<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord"> 的两个岩石移走后,最短的跳跃距离为 <span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">4(从与起点距离 <span class="katex"><span class="katex-mathml">17<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord"> 的岩石跳到距离 <span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">2<span class="mord">1 的岩石,或者从距离 <span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">2<span class="mord">1 的岩石跳到终点)。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>另：对于 <span class="katex"><span class="katex-mathml">20%<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord"><span class="mord">的数据,<span class="katex"><span class="katex-mathml">0&le;M&le;N&le;10<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mord">。 </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>对于<span class="katex"><span class="katex-mathml">50%<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord"><span class="mord">的数据,<span class="katex"><span class="katex-mathml">0&le;M&le;N&le;100<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mord"><span class="mord">。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>对于 <span class="katex"><span class="katex-mathml">100%<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord"><span class="mord"><span class="mord">的数据,<span class="katex"><span class="katex-mathml">0&le;M&le;N&le;50,000,1&le;L&le;1,000,000,000<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord">。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<h2><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord">解题思路</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></h2>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord">首先看一下数据范围，发现暴力枚举时间肯定会炸(除非你只是想拿部分分)，所以这里我们要用到一个<span style="text-decoration: line-through;">新的</span>算法&mdash;&mdash;二分答案。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<h3><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord">什么叫二分答案呢？？</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></h3>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord">顾名思义，二分答案就是把一组数据每次分成两部分，就是把大问题转化成小问题。例如猜数游戏，猜1-100的一个数，就先猜50，若小了，就猜75，若大了，就猜25，就这样一直猜下去，最终找到答案。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord">而我们每一次猜的这个答案就是所求范围内的数据的中间数据，这就是二分答案。这个二分的中间数据就是指要求的内容。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<h3><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord">二分答案需要满足一个什么样的性质呢？</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></h3>
<ul>
<li><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord">有一个确定的范围</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></li>
<li><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord">答案只有一个</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></li>
<li><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mrel"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord"><span class="mpunct"><span class="mord"><span class="mord"><span class="mord">答案必须满足单调性（连续上升或下降）</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></li>
</ul>
<h3><span data-mce-="">二分的两种形式：</span></h3>
<p><span data-mce-=""><img src="./images/洛谷 P2678 &amp; [NOIP2015提高组] 跳石头(二分答案)0.png" alt="" width="614" height="276" /></span></p>
<p>上文是介绍对<strong>细节</strong>的处理。</p>
<h3>此题解法：</h3>
<p>搞明白二分答案后，我们就来看看这道经典题目。</p>
<p>一眼看到题目中的这一句话：<span><span style="text-decoration: underline;">使得选手们在比赛过程中的最短跳跃距离尽可能长</span>，当出现<span style="text-decoration: underline;"><strong>最小值最大</strong></span>或<span style="text-decoration: underline;"><strong>最大值最小</strong></span>或<span style="text-decoration: underline;"><strong>求</strong><strong>最大值、最小值</strong></span>时，就可以考虑一下<span style="text-decoration: underline;"><strong>二分</strong></span>了。</span></p>
<p><span>很显然，这道题我们求的是<strong>最短距离</strong>，所以我们二分的就是<strong>最短距离</strong>。</span></p>
<p>首先验证答案具有单调性：拿走的石头越多，最短跳跃距离越大，这就叫答案的单调性。</p>
<p>然后进行实现。我们假设最短跳跃距离为mid，那么显然0&lt;mid&lt;L，所以我们就先让左端点l=0，右端点r=L，每次mid取中间值mid=(l+r+1)&gt;&gt;1，这里采用的是第二种形式。接着我们写一个check函数，判断一下这个mid是否合法，如果合法，就尝试找一找有没有一个值比mid更大（l=mid），如果不合法，就把mid减小（r=mid-1）。</p>
<p>那check函数怎么写呢？我们遍历一遍每一块石头，累计出有多少块石头之间的间隔<strong>&lt;=mid</strong>,如果<strong>超过</strong>m个，就不合法，如果<strong>小于等于</strong>m，就合法。、</p>
<p>具体看代码。</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('13d9314c-c065-4158-a65e-c2c4673bcbac')"><img id="code_img_closed_13d9314c-c065-4158-a65e-c2c4673bcbac" class="code_img_closed" src="./images/洛谷 P2678 &amp; [NOIP2015提高组] 跳石头(二分答案)1.png" alt="" /><img id="code_img_opened_13d9314c-c065-4158-a65e-c2c4673bcbac" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('13d9314c-c065-4158-a65e-c2c4673bcbac',event)" src="./images/洛谷 P2678 &amp; [NOIP2015提高组] 跳石头(二分答案)2.png" alt="" />
<div id="cnblogs_code_open_13d9314c-c065-4158-a65e-c2c4673bcbac" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;"> 1</span> #include&lt;iostream&gt;
<span style="color: #008080;"> 2</span> <span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #008080;"> 3</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> n,m,L;
</span><span style="color: #008080;"> 4</span> <span style="color: #0000ff;">int</span> a[<span style="color: #800080;">50005</span><span style="color: #000000;">];
</span><span style="color: #008080;"> 5</span> <span style="color: #0000ff;">bool</span> check(<span style="color: #0000ff;">int</span> x){        <span style="color: #008000;">//</span><span style="color: #008000;">check函数判断这个最短跳跃距离x是否合法</span>
<span style="color: #008080;"> 6</span>     <span style="color: #0000ff;">int</span> last=<span style="color: #800080;">0</span>;                    <span style="color: #008000;">//</span><span style="color: #008000;">last表示的是上一块石头的位置 </span>
<span style="color: #008080;"> 7</span>     <span style="color: #0000ff;">int</span> cnt=<span style="color: #800080;">0</span>;                    <span style="color: #008000;">//</span><span style="color: #008000;">cnt用来计数 </span>
<span style="color: #008080;"> 8</span>     <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=n+<span style="color: #800080;">1</span>;i++) {    <span style="color: #008000;">//</span><span style="color: #008000;">枚举每一块石头 </span>
<span style="color: #008080;"> 9</span>         <span style="color: #0000ff;">if</span>(a[i]-last&lt;x) cnt++;    <span style="color: #008000;">//</span><span style="color: #008000;">如果这一块石头和上一块石头的距离比x小,计数+1。而且如果石头移走，last还是上一块石头的位置。 </span>
<span style="color: #008080;">10</span>         <span style="color: #0000ff;">else</span> last=a[i];            <span style="color: #008000;">//</span><span style="color: #008000;">否则这块石头就不必移走，last=这块石头的位置。 </span>
<span style="color: #008080;">11</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">12</span>     <span style="color: #0000ff;">if</span>(cnt&gt;m) <span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span>;            <span style="color: #008000;">//</span><span style="color: #008000;">cnt如果超过m个，就不合法。</span>
<span style="color: #008080;">13</span>     <span style="color: #0000ff;">else</span> <span style="color: #0000ff;">return</span> <span style="color: #800080;">1</span>;                 <span style="color: #008000;">//</span><span style="color: #008000;">cnt如果小于等于m，就合法。 </span>
<span style="color: #008080;">14</span> <span style="color: #000000;">}
</span><span style="color: #008080;">15</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
</span><span style="color: #008080;">16</span> <span style="color: #000000;">{
</span><span style="color: #008080;">17</span> cin&gt;&gt;L&gt;&gt;n&gt;&gt;<span style="color: #000000;">m;
</span><span style="color: #008080;">18</span> <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=n;i++) cin&gt;&gt;<span style="color: #000000;">a[i];
</span><span style="color: #008080;">19</span> a[n+<span style="color: #800080;">1</span>]=L;                        <span style="color: #008000;">//</span><span style="color: #008000;">注意这个一共有n+2块石头(起点和终点) </span>
<span style="color: #008080;">20</span> <span style="color: #0000ff;">int</span> l=<span style="color: #800080;">1</span>,r=L;                    <span style="color: #008000;">//</span><span style="color: #008000;">注意l和r都是最短跳跃距离的边界，而不是石头的边界。 </span>
<span style="color: #008080;">21</span> <span style="color: #0000ff;">while</span>(l&lt;<span style="color: #000000;">r){
</span><span style="color: #008080;">22</span>     <span style="color: #0000ff;">int</span> mid=(l+r+<span style="color: #800080;">1</span>)&gt;&gt;<span style="color: #800080;">1</span>;            <span style="color: #008000;">//</span><span style="color: #008000;">取中点，用的是第二种形式。 </span>
<span style="color: #008080;">23</span>     <span style="color: #0000ff;">if</span>(check(mid)) l=mid;        <span style="color: #008000;">//</span><span style="color: #008000;">分别处理 </span>
<span style="color: #008080;">24</span>     <span style="color: #0000ff;">else</span> r=mid-<span style="color: #800080;">1</span><span style="color: #000000;">;
</span><span style="color: #008080;">25</span> <span style="color: #000000;">}
</span><span style="color: #008080;">26</span> cout&lt;&lt;l;                        <span style="color: #008000;">//</span><span style="color: #008000;">退出循环后一定是l==r，所以输出什么都可以。 </span>
<span style="color: #008080;">27</span> <span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">28</span> }</pre>
</div>
<span class="cnblogs_code_collapse">AC代码</span></div>
<p>&nbsp;//NOIP2015提高组 Day2 t1</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>