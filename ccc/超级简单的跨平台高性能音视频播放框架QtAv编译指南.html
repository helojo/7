<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修超级简单的跨平台高性能音视频播放框架QtAv编译指南' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>超级简单的跨平台高性能音视频播放框架QtAv编译指南</center></div><div class='banquan'>原文出处:本文由博客园博主朝十晚八提供。<br/>
原文连接:https://www.cnblogs.com/swarmbees/p/11087049.html</div><br>
    <div class="toc">
    <p class="toc-title">目录</p>
    <div class="toc-list">
        <ul>
        <li><a href="#一了解qtav">一、了解QtAv</a></li>
        <li><a href="#二相关文章">二、相关文章</a></li>
        <li><a href="#三下载qtav源码">三、下载QtAv源码</a></li>
        <li><a href="#四下载qtav依赖库">四、下载QtAv依赖库</a></li>
        <li><a href="#五设置环境变量">五、设置环境变量</a><ul>
        <li><a href="#gcc设置方式">1、gcc设置方式</a></li>
        <li><a href="#msvccl设置方式">2、msvc(cl)设置方式</a></li>
        </ul></li>
        <li><a href="#六编译">六、编译</a></li>
        <li><a href="#七测试">七、测试</a></li>
        </ul>
    </div>
</div>
<h2 id="一了解qtav">一、了解QtAv</h2>
<p>这几天抱着试一试的心态，尝试着了解了下QtAv这个库，感觉确实挺不错的，因此就打算学习下这个库。</p>
<p>断断续续的看了不少文章，大多数都是通过百度搜索出来的文章。说实话百度上大多数文章内容都差不多，而且很少有文章说清楚了编译时的环境配置和编译器上的区别，导致我自己也一度认为这个库很难编译。<strong>其实真的不难</strong></p>
<blockquote>
<p>网上的资源真的很多，但是有点儿杂乱，新手上来一看可能很容易就懵逼了。可是我这里要告诉大家，真的不需要害怕，这个库的编译真的炒鸡简单，不信看我第三小节开始的编译步骤，简单到不敢相信。</p>
</blockquote>
<p>因为我看到了<a href="https://blog.csdn.net/a511244213/article/details/49970771">windows编译qtav</a>这篇文章，文章中清楚的说明了环境变量配置是需要根据编译器进行选择设置的，这时自己的思路也一下子就开阔了。</p>
<p>我这里使用的是QtCreator编辑器，编译器使用的是是MSVC，是vs2013的编译器。所以头文件需要配置到Include上，库文件需要配置到Lib目录上。</p>
<p>如果是gcc的编译器，配置才可能像下边这样。这个我没有测试，因为我自己是msvc环境，不过网上这么多人说了，估计应该也没啥问题。<strong>这也是为啥我开头说网上资源乱，因为我看的大多数是Mingw集成环境下的文章。</strong></p>
<pre><code>CPATH : C:\Users\Administrator\Desktop\QtAV-depends-windows-x86+x64\QtAV-depends-windows-x86+x64\include
LIBRARY_PATH : C:\Users\Administrator\Desktop\QtAV-depends-windows-x86+x64\QtAV-depends-windows-x86+x64\lib</code></pre>
<p>首先说明我的编译环境：</p>
<ul>
<li>Qt版本：Qt5.7.1</li>
<li>编译器：vs2013上的MSVC编译器</li>
<li>编辑工具：QtCreator 4.2，其实跟这个关系不大，只是一个ide而已，我们使用的编译器仍然是微软的msvc编译器。</li>
<li>系统：Win10 64位</li>
</ul>
<p>重点强调下，<a href="https://blog.csdn.net/a511244213/article/details/49970771">windows编译qtav</a>这篇文章一定要看，内容真的很实用。<strong>主要是告诉你在编译前期，msvc和gcc两种编译器下，怎么去配置环境变量。</strong></p>
<h2 id="二相关文章">二、相关文章</h2>
<p>编译步骤：<a href="https://blog.csdn.net/xipiaoyouzi/article/details/73997593">Qt5.5.0编译QtAV</a></p>
<p>不同编译器下环境变量配置：<a href="https://blog.csdn.net/a511244213/article/details/49970771">windows编译qtav</a></p>
<p>我自己是看着<a href="https://blog.csdn.net/xipiaoyouzi/article/details/73997593">Qt5.5.0编译QtAV</a>这篇文章进行编译的，最起码资源都是在文章中的连接里下载的，包括QtAv源码和依赖库<a href="https://sourceforge.net/projects/qtav/files/depends/QtAV-depends-windows-x86+x64.7z/download">QtAV-depends-windows-x86+x64</a></p>
<p>但是参考这篇文章中配置环境变量时，一定要注意，这篇文章中的作者是GCC编译器。而我们自己去要根据自己的编译环境来配置环境变量，如果你是MINGW集成环境，也就是说你是GCC编译器，那么恭喜你，直接按原文配置即可。</p>
<p><strong>但是，如果你不是GCC编译器，那么你就需要看<a href="https://blog.csdn.net/a511244213/article/details/49970771">windows编译qtav</a><br />
这篇文章，他会告诉你，其他编译器怎么配置环境变量</strong></p>
<p>MSVC编译器，配置方法如下。把头文件和库文件分别配置在Include和LIB目录上。<br />
<strong>如果是gcc的编译器，需要把头文件和库文件分别配置在CPATH和LIBTRARY_PATH环境变量上。</strong></p>
<p><img src="./images/超级简单的跨平台高性能音视频播放框架QtAv编译指南0.png" alt="image" /></p>
<h2 id="三下载qtav源码">三、下载QtAv源码</h2>
<p>源码下载时直接上官方的github即可，<a href="https://github.com/wang-bin/QtAV">QtAv</a></p>
<h2 id="四下载qtav依赖库">四、下载QtAv依赖库</h2>
<p>由于QtAv是基于ffmpeg开发的，因此我们需要下载相关依赖库。<a href="https://sourceforge.net/projects/qtav/files/depends/QtAV-depends-windows-x86+x64.7z/download">QtAV-depends-windows-x86+x64</a></p>
<h2 id="五设置环境变量">五、设置环境变量</h2>
<p>根据不同编译器设置方法不一样，具体参看<a href="https://blog.csdn.net/a511244213/article/details/49970771">windows编译qtav</a>这篇文章</p>
<h3 id="gcc设置方式">1、gcc设置方式</h3>
<pre><code>CPATH : C:\Users\Administrator\Desktop\QtAV-depends-windows-x86+x64\QtAV-depends-windows-x86+x64\include
LIBRARY_PATH : C:\Users\Administrator\Desktop\QtAV-depends-windows-x86+x64\QtAV-depends-windows-x86+x64\lib</code></pre>
<h3 id="msvccl设置方式">2、msvc(cl)设置方式</h3>
<p><img src="./images/超级简单的跨平台高性能音视频播放框架QtAv编译指南0.png" alt="image" /><br />
图中环境变量列表中加粗的字即是我添加的环境变量，msvc编译器下INCLUDE和LIB这个两个变量本身就是存在的，所以我们只需要在值那一列把include和lib目录添加上即可。</p>
<p><strong>注意：需要添加自己的<a href="https://sourceforge.net/projects/qtav/files/depends/QtAV-depends-windows-x86+x64.7z/download">QtAV-depends-windows-x86+x64</a>依赖库路径</strong></p>
<h2 id="六编译">六、编译</h2>
<p>环境变量配置好之后，直接点击构建即可，编译成功后，效果如下<br />
<img src="./images/超级简单的跨平台高性能音视频播放框架QtAv编译指南2.png" alt="image" /></p>
<h2 id="七测试">七、测试</h2>
<p>编译完成之后，我们会发现bin目录下会有很多可执行文件，这个时候我们可以执行其中某一个可执行文件对我们编译的库进行测试。</p>
<p>首先拷贝QtAv的依赖库ffmpeg，找到之前解压的QtAV-depends-windows-x86+x64文件夹，把里边的bin目录下的资源文件都拷贝到我们刚才编译出来的QtAv目录下。</p>
<p>找到我们刚才编译生成的bin目录，打开里边的simpleplayer.exe可执行程序。选择一个本地的资源文件进行播放，效果图可能如下图所示，这里是只放了一张图，主要作为示意。</p>
<p><img src="./images/超级简单的跨平台高性能音视频播放框架QtAv编译指南3.png" alt="image" /></p>
<p>到这里，我们的QtAv就编译完成了。</p>
<p><strong>后续有时间我会尝试使用这个库，然后做更进一步的分析</strong></p>
<html>
    <div style='font-weight:600;'>
    如果您觉得文章不错，不妨给个<span style='font-size:24px;color:blue;'>打赏</span>，写作不易，感谢各位的支持。您的支持是我最大的动力，谢谢！！！
    </div>
<center>
    <div>
        <table>
        <tr>
            <td><img src=https://www.cnblogs.com/images/cnblogs_com/swarmbees/1497876/o_weixin_reward.png border=0></td>
            <td><img src=https://www.cnblogs.com/images/cnblogs_com/swarmbees/1497876/o_zhifubao_reward.png border=0></td>
        </tr>
        </table>
    </div>
</center>
</html>
<p><br><br></p>
<hr />
<p><strong>很重要--转载声明</strong></p>
<ol>
<li><p>本站文章无特别说明，皆为原创，版权所有，转载时请用链接的方式，给出原文出处。同时写上原作者：<a href="https://www.cnblogs.com/swarmbees/">朝十晚八</a> or <a href="https://www.jianshu.com/u/7673f8cfb4e6">Twowords</a></p></li>
<li><p>如要转载，请原文转载，如在转载时修改本文，请事先告知，谢绝在转载时通过修改本文达到有利于转载者的目的。</p></li>
</ol>
<hr />
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>