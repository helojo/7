<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修1025 反转链表（链表，reverse)' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>1025 反转链表（链表，reverse)</center></div><div class='banquan'>原文出处:本文由博客园博主小泰格儿提供。<br/>
原文连接:https://www.cnblogs.com/littleLittleTiger/p/10603442.html</div><br>
    <h2>题目：</h2>
<div class="problem_2tXnk p-3 mb-3 background-grey-1">
<div class="ques-view">
<p>给定一个常数 <span class="katex"><span class="katex-html"><span class="strut" style="height: 0.68333em;"><span class="strut bottom" style="height: 0.68333em; vertical-align: 0em;"><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right: 0.07153em;">K 以及一个单链表 <span class="katex"><span class="katex-html"><span class="strut" style="height: 0.68333em;"><span class="strut bottom" style="height: 0.68333em; vertical-align: 0em;"><span class="base textstyle uncramped"><span class="mord mathit">L，请编写程序将 <span class="katex"><span class="katex-html"><span class="strut" style="height: 0.68333em;"><span class="strut bottom" style="height: 0.68333em; vertical-align: 0em;"><span class="base textstyle uncramped"><span class="mord mathit">L 中每 <span class="katex"><span class="katex-html"><span class="strut" style="height: 0.68333em;"><span class="strut bottom" style="height: 0.68333em; vertical-align: 0em;"><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right: 0.07153em;">K 个结点反转。例如：给定 <span class="katex"><span class="katex-html"><span class="strut" style="height: 0.68333em;"><span class="strut bottom" style="height: 0.68333em; vertical-align: 0em;"><span class="base textstyle uncramped"><span class="mord mathit">L 为 1&rarr;2&rarr;3&rarr;4&rarr;5&rarr;6，<span class="katex"><span class="katex-html"><span class="strut" style="height: 0.68333em;"><span class="strut bottom" style="height: 0.68333em; vertical-align: 0em;"><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right: 0.07153em;">K 为 3，则输出应该为 3&rarr;2&rarr;1&rarr;6&rarr;5&rarr;4；如果 <span class="katex"><span class="katex-html"><span class="strut" style="height: 0.68333em;"><span class="strut bottom" style="height: 0.68333em; vertical-align: 0em;"><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right: 0.07153em;">K 为 4，则输出应该为 4&rarr;3&rarr;2&rarr;1&rarr;5&rarr;6，即最后不到 <span class="katex"><span class="katex-html"><span class="strut" style="height: 0.68333em;"><span class="strut bottom" style="height: 0.68333em; vertical-align: 0em;"><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right: 0.07153em;">K 个元素不反转。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<h3 id="-">输入格式：</h3>
<p>每个输入包含 1 个测试用例。每个测试用例第 1 行给出第 1 个结点的地址、结点总个数正整数 <span class="katex"><span class="katex-html"><span class="strut" style="height: 0.68333em;"><span class="strut bottom" style="height: 0.68333em; vertical-align: 0em;"><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right: 0.10903em;">N （&lt;=10<sup>5</sup><span class="katex"><span class="katex-html"><span class="strut" style="height: 0.8141079999999999em;"><span class="strut bottom" style="height: 0.950078em; vertical-align: -0.13597em;"><span class="base textstyle uncramped"><span class="mrel"><span class="mord mathrm"><span class="mord"><span class="mord mathrm"><span class="msupsub"><span class="vlist"><span style="top: -0.363em; margin-right: 0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size: 0em;">​)<span class="reset-textstyle scriptstyle uncramped mtight"><span class="mord mathrm mtight">5<span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size: 0em;">​​)、以及正整数 <span class="katex"><span class="katex-html"><span class="strut" style="height: 0.68333em;"><span class="strut bottom" style="height: 0.68333em; vertical-align: 0em;"><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right: 0.07153em;">K (<span class="katex"><span class="katex-html"><span class="strut" style="height: 0.68333em;"><span class="strut bottom" style="height: 0.8193em; vertical-align: -0.13597em;"><span class="base textstyle uncramped"><span class="mrel">&le;<span class="mord mathit" style="margin-right: 0.10903em;">N)，即要求反转的子链结点的个数。结点的地址是 5 位非负整数，NULL 地址用 <span class="katex"><span class="katex-html"><span class="strut" style="height: 0.64444em;"><span class="strut bottom" style="height: 0.72777em; vertical-align: -0.08333em;"><span class="base textstyle uncramped"><span class="mord">&minus;<span class="mord mathrm">1 表示。)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>)、以及正整数<span class="katex"><span class="katex-html"><span class="strut" style="height: 0.68333em;"><span class="strut bottom" style="height: 0.68333em; vertical-align: 0em;"><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right: 0.07153em;">K (<span class="katex"><span class="katex-html"><span class="strut" style="height: 0.68333em;"><span class="strut bottom" style="height: 0.8193em; vertical-align: -0.13597em;"><span class="base textstyle uncramped"><span class="mrel">&le;<span class="mord mathit" style="margin-right: 0.10903em;">N)，即要求反转的子链结点的个数。结点的地址是 5 位非负整数，NULL 地址用 <span class="katex"><span class="katex-html"><span class="strut" style="height: 0.64444em;"><span class="strut bottom" style="height: 0.72777em; vertical-align: -0.08333em;"><span class="base textstyle uncramped"><span class="mord">&minus;<span class="mord mathrm">1 表示。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>接下来有 <span class="katex"><span class="katex-html"><span class="strut" style="height: 0.68333em;"><span class="strut bottom" style="height: 0.68333em; vertical-align: 0em;"><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right: 0.10903em;">N 行，每行格式为：</span></span></span></span></span></span></p>
<pre><code>Address Data Next
</code></pre>
<p>其中 <code>Address</code> 是结点地址，<code>Data</code> 是该结点保存的整数数据，<code>Next</code> 是下一结点的地址。</p>
<h3 id="-">输出格式：</h3>
<p>对每个测试用例，顺序输出反转后的链表，其上每个结点占一行，格式与输入相同。</p>
<h3 id="-">输入样例：</h3>
<pre><code class="lang-in">00100 6 4
00000 4 99999
00100 1 12309
68237 6 -1
33218 3 00000
99999 5 68237
12309 2 33218
</code></pre>
<h3 id="-">输出样例：</h3>
<pre><code class="lang-out">00000 4 33218
33218 3 12309
12309 2 00100
00100 1 99999
99999 5 68237
68237 6 -1
</code></pre>
</div>
</div>
<p>&nbsp;</p>
<h2>思路：</h2>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 刚看到这题时想用好几个栈来存每K个地址，然后倒着拿出来，但是这样好像还得动态的来个栈数组，stack也没用过几次，想想就麻烦，还是直接去看了大佬的解法。了解到了reverse()这个神奇的存在。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 用一个结构体数组接收链表之后，顺着地址把链表捋一遍，每个结点的地址按顺序存入一个数组（注意：还应该考虑输入样例中有不在链表中的结点的情况，所以用一个sum记录一下链表的结点数，方便后面循环）。然后呢，就把数组每k个元素倒一下，再直接按着数组存的地址的顺序输出就行了。</p>
<p>&nbsp;</p>
<h2>知识点for me：</h2>
<p>reverse函数可以反转一个容器中的内容，包含在<span style="color: #ff9900;">&lt;algorithm&gt;</span>库中。</p>
<p>reverse()会将区间[beg,end)内的元素全部逆序，第二个参数应该是被反转的最后一个元素的下一个地址；</p>
<p>reverse_copy(sourceBeg,sourceEnd,destBeg)可以将反转后的数组存入另一个数组中，如：&nbsp;&nbsp; <code class="language-cpp hljs">reverse_copy(a,a+<span class="hljs-number">10,b); <span class="hljs-comment">//倒序放入b数组中</span></span></code></p>
<p>&nbsp;</p>
<h2><span class="hljs-number"><span class="hljs-comment">上代码：</span></span></h2>
<div class="cnblogs_code">
<pre>#include &lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;algorithm&gt;
<span style="color: #0000ff;">struct</span><span style="color: #000000;"> NODE{
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> key,next;
}node[</span><span style="color: #800080;">100005</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> start,n,r,add;
    cin</span>&gt;&gt;start&gt;&gt;n&gt;&gt;<span style="color: #000000;">r;
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> arr[n];
    </span><span style="color: #0000ff;">int</span> before=<span style="color: #000000;">start;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>;i&lt;n;i++<span style="color: #000000;">)
    {
        cin</span>&gt;&gt;<span style="color: #000000;">add;
        cin</span>&gt;&gt;node[add].key&gt;&gt;<span style="color: #000000;">node[add].next;
    }
    </span><span style="color: #0000ff;">int</span> sum=<span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>;before!=-<span style="color: #800080;">1</span>;i++<span style="color: #000000;">){
        arr[i]</span>=<span style="color: #000000;">before;
        before</span>=<span style="color: #000000;">node[before].next;
        sum</span>++<span style="color: #000000;">;
    }
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>;i&lt;sum-sum%r;i+=<span style="color: #000000;">r){
        reverse(arr</span>+i,arr+i+<span style="color: #000000;">r);
    }
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>;i&lt;sum;i++<span style="color: #000000;">){
        </span><span style="color: #0000ff;">if</span>(i==<span style="color: #800080;">0</span><span style="color: #000000;">){
            printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%05d %d </span><span style="color: #800000;">"</span><span style="color: #000000;">,arr[i],node[arr[i]].key);
            </span><span style="color: #0000ff;">continue</span><span style="color: #000000;">;
        }</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
            printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%05d\n</span><span style="color: #800000;">"</span><span style="color: #000000;">,arr[i]);
            printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%05d %d </span><span style="color: #800000;">"</span><span style="color: #000000;">,arr[i],node[arr[i]].key);
        }        
    }
    cout</span>&lt;&lt;<span style="color: #800000;">"</span><span style="color: #800000;">-1</span><span style="color: #800000;">"</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
 } </span></pre>
</div>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>