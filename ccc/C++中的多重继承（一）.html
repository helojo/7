<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修C++中的多重继承（一）' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>C++中的多重继承（一）</center></div><div class='banquan'>原文出处:本文由博客园博主子宇24提供。<br/>
原文连接:https://www.cnblogs.com/dishengAndziyu/p/10916298.html</div><br>
    <p align="left">1，C++ 中是否允许一个类继承自多个父类？</p>
<p align="left">&nbsp;&nbsp;&nbsp; 1，可以；</p>
<p align="left">&nbsp;&nbsp;&nbsp; 2，这种情况就是多重继承；</p>
<p align="left">&nbsp;&nbsp;&nbsp; 3，多重继承的表象就是一个类有多个父类；</p>
<p align="left">&nbsp;&nbsp;&nbsp; 4，这是 C++ 非常特别的一个特性，在其他的程序设计语言中比如 C#、Java、Object Pascal 中都只支持单重继承；</p>
<p align="left">&nbsp;&nbsp;&nbsp;</p>
<p align="left">2，C++ 支持编写多重继承的代码：</p>
<p align="left">&nbsp;&nbsp;&nbsp; 1，一个子类可以拥有多个父类；</p>
<p align="left">&nbsp;&nbsp;&nbsp; 2，子类拥有所有父类的成员变量；</p>
<p align="left">&nbsp;&nbsp;&nbsp; 3，子类继承所有父类的成员函数；</p>
<p align="left">&nbsp;&nbsp;&nbsp; 4，子类对象可以当作任意父类对象使用；</p>
<p align="left">&nbsp;&nbsp;&nbsp;</p>
<p align="left">3，多重继承的语法规则：</p>
<p align="left">&nbsp;&nbsp;&nbsp; 1，代码示例：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> <span style="color: #0000ff;">class</span> Derived : <span style="color: #0000ff;">public</span> BaseA, <span style="color: #0000ff;">public</span> BaseB, <span style="color: #0000ff;">public</span><span style="color: #000000;"> BaseC
</span><span style="color: #008080;">2</span> <span style="color: #000000;">{
</span><span style="color: #008080;">3</span>     <span style="color: #008000;">//</span><span style="color: #008000;"> ...</span>
<span style="color: #008080;">4</span> };</pre>
</div>
<p align="left">&nbsp;&nbsp;&nbsp; 2，多重继承的本质与单继承相同；</p>
<p align="left">&nbsp;&nbsp;&nbsp;</p>
<p align="left">4，多重继承问题一编程实验：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">  1</span> #include &lt;iostream&gt;
<span style="color: #008080;">  2</span> #include &lt;<span style="color: #0000ff;">string</span>&gt;
<span style="color: #008080;">  3</span> 
<span style="color: #008080;">  4</span> <span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #008080;">  5</span> 
<span style="color: #008080;">  6</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> BaseA
</span><span style="color: #008080;">  7</span> <span style="color: #000000;">{
</span><span style="color: #008080;">  8</span>     <span style="color: #0000ff;">int</span><span style="color: #000000;"> ma;
</span><span style="color: #008080;">  9</span>     
<span style="color: #008080;"> 10</span> <span style="color: #0000ff;">public</span><span style="color: #000000;">:
</span><span style="color: #008080;"> 11</span>     BaseA(<span style="color: #0000ff;">int</span><span style="color: #000000;"> a)
</span><span style="color: #008080;"> 12</span> <span style="color: #000000;">    {
</span><span style="color: #008080;"> 13</span>         ma =<span style="color: #000000;"> a;
</span><span style="color: #008080;"> 14</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 15</span>     
<span style="color: #008080;"> 16</span>     <span style="color: #0000ff;">int</span><span style="color: #000000;"> getA()
</span><span style="color: #008080;"> 17</span> <span style="color: #000000;">    {
</span><span style="color: #008080;"> 18</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> ma;
</span><span style="color: #008080;"> 19</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 20</span> <span style="color: #000000;">};
</span><span style="color: #008080;"> 21</span> 
<span style="color: #008080;"> 22</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> BaseB
</span><span style="color: #008080;"> 23</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 24</span>     <span style="color: #0000ff;">int</span><span style="color: #000000;"> mb;
</span><span style="color: #008080;"> 25</span>     
<span style="color: #008080;"> 26</span> <span style="color: #0000ff;">public</span><span style="color: #000000;">:
</span><span style="color: #008080;"> 27</span>     BaseB(<span style="color: #0000ff;">int</span><span style="color: #000000;"> b)
</span><span style="color: #008080;"> 28</span> <span style="color: #000000;">    {
</span><span style="color: #008080;"> 29</span>         mb =<span style="color: #000000;"> b;
</span><span style="color: #008080;"> 30</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 31</span>     
<span style="color: #008080;"> 32</span>     <span style="color: #0000ff;">int</span><span style="color: #000000;"> getB()
</span><span style="color: #008080;"> 33</span> <span style="color: #000000;">    {
</span><span style="color: #008080;"> 34</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> mb;
</span><span style="color: #008080;"> 35</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 36</span> <span style="color: #000000;">};
</span><span style="color: #008080;"> 37</span> 
<span style="color: #008080;"> 38</span> <span style="color: #0000ff;">class</span> Derived : <span style="color: #0000ff;">public</span> BaseA, <span style="color: #0000ff;">public</span><span style="color: #000000;"> BaseB
</span><span style="color: #008080;"> 39</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 40</span>     <span style="color: #0000ff;">int</span><span style="color: #000000;"> mc;
</span><span style="color: #008080;"> 41</span>     
<span style="color: #008080;"> 42</span> <span style="color: #0000ff;">public</span><span style="color: #000000;">:
</span><span style="color: #008080;"> 43</span>     Derived(<span style="color: #0000ff;">int</span> a, <span style="color: #0000ff;">int</span> b, <span style="color: #0000ff;">int</span> c) : BaseA(a), BaseB(b)  <span style="color: #008000;">//</span><span style="color: #008000;"> 初始化列表中同时调用父类的构造函数；</span>
<span style="color: #008080;"> 44</span> <span style="color: #000000;">    {
</span><span style="color: #008080;"> 45</span>         mc =<span style="color: #000000;"> c;
</span><span style="color: #008080;"> 46</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 47</span>     
<span style="color: #008080;"> 48</span>     <span style="color: #0000ff;">int</span><span style="color: #000000;"> getC()
</span><span style="color: #008080;"> 49</span> <span style="color: #000000;">    {
</span><span style="color: #008080;"> 50</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> mc;
</span><span style="color: #008080;"> 51</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 52</span>     
<span style="color: #008080;"> 53</span>     <span style="color: #0000ff;">void</span><span style="color: #000000;"> print()
</span><span style="color: #008080;"> 54</span> <span style="color: #000000;">    {
</span><span style="color: #008080;"> 55</span>         cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">ma = </span><span style="color: #800000;">"</span> &lt;&lt; getA() &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">, </span><span style="color: #800000;">"</span>
<span style="color: #008080;"> 56</span>              &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">mb = </span><span style="color: #800000;">"</span> &lt;&lt; getB() &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">, </span><span style="color: #800000;">"</span>
<span style="color: #008080;"> 57</span>              &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">mc = </span><span style="color: #800000;">"</span> &lt;&lt; mc &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;"> 58</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 59</span> <span style="color: #000000;">};
</span><span style="color: #008080;"> 60</span> 
<span style="color: #008080;"> 61</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
</span><span style="color: #008080;"> 62</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 63</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">sizeof(Derived) = </span><span style="color: #800000;">"</span> &lt;&lt; <span style="color: #0000ff;">sizeof</span>(Derived) &lt;&lt; endl;    <span style="color: #008000;">//</span><span style="color: #008000;"> 12</span>
<span style="color: #008080;"> 64</span>     
<span style="color: #008080;"> 65</span>     Derived d(<span style="color: #800080;">1</span>, <span style="color: #800080;">2</span>, <span style="color: #800080;">3</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 66</span>     
<span style="color: #008080;"> 67</span> <span style="color: #000000;">    d.print();
</span><span style="color: #008080;"> 68</span>     
<span style="color: #008080;"> 69</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">d.getA() = </span><span style="color: #800000;">"</span> &lt;&lt; d.getA() &lt;&lt; endl;  <span style="color: #008000;">//</span><span style="color: #008000;"> 1</span>
<span style="color: #008080;"> 70</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">d.getB() = </span><span style="color: #800000;">"</span> &lt;&lt; d.getB() &lt;&lt; endl;  <span style="color: #008000;">//</span><span style="color: #008000;"> 2</span>
<span style="color: #008080;"> 71</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">d.getC() = </span><span style="color: #800000;">"</span> &lt;&lt; d.getC() &lt;&lt; endl;  <span style="color: #008000;">//</span><span style="color: #008000;"> 3</span>
<span style="color: #008080;"> 72</span>     
<span style="color: #008080;"> 73</span>     cout &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;"> 74</span>     
<span style="color: #008080;"> 75</span>     BaseA* pa = &amp;<span style="color: #000000;">d;
</span><span style="color: #008080;"> 76</span>     BaseB* pb = &amp;<span style="color: #000000;">d;
</span><span style="color: #008080;"> 77</span>     
<span style="color: #008080;"> 78</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">pa-&gt;getA() = </span><span style="color: #800000;">"</span> &lt;&lt; pa-&gt;getA() &lt;&lt; endl;  <span style="color: #008000;">//</span><span style="color: #008000;"> 1</span>
<span style="color: #008080;"> 79</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">pb-&gt;getB() = </span><span style="color: #800000;">"</span> &lt;&lt; pb-&gt;getB() &lt;&lt; endl;  <span style="color: #008000;">//</span><span style="color: #008000;"> 2</span>
<span style="color: #008080;"> 80</span>     
<span style="color: #008080;"> 81</span>     cout &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;"> 82</span>     
<span style="color: #008080;"> 83</span>     <span style="color: #0000ff;">void</span>* paa =<span style="color: #000000;"> pa;
</span><span style="color: #008080;"> 84</span>     <span style="color: #0000ff;">void</span>* pbb =<span style="color: #000000;"> pb;
</span><span style="color: #008080;"> 85</span>     
<span style="color: #008080;"> 86</span>     
<span style="color: #008080;"> 87</span>     <span style="color: #0000ff;">if</span>( paa ==<span style="color: #000000;"> pbb )
</span><span style="color: #008080;"> 88</span> <span style="color: #000000;">    {
</span><span style="color: #008080;"> 89</span>         cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">Pointer to the same object!</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl; 
</span><span style="color: #008080;"> 90</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 91</span>     <span style="color: #0000ff;">else</span>
<span style="color: #008080;"> 92</span> <span style="color: #000000;">    {
</span><span style="color: #008080;"> 93</span>         cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">Error</span><span style="color: #800000;">"</span> &lt;&lt; endl;  <span style="color: #008000;">//</span><span style="color: #008000;"> 打印 Error；</span>
<span style="color: #008080;"> 94</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 95</span>     
<span style="color: #008080;"> 96</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">pa = </span><span style="color: #800000;">"</span> &lt;&lt; pa &lt;&lt; endl;  <span style="color: #008000;">//</span><span style="color: #008000;"> 0xbfe7e304</span>
<span style="color: #008080;"> 97</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">pb = </span><span style="color: #800000;">"</span> &lt;&lt; pb &lt;&lt; endl;  <span style="color: #008000;">//</span><span style="color: #008000;"> 0xbfe7e308</span>
<span style="color: #008080;"> 98</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">paa = </span><span style="color: #800000;">"</span> &lt;&lt; paa &lt;&lt; endl;  <span style="color: #008000;">//</span><span style="color: #008000;"> 0xbfe7e304</span>
<span style="color: #008080;"> 99</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">pbb = </span><span style="color: #800000;">"</span> &lt;&lt; pbb &lt;&lt; endl;   <span style="color: #008000;">//</span><span style="color: #008000;"> 0xbf7e308</span>
<span style="color: #008080;">100</span>     
<span style="color: #008080;">101</span>     <span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">102</span> }</pre>
</div>
<p align="left">&nbsp;&nbsp;&nbsp;</p>
<p align="left">5，通过多重继承得到的对象可能拥有&ldquo;不同地址&rdquo;：</p>
<p align="left">&nbsp;&nbsp;&nbsp; 1，解决方案：无；</p>
<p align="left">&nbsp;&nbsp;&nbsp; 2，多重继承成员变量排布：</p>
<p align="center">&nbsp;<img src="./images/C++中的多重继承（一）0.png" alt="" /></p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1，指向同一个对象的不同位置；</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2，不方便开发了，因为我们一般比较这两个指针是否相同来判断是否指向同一个对象；</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3，这里两个地址值不同依然可能指向同一个对象，情况变得非常复杂；</p>
<p align="left">&nbsp;&nbsp;&nbsp;</p>
<p align="left">6，多重继承可能产生冗余的成员：</p>
<p align="center"><img src="./images/C++中的多重继承（一）1.png" alt="" />&nbsp;</p>
<p align="left">&nbsp;&nbsp;&nbsp; 1，Doctor 这个类有两个 m_name，两个 m_age；</p>
<p align="left">&nbsp;&nbsp;&nbsp;</p>
<p align="left">7，多重继承问题二编程实验：</p>
<p align="left">&nbsp;&nbsp;&nbsp; 1，描述 本文6 中类图：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> #include &lt;iostream&gt;
<span style="color: #008080;"> 2</span> #include &lt;<span style="color: #0000ff;">string</span>&gt;
<span style="color: #008080;"> 3</span> 
<span style="color: #008080;"> 4</span> <span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #008080;"> 5</span> 
<span style="color: #008080;"> 6</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> People
</span><span style="color: #008080;"> 7</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 8</span>     <span style="color: #0000ff;">string</span><span style="color: #000000;"> m_name;
</span><span style="color: #008080;"> 9</span>     <span style="color: #0000ff;">int</span><span style="color: #000000;"> m_age;
</span><span style="color: #008080;">10</span> <span style="color: #0000ff;">public</span><span style="color: #000000;">:
</span><span style="color: #008080;">11</span>     People(<span style="color: #0000ff;">string</span> name, <span style="color: #0000ff;">int</span><span style="color: #000000;"> age)
</span><span style="color: #008080;">12</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">13</span>         m_name =<span style="color: #000000;"> name;
</span><span style="color: #008080;">14</span>         m_age =<span style="color: #000000;"> age;
</span><span style="color: #008080;">15</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">16</span>     <span style="color: #0000ff;">void</span><span style="color: #000000;"> print()
</span><span style="color: #008080;">17</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">18</span>         cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">Name = </span><span style="color: #800000;">"</span> &lt;&lt; m_name &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">, </span><span style="color: #800000;">"</span>
<span style="color: #008080;">19</span>              &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">Age = </span><span style="color: #800000;">"</span> &lt;&lt; m_age &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">20</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">21</span> <span style="color: #000000;">};
</span><span style="color: #008080;">22</span> 
<span style="color: #008080;">23</span> <span style="color: #0000ff;">class</span> Teacher : <span style="color: #0000ff;">virtual</span> <span style="color: #0000ff;">public</span><span style="color: #000000;"> People
</span><span style="color: #008080;">24</span> <span style="color: #000000;">{
</span><span style="color: #008080;">25</span> <span style="color: #0000ff;">public</span><span style="color: #000000;">:
</span><span style="color: #008080;">26</span>     Teacher(<span style="color: #0000ff;">string</span> name, <span style="color: #0000ff;">int</span><span style="color: #000000;"> age) : People(name, age)
</span><span style="color: #008080;">27</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">28</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">29</span> <span style="color: #000000;">};
</span><span style="color: #008080;">30</span> 
<span style="color: #008080;">31</span> <span style="color: #0000ff;">class</span> Student : <span style="color: #0000ff;">virtual</span> <span style="color: #0000ff;">public</span><span style="color: #000000;"> People
</span><span style="color: #008080;">32</span> <span style="color: #000000;">{
</span><span style="color: #008080;">33</span> <span style="color: #0000ff;">public</span><span style="color: #000000;">:
</span><span style="color: #008080;">34</span>     Student(<span style="color: #0000ff;">string</span> name, <span style="color: #0000ff;">int</span><span style="color: #000000;"> age) : People(name, age)
</span><span style="color: #008080;">35</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">36</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">37</span> <span style="color: #000000;">};
</span><span style="color: #008080;">38</span> 
<span style="color: #008080;">39</span> <span style="color: #0000ff;">class</span> Doctor : <span style="color: #0000ff;">public</span> Teacher, <span style="color: #0000ff;">public</span><span style="color: #000000;"> Student
</span><span style="color: #008080;">40</span> <span style="color: #000000;">{
</span><span style="color: #008080;">41</span> <span style="color: #0000ff;">public</span><span style="color: #000000;">:
</span><span style="color: #008080;">42</span>     Doctor(<span style="color: #0000ff;">string</span> name, <span style="color: #0000ff;">int</span> age) : Teacher(name, age + <span style="color: #800080;">1</span><span style="color: #000000;">), Student(name, age), People(name, age)
</span><span style="color: #008080;">43</span>     {      <span style="color: #008000;">//</span><span style="color: #008000;"> 如果在这里没有调用 People(name, age)，编译器会在这一样显示如下错误：
</span><span style="color: #008080;">44</span> 　　　　　　 <span style="color: #008000;">//</span><span style="color: #008000;"> error: no matching function for call to 'People::People()'
</span><span style="color: #008080;">45</span>   　　　　  <span style="color: #008000;">//</span><span style="color: #008000;"> note: candidates are: People::People(std::string, int)  这是在父类构造的一行；</span>
<span style="color: #008080;">46</span>     }　　  <span style="color: #008000;">//</span><span style="color: #008000;"> note: People::People(const People&amp;) ，这个编译器提供，在类最开始那一行；</span>
<span style="color: #008080;">47</span> <span style="color: #000000;">};
</span><span style="color: #008080;">48</span> 
<span style="color: #008080;">49</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
</span><span style="color: #008080;">50</span> <span style="color: #000000;">{
</span><span style="color: #008080;">51</span>     Doctor d(<span style="color: #800000;">"</span><span style="color: #800000;">Delphi</span><span style="color: #800000;">"</span>, <span style="color: #800080;">33</span><span style="color: #000000;">);
</span><span style="color: #008080;">52</span>     
<span style="color: #008080;">53</span>     d.print();  <span style="color: #008000;">//</span><span style="color: #008000;"> 未有虚继承时，编译器显示：error: request for member 'print' is  ambiguous
</span><span style="color: #008080;">54</span> 　　　　　　　　　 <span style="color: #008000;">//</span><span style="color: #008000;">  error: candidates are: void People::print()
</span><span style="color: #008080;">55</span>                 <span style="color: #008000;">//</span><span style="color: #008000;">  error:                 void People::print()</span>
<span style="color: #008080;">56</span>     <span style="color: #008000;">/*</span><span style="color: #008000;"> 未有虚继承时，可以这样分作用域分辨符来继承 </span><span style="color: #008000;">*/</span>
<span style="color: #008080;">57</span>     d.Teacher::print();  <span style="color: #008000;">//</span><span style="color: #008000;"> Name = Delphi, Age = 33；</span>
<span style="color: #008080;">58</span>     d.Student::print();  <span style="color: #008000;">//</span><span style="color: #008000;"> Name = Delphi, Age = 33；</span>
<span style="color: #008080;">59</span>     
<span style="color: #008080;">60</span>     <span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">61</span> }</pre>
</div>
<p align="left">&nbsp;&nbsp;&nbsp;</p>
<p align="left">8，多重继承关系出现闭合时将产生数据冗余的问题：</p>
<p align="left">&nbsp;&nbsp;&nbsp; 1，解决方案：虚继承；</p>
<p align="left">&nbsp;&nbsp;&nbsp; 2，代码示例：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> People {};
</span><span style="color: #008080;">2</span> <span style="color: #0000ff;">class</span> Teacher : <span style="color: #0000ff;">virtual</span> <span style="color: #0000ff;">public</span><span style="color: #000000;"> People {};
</span><span style="color: #008080;">3</span> <span style="color: #0000ff;">class</span> Student : <span style="color: #0000ff;">virtual</span> <span style="color: #0000ff;">public</span><span style="color: #000000;"> People {};
</span><span style="color: #008080;">4</span> <span style="color: #0000ff;">class</span> Doctor : <span style="color: #0000ff;">public</span> Teacher, <span style="color: #0000ff;">public</span> Student {};</pre>
</div>
<p align="left">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;</p>
<p align="left">9，多重继承的问题二：</p>
<p align="left">&nbsp;&nbsp;&nbsp; 1，虚继承能够解决数据冗余问题；</p>
<p align="left">&nbsp;&nbsp; 2，中间层父类不再关心顶层父类的初始化；</p>
<p align="left">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 1，规则不清晰；</p>
<p align="left">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 2，当今的软件产品，动则几十万行代码，业务逻辑已经很复杂了，我们希望编程语言越简单越好，不希望几套标准，这样的话，只会造成生成效率的低下和致命的 bug；</p>
<p align="left">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 3，工程中可能是很多层继承，这样找的很麻烦，可以几班解决；</p>
<p align="left">&nbsp;&nbsp; 3，最终子类必须直接调用顶层父类的构造函数；</p>
<p align="left">&nbsp;&nbsp;</p>
<p align="left">10，问题：</p>
<p align="left">&nbsp;&nbsp;&nbsp; 1，当架构设计需要继承时，无法确定使用直接继承还是虚继承；</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1，开发者感觉增加了开发时间；</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2，架构设计时，无法知道开发者是否会多重继承；</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3，都做成虚继承的时候，多重继承加虚继承太过复杂，影响效率和移植性（不同编译器可能有不同实现方式）；</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4，多重继承只适合学术研究，工程一般不使用；</p>
<p align="left">&nbsp;&nbsp;&nbsp;</p>
<p align="left">11，小结：</p>
<p align="left">&nbsp;&nbsp;&nbsp; 1，C++ 支持多重继承的编程方式；</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1，除了 C++ 支持多重继承，基本上其它语言并不支持；</p>
<p align="left">&nbsp;&nbsp;&nbsp; 2，多重继承容易带来问题：</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1，可能出现&ldquo;同一个对象的地址不同&rdquo;的情况；</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2，虚继承可以解决数据冗余的问题；</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3，虚继承使得架构设计可能出现问题；</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>