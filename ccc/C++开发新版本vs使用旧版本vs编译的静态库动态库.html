<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修C++开发新版本vs使用旧版本vs编译的静态库动态库' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>C++开发新版本vs使用旧版本vs编译的静态库动态库</center></div><div class='banquan'>原文出处:本文由博客园博主skytcat提供。<br/>
原文连接:https://www.cnblogs.com/skytcat/p/11436794.html</div><br>
    <p>关于vs潜在的升级问题概述 (Visual C++)查看官网的介绍：<span id="__kindeditor_bookmark_start_24__"><a href="https://docs.microsoft.com/zh-cn/cpp/porting/overview-of-potential-upgrade-issues-visual-cpp?view=vs-2019" target="_blank">潜在的升级问题概述 (Visual C++)</a>。主要问题：</span></p>
<p>1.&nbsp;如果使用 /GL（全程序优化）进行编译，则生成的对象文件只能使用生成它时所用的同一工具集进行链接。即若在编译静态库时开启了全程序优化，那么编译出的静态库不可移植。</p>
<p>2.&nbsp;在 Visual Studio 2013 及更低版本中，不能保证使用不同编译器工具集和运行时库版本生成的对象文件 (OBJ)、静态库 (LIB)、动态库 (DLL) 和可执行文件 (EXE) 之间的二进制兼容性。在 Visual Studio 2015 及更高版本中，使用两个版本之一的编译器编译的运行时库和应用程序是二进制兼容的。 这意味着，如果拥有使用 Visual Studio 2015 生成的第三方库，则无需对其进行重新编译即可通过使用 Visual Studio 2017 或 Visual Studio 2019 生成的应用程序使用该库。关于二进制兼容可以查看：<a href="https://docs.microsoft.com/zh-cn/cpp/porting/binary-compat-2015-2017?view=vs-2019" target="_blank">Visual Studio 2015 和 Visual Studio 2019 之间的 C++ 二进制兼容性</a>。</p>
<p>3. 对于vs2013及更早版本编译的静态库，在vs及之后版本中提供了库 legacy_stdio_definitions.lib，该库提供了符号兼容性。但是，对于某些从通用 CRT 删除的符号，则无法提供兼容性符号。 这些符号包括一些函数（例如，__iob_func）和数据导出（例如，__imp___iob、__imp___pctype、__imp___mb_cur_max）。</p>
<p>&nbsp;</p>
<p>参考：windows下C++开发新版本vs使用旧版本vs编译的静态库动态库(项目vs版本升级)<a href="http://comonly.cn/l/p/1198.html">http://comonly.cn/l/p/1198.html</a></p>
<p>如果想让C++项目在不同版本vs下同时开发可以参考<a href="https://blog.csdn.net/weixin_42259823/article/details/100164754">https://blog.csdn.net/weixin_42259823/article/details/100164754</a></p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>