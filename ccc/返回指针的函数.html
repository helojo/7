<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修返回指针的函数' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>返回指针的函数</center></div><div class='banquan'>原文出处:本文由博客园博主lrra提供。<br/>
原文连接:https://www.cnblogs.com/cloverlp/p/12081322.html</div><br>
    <p>//有一个使用cout&lt;&lt;GetName()的函数，每次执行结果都是只输出了传入字符串的首地址，即第一个字符，想了很久没有找到办法，后来将函数类型改为指针函数，结果就对了，仍然不是很明白为什么可以这样输出，隐隐觉得函数的返回值仍然是一个地址，也许是cout函数的作用把后面的字符也输出了，先记下来，之后再慢慢找原因</p>
<p>//return类型为指针的函数，用cout输出，返回的是整个字符串</p>
<p>#include&lt;iostream&gt; <br />#include&lt;cstring&gt;   <br />using  namespace  std; </p>
<p>class  Person  { 　　　　<br />public:<br />	char  name[40];  <br />    char  tel[15];<br />    char *GetName(){return name;};<br />    char *GetTel(){return tel;};//定义指针型函数，输出才是整个字符串，非常重要！！！ ，形参是地址，所以实参传入的也是地址<br />	Person(char *Name,char*Tel){strcpy(name,Name);strcpy(tel,Tel);};//<br />	<br />};</p>
<p>class Student<br />{<br />private:<br />	char  major[18];<br />public:<br />	Student(char*Major){strcpy(major,Major);};<br />    char *GetMajor(){return major;};<br />        <br />};</p>
<p><br />class Teacher<br />{<br />private:<br />	char course[15];<br />	public:<br />		Teacher(char*Course){strcpy(course,Course);}<br />		char *GetCourse(){return course;};<br />		</p>
<p>};</p>
<p>//派生类：继承Person和Student，Teacher类</p>
<p>class StudentTeacher:public Person,public Student, public Teacher<br />{<br />	public:<br />		StudentTeacher(char*name,char*tel,char*major,char*course):Person(name,tel),Student(major),Teacher(course)&nbsp; &nbsp; //基类的初始化，使用初始化列表一次按照继承顺序给基类初始化<br />		{};<br />};</p>
<p>int  main() <br />{ <br />        char  name[40],  tel[15],  major[18],  course[15];//  分别代表名字、电话、专业、课程 <br />        cin  &gt;&gt;  name  &gt;&gt;  tel  &gt;&gt;  major  &gt;&gt;  course; <br />        StudentTeacher  st(name,  tel,  major,  course); <br />        cout  &lt;&lt;  st.GetName()  &lt;&lt;  endl; <br />        cout  &lt;&lt;  st.GetTel()  &lt;&lt;  endl; <br />        cout  &lt;&lt;  st.GetMajor()  &lt;&lt;  endl; <br />        cout  &lt;&lt;  st.GetCourse()  &lt;&lt;  endl; <br />        cin  &gt;&gt;  name  &gt;&gt;  tel;  //修改名字和电话   <br />        strcpy(st.name,  name); <br />        strcpy(st.tel,  tel); <br />        cout  &lt;&lt;  st.GetName()  &lt;&lt;  endl; <br />        cout  &lt;&lt;  st.GetTel()  &lt;&lt;  endl; <br />        cout  &lt;&lt;  st.GetMajor()  &lt;&lt;  endl; <br />        cout  &lt;&lt;  st.GetCourse()  &lt;&lt;  endl;         <br />        return  0; <br />} </p>
</div>
</div></div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>