<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修CF1248F Catowice City' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>CF1248F Catowice City</center></div><div class='banquan'>原文出处:本文由博客园博主wxyww提供。<br/>
原文连接:https://www.cnblogs.com/wxyww/p/CF1248F.html</div><br>
    <p><a href="http://codeforces.com/contest/1248/problem/F">题目链接</a></p>
<h1 id="problem">problem</h1>
<p>有<span class="math inline">\(n\)</span>个人，每个人家有一只猫。每个人都认识一些猫(其中肯定包括自己家的猫)。选出<span class="math inline">\(j\)</span>个人和<span class="math inline">\(k\)</span>只猫<span class="math inline">\((j,k\ge 1)\)</span>。使得<span class="math inline">\(j+k=n\)</span>且选出的人和猫都互不认识。</p>
<h1 id="solution">solution</h1>
<p>一个显然但是重要的推论是:</p>
<blockquote>
<p>每个人家都必须去一个人或者一只猫。</p>
</blockquote>
<p>这样我们只需要枚举第一个人家去的是人还是猫，就可以根据他们之间的关系推出其他的人家是人还是猫。当无论第一家选择人还是选择猫，都会导致去<span class="math inline">\(n\)</span>只猫或者<span class="math inline">\(n\)</span>个人时无解。</p>
<h1 id="code">code</h1>
<pre><code>#include&lt;cstdio&gt;
#include&lt;queue&gt;
#include&lt;vector&gt;
#include&lt;algorithm&gt;
#include&lt;iostream&gt;
#include&lt;cstring&gt;
#include&lt;ctime&gt;
using namespace std;
typedef long long ll;
const int N = 1000100;
ll read() {
    ll x = 0,f = 1;char c = getchar();
    while(c &lt; &#39;0&#39; || c &gt; &#39;9&#39;) {
        if(c == &#39;-&#39;) f = -1;c = getchar();
    }
    while(c &gt;= &#39;0&#39; &amp;&amp; c &lt;= &#39;9&#39;) {
        x = x * 10 + c - &#39;0&#39;;
        c = getchar();
    }
    return x * f;
}
vector&lt;int&gt;e1[N],e2[N];
int vis[N],cnt;
void dfs(int u) {
    vis[u] = 1;cnt++;
    for(vector&lt;int&gt;::iterator it = e1[u].begin();it != e1[u].end();++it) {
        if(vis[*it]) continue;
        dfs(*it);
    }
}
void dfs2(int u) {
    vis[u] = 1;cnt++;
    for(vector&lt;int&gt;::iterator it = e2[u].begin();it != e2[u].end();++it) {
        if(vis[*it]) continue;
        dfs2(*it);
    }
}
int main() {
    int T = read();
    while(T--) {
        int n = read(),m = read();
        cnt = 0;
        for(int i = 1;i &lt;= n;++i) vis[i] = 0;
        for(int i = 1;i &lt;= n;++i) e1[i].clear(),e2[i].clear();
        for(int i = 1;i &lt;= m;++i) {
            int u = read(),v = read();
            e1[u].push_back(v);e2[v].push_back(u);
        }
        dfs(1);
        int bz = 1;
        if(cnt == n) {
            cnt = 0;
            for(int i = 1;i &lt;= n;++i) vis[i] = 0;
            dfs2(1);
            if(cnt == n) {puts(&quot;No&quot;);continue;}
            cnt = n - cnt;
            bz = 0;
        }
        puts(&quot;Yes&quot;);
        printf(&quot;%d %d\n&quot;,cnt,n - cnt);
        for(int i = 1;i &lt;= n;++i) {
            if(vis[i] == bz) printf(&quot;%d &quot;,i);
        }
        puts(&quot;&quot;);
        for(int i = 1;i &lt;= n;++i) {
            if(vis[i] != bz) printf(&quot;%d &quot;,i);
        }
        puts(&quot;&quot;);
    }
    return 0;
}</code></pre>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>