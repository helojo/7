<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修C++学习（二十七）（C语言部分）之 预处理命令' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>C++学习（二十七）（C语言部分）之 预处理命令</center></div><div class='banquan'>原文出处:本文由博客园博主Yuuki丶提供。<br/>
原文连接:https://www.cnblogs.com/Yuuki-/p/10614020.html</div><br>
    <p><span style="font-family: 宋体; font-size: 18px;">&nbsp;结构体 联合 枚举&nbsp;</span></p>
<p><span style="font-family: 宋体; font-size: 18px;"><em id="__mceDel">联合 只能保存最后赋值的结果<br />枚举 所有可能值列出来</em></span></p>
<p><span style="font-family: 宋体; font-size: 18px;">预处理命令</span><br /><span style="font-family: 宋体; font-size: 18px;">是在编译前期的阶段</span><br /><span style="font-family: 宋体; font-size: 18px;"> 代码-（编译）--&gt;可执行文件（exe）</span><br /><span style="font-family: 宋体; font-size: 18px;">预编译 编译前对代码处理</span><br /><span style="font-family: 宋体; font-size: 18px;">    *1.插入头文件的内容 #include&lt;stdio.h&gt;</span><br /><span style="font-family: 宋体; font-size: 18px;">	*2.宏定义替换</span><br /><span style="font-family: 宋体; font-size: 18px;">	3.删除注释---&gt;注释在预处理阶段全部被删除</span><br /><span style="font-family: 宋体; font-size: 18px;">	*4.条件编译</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">#----&gt; 预处理符号</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">&nbsp;</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">1.宏定义 #define</span><br /><span style="font-family: 宋体; font-size: 18px;">    主要作用  定义一个宏 用于文本替换</span><br /><span style="font-family: 宋体; font-size: 18px;">	宏 没有类型可言	</span><br /><span style="font-family: 宋体; font-size: 18px;">	1.1无参宏定义</span><br /><span style="font-family: 宋体; font-size: 18px;">	    多用于常数的替换</span><br /><span style="font-family: 宋体; font-size: 18px;">	    可以不用一个一个的去修改常量</span><br /><span style="font-family: 宋体; font-size: 18px;">	    常用于常量 字符串 表达式  方便于检查和修改</span><br /><span style="font-family: 宋体; font-size: 18px;">	    注意 不能重复定义</span><br /><span style="font-family: 宋体; font-size: 18px;">	1.2带参宏定义</span><br /><span style="font-family: 宋体; font-size: 18px;">	    带参的宏 使用和函数类似</span><br /><span style="font-family: 宋体; font-size: 18px;">		1.只是简单地替换 不检查类型 一般用它替换简单的函数</span><br /><span style="font-family: 宋体; font-size: 18px;">		2.直接替换 不会先计算 也不会检查类型 （所以要注意有先级的问题）</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">		函数的参数需要声明类型 宏定义不需要</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">		带参宏定义 主要 替换简单函数（会比函数快）</span><br /><span style="font-family: 宋体; font-size: 18px;">		代码比较长的函数就不适用了</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">&nbsp;</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">2.文件包含 </span></p>
<p><span style="font-family: 宋体; font-size: 18px;">#include</span><br /><span style="font-family: 宋体; font-size: 18px;">    包含函数定义</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">#include&lt;stdio.h&gt;//系统提供的 一般用&lt;&gt;</span><br /><span style="font-family: 宋体; font-size: 18px;">	#include"stdio.h"//自己写的头文件用""</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">	区别：</span><br /><span style="font-family: 宋体; font-size: 18px;">	&lt;&gt;查找范围在系统的文件下（如果找不到就显示找不到）</span><br /><span style="font-family: 宋体; font-size: 18px;">	""查找范围--&gt;现在当前文件下寻找，如果找到就直接使用 如果找不到就在系统文件下寻找 如果找不到就报错</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">	自己写的头文件在项目文件夹下只能用""</span><br /><span style="font-family: 宋体; font-size: 18px;">	系统提供的头文件 &lt;&gt;会查找的快一点</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">添加方式如下：</span></p>
<p><span style="font-family: 宋体; font-size: 18px;"><img src="./images/C++学习（二十七）（C语言部分）之 预处理命令0.png" alt="" /></span></p>
<p><span style="font-family: 宋体; font-size: 18px;"><img src="./images/C++学习（二十七）（C语言部分）之 预处理命令1.png" alt="" width="742" height="515" /></span></p>
<p><span style="font-family: 宋体; font-size: 18px;">然后在源文件部分创建一个同名的.cpp文件&nbsp; *****一定要同名*****</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">例如：</span></p>
<p><span style="font-family: 宋体; font-size: 18px;"><img src="./images/C++学习（二十七）（C语言部分）之 预处理命令2.png" alt="" /></span></p>
<p><span style="font-family: 宋体; font-size: 18px;"><img src="./images/C++学习（二十七）（C语言部分）之 预处理命令3.png" alt="" /></span></p>
<p><span style="font-family: 宋体; font-size: 18px;"><img src="./images/C++学习（二十七）（C语言部分）之 预处理命令4.png" alt="" /></span></p>
<p><span style="font-family: 宋体; font-size: 18px;">自己写的头文件 </span></p>
<p><span style="font-family: 宋体; font-size: 18px;">1.添加一个.h文件 和添加一个同名的.cpp文件</span><br /><span style="font-family: 宋体; font-size: 18px;">	               2..cpp文件包含头文件</span><br /><span style="font-family: 宋体; font-size: 18px;">				   3.函数声明放在.h里面 定义放在.cpp中</span><br /><span style="font-family: 宋体; font-size: 18px;">				   函数声明定义全放在.h中也可以</span><br /><span style="font-family: 宋体; font-size: 18px;">				   注意：1.如果放在.cpp里面的函数需要调用其他函数 可以在.h里面包含自己想要的头文件</span><br /><span style="font-family: 宋体; font-size: 18px;">				         2.定义之后 项要使用这个函数 只需要在代码中包含对应的头文件即可</span><br /><span style="font-family: 宋体; font-size: 18px;">						 3.防止头文件的相互包含</span><br /><span style="font-family: 宋体; font-size: 18px;">						     a.h  b.h</span><br /><span style="font-family: 宋体; font-size: 18px;">						     a.h包含b.h 同时b.h包含a.h 文件相互包含 会导致错误</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">注意：1.一般预处理命令 后面最好不要加分号&nbsp;</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">&nbsp;</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">3.条件编译</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">#if //后面跟着一个条件 条件如果成立就执行后面的语句 编译时候包含后面几句 编译之前可以确定的条件</span><br /><span style="font-family: 宋体; font-size: 18px;">#endif  //结束</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">#elif  //后面也会接条件  else if  不可以单独使用</span><br /><span style="font-family: 宋体; font-size: 18px;">#else  //不可以单独使用</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">#ifndef //if not define 宏的作用只是判断头文件是否被包含</span><br /><span style="font-family: 宋体; font-size: 18px;">包含头文件的时候定义一个宏 表示头文件已经包含过了，避免头文件的重复包含</span><br /><span style="font-family: 宋体; font-size: 18px;">#ifndef _INC_STDIO  //若果没有定义，那么就定义一个宏</span><br /><span style="font-family: 宋体; font-size: 18px;">#define _INC_STDIO</span><br /><span style="font-family: 宋体; font-size: 18px;">#pragma once   //防止头文件重复包含 这个文件只会包含一次</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">#error</span><br /><span style="font-family: 宋体; font-size: 18px;">#pragma once  头文件只包含一次</span><br /><span style="font-family: 宋体; font-size: 18px;">#pragma comment(LIB,"WINIMMM.LIB")</span><br /><span style="font-family: 宋体; font-size: 18px;">#pragma pack(n)   控制结构体对齐的</span></p>
<p><br /><img src="./images/C++学习（二十七）（C语言部分）之 预处理命令5.png" alt="" /></p>
<p>&nbsp;</p>
<p><span style="font-family: 宋体; font-size: 18px;">一、宏定义</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">1.无参宏定义</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">测试代码笔记如下：</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #008000;">//</span><span style="color: #008000;">无参宏定义</span>
<span style="color: #008080;"> 2</span> #include&lt;stdio.h&gt;
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">#define</span> PI 3.1415926  <span style="color: #008000;">//</span><span style="color: #008000;">定义的一个带参数的宏 作用：文本替换</span>
<span style="color: #008080;"> 4</span> <span style="color: #0000ff;">#define</span> Size 3*4+5
<span style="color: #008080;"> 5</span> <span style="color: #0000ff;">#define</span> HELLO "hello world!"
<span style="color: #008080;"> 6</span> <span style="color: #0000ff;">#define</span> 主函数 int main()
<span style="color: #008080;"> 7</span> <span style="color: #0000ff;">#define</span> 退出 return 0;
<span style="color: #008080;"> 8</span> 
<span style="color: #008080;"> 9</span> <span style="color: #000000;">主函数
</span><span style="color: #008080;">10</span> <span style="color: #000000;">{
</span><span style="color: #008080;">11</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">%lf\n</span><span style="color: #800000;">"</span><span style="color: #000000;">, PI);
</span><span style="color: #008080;">12</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span><span style="color: #000000;">, Size);
</span><span style="color: #008080;">13</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">%s\n</span><span style="color: #800000;">"</span><span style="color: #000000;">, HELLO);
</span><span style="color: #008080;">14</span> <span style="color: #000000;">    getchar();
</span><span style="color: #008080;">15</span> <span style="color: #000000;">    退出
</span><span style="color: #008080;">16</span> }</pre>
</div>
<p>&nbsp;</p>
<p><span style="font-family: 宋体; font-size: 18px;">2.带参宏定义</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">测试代码笔记如下：</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #008000;">//</span><span style="color: #008000;">带参宏定义</span>
<span style="color: #008080;"> 2</span> #include&lt;stdio.h&gt;
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">#define</span> M(a,b)(a+b)
<span style="color: #008080;"> 4</span> <span style="color: #0000ff;">#define</span> POW(a,b)(a*b)
<span style="color: #008080;"> 5</span> <span style="color: #008000;">//</span><span style="color: #008000;">可选值不较少 可以直接用#define定义
</span><span style="color: #008080;"> 6</span> <span style="color: #008000;">//</span><span style="color: #008000;">可选值比较多 可以用枚举比较方便</span>
<span style="color: #008080;"> 7</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
</span><span style="color: #008080;"> 8</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 9</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span>, M(<span style="color: #800080;">3</span>, <span style="color: #800080;">4</span><span style="color: #000000;">));
</span><span style="color: #008080;">10</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span>, POW(<span style="color: #800080;">3</span>, <span style="color: #800080;">4</span>));<span style="color: #008000;">//</span><span style="color: #008000;">POW（3,4）换成3*4  只是替换没有传参</span>
<span style="color: #008080;">11</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span>, POW(<span style="color: #800080;">3</span>+<span style="color: #800080;">4</span>, <span style="color: #800080;">4</span>));<span style="color: #008000;">//</span><span style="color: #008000;">POW（3+4,4）---&gt;3+4*4 先替换，再计算</span>
<span style="color: #008080;">12</span> <span style="color: #000000;">    getchar();
</span><span style="color: #008080;">13</span>     <span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">14</span> }</pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-family: 宋体; font-size: 18px;">2019-03-28&nbsp;&nbsp;15:13:58</span></p>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>