<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修洛谷P1553 数字翻转（升级版）' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>洛谷P1553 数字翻转（升级版）</center></div><div class='banquan'>原文出处:本文由博客园博主loceaner提供。<br/>
原文连接:https://www.cnblogs.com/loceaner/p/loceaner_p1553.html</div><br>
    <h2><span>题目链接</span></h2>
<p><span><strong style="font-size: 14px;"><span style="font-family: 'comic sans ms', sans-serif;"><a href="https://www.luogu.org/problemnew/show/P1553" target="_blank">https://www.luogu.org/problemnew/show/P1553</a></span></strong></span></p>
<hr />
<h2><span>题目描述</span></h2>
<p><span style="font-family: 'comic sans ms', sans-serif;">给定一个数，请将该数各个位上数字反转得到一个新数。</span></p>
<p><span style="font-family: 'comic sans ms', sans-serif;">这次与NOIp2011普及组第一题不同的是：这个数可以是小数，分数，百分数，整数。整数反转是将所有数位对调；小数反转是把整数部分的数反转，再将小数部分的数反转，不交换整数部分与小数部分；分数反转是把分母的数反转，再把分子的数反转，不交换分子与分母；百分数的分子一定是整数，百分数只改变数字部分。整数新数也应满足整数的常见形式，即除非给定的原数为零，否则反转后得到的新数的最高位数字不应为零；小数新数的末尾不为0（除非小数部分除了0没有别的数，那么只保留1个0）；分数不约分，分子和分母都不是小数（约分滴童鞋抱歉了，不能过哦。输入数据保证分母不为0），本次没有负数。</span></p>
<hr />
<h2><span><strong>输入输出格式</strong></span></h2>
<p><span>输入格式：</span></p>
<p><span>一个数s</span></p>
<p><span>输出格式：</span></p>
<p><span>一个数，即s的反转数</span></p>
<hr />
<h2><span><strong>思路</strong><strong>&nbsp;</strong></span></h2>
<p><span style="font-size: 14px;">（因为它最多可能很多位数而且有符号所以就用字符串啦）</span></p>
<p><span style="font-family: 'comic sans ms', sans-serif; font-size: 14px;">1、首先我们定义一个字符串，再定义一个flag标记（this sign is very important！）</span></p>
<p><span style="font-family: 'comic sans ms', sans-serif; font-size: 14px;">2、读入字符串（<a href="https://www.luogu.org/blog/2721402616cgp/c-zi-fu-chuan">不知道getline的看这里</a>，不会的话用cin也可以）//来自cgp大佬的c++字符串详解</span></p>
<p><span style="font-family: 'comic sans ms', sans-serif; font-size: 14px;">3、从这个首位开始for循环，找到符号的话我们就把flag赋值，下代码中有解析，如果没有符号的话就是纯数字，此时flag的值还是为0，直接反序输出即可</span></p>
<p><span style="font-family: 'comic sans ms', sans-serif; font-size: 14px;">4、如果flag的值发生改变，就对其进行相应的操作</span></p>
<p><span style="font-family: 'comic sans ms', sans-serif; font-size: 14px;">5、操作完输出就可以啦！</span></p>
<p><span style="font-family: 'comic sans ms', sans-serif; font-size: 14px;">（详细的解析见代码）</span></p>
<hr />
<h2><span><strong>上代码</strong></span></h2>
<p><span>&nbsp;</span></p>
<div class="cnblogs_code">
<pre><code><span style="font-family: 'comic sans ms', sans-serif;">#include&lt;iostream&gt;<span style="color: #000000;">
#include</span>&lt;cstdio&gt;<span style="color: #000000;">
#include</span>&lt;cstring&gt;<span style="color: #000000;">
#include</span>&lt;<span style="color: #0000ff;">string</span>&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;

</span><span style="color: #0000ff;">string</span><span style="color: #000000;"> s;
</span><span style="color: #0000ff;">int</span> flag=<span style="color: #800080;">0</span>;<span style="color: #008000;">//</span><span style="color: #008000;">标记</span>
<span style="color: #0000ff;">int</span><span style="color: #000000;"> d;
</span><span style="color: #008000;">//</span><span style="color: #008000;">d这个变量我本想放在if语句中，但是发现编译不过，就放在了外面</span>

<span style="color: #0000ff;">int</span><span style="color: #000000;"> main() {
    getline(cin,s);
    </span><span style="color: #0000ff;">int</span> l=<span style="color: #000000;">s.length();
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>; i&lt;l; i++<span style="color: #000000;">) {
        </span><span style="color: #008000;">//</span><span style="color: #008000;">赋值给d时d的值为i-1是因为s[i]为符号，应该赋值给符号的前一位
        </span><span style="color: #008000;">//</span><span style="color: #008000;">而这个数是百分数时不赋值是因为百分号肯定是最后一位,不用分开处理</span>
        <span style="color: #0000ff;">if</span>(s[i]==<span style="color: #800000;">'</span><span style="color: #800000;">/</span><span style="color: #800000;">'</span>) {flag=<span style="color: #800080;">1</span>;d=i-<span style="color: #800080;">1</span>;<span style="color: #0000ff;">break</span><span style="color: #000000;">;}
        </span><span style="color: #0000ff;">if</span>(s[i]==<span style="color: #800000;">'</span><span style="color: #800000;">%</span><span style="color: #800000;">'</span>) {flag=<span style="color: #800080;">2</span>;<span style="color: #0000ff;">break</span><span style="color: #000000;">;}
        </span><span style="color: #0000ff;">if</span>(s[i]==<span style="color: #800000;">'</span><span style="color: #800000;">.</span><span style="color: #800000;">'</span>) {flag=<span style="color: #800080;">3</span>;d=i-<span style="color: #800080;">1</span>;<span style="color: #0000ff;">break</span><span style="color: #000000;">;}
    }
    </span><span style="color: #0000ff;">if</span>(flag==<span style="color: #800080;">1</span>)<span style="color: #008000;">//</span><span style="color: #008000;">是分数的情况 </span>
<span style="color: #000000;">    {
        </span><span style="color: #0000ff;">int</span> len=d+<span style="color: #800080;">1</span><span style="color: #000000;">;
        </span><span style="color: #008000;">//</span><span style="color: #008000;">这是为了分成两段处理而定义的len
        </span><span style="color: #008000;">//</span><span style="color: #008000;">因为d的值可能会发生改变，所以用len代表d的下一位，也就是这个符号&mdash;&mdash;&lsquo;/&rsquo;</span>
        <span style="color: #0000ff;">while</span>(s[d]==<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>) d--;<span style="color: #008000;">//</span><span style="color: #008000;">去除前导零</span>
        <span style="color: #0000ff;">if</span>(d&lt;<span style="color: #800080;">0</span>)cout&lt;&lt;<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span><span style="color: #000000;">;
        </span><span style="color: #008000;">//</span><span style="color: #008000;">如果前半段都是0的话，d的值就会变成-1，这时我们要输出&lsquo;0&rsquo;，自然下面这一步就不会执行了，没有影响</span>
        <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=d; i&gt;=<span style="color: #800080;">0</span>; i--) cout&lt;&lt;<span style="color: #000000;">s[i];
        </span><span style="color: #008000;">//</span><span style="color: #008000;">倒着输出来</span>
        printf(<span style="color: #800000;">"</span><span style="color: #800000;">/</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">中间的字符</span>
        <span style="color: #0000ff;">while</span>(s[l-<span style="color: #800080;">1</span>]==<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>) l--;<span style="color: #008000;">//</span><span style="color: #008000;">去除前导零
        </span><span style="color: #008000;">//</span><span style="color: #008000;">因为后半段是分母，题目中说分母不会为0，所以不用特判这里啦！</span>
        <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=l-<span style="color: #800080;">1</span>; i&gt;len; i--) cout&lt;&lt;<span style="color: #000000;">s[i];
        </span><span style="color: #008000;">//</span><span style="color: #008000;">倒着输出来</span>
        <span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span>;<span style="color: #008000;">//</span><span style="color: #008000;">程序直接结束</span>
    }<span style="color: #008000;">//</span><span style="color: #008000;">是分数的话处理不是很难，也不是很简单，因为它的分母不是0，也不用约分，所以并不是很难</span>
    <span style="color: #0000ff;">if</span>(flag==<span style="color: #800080;">2</span>)<span style="color: #008000;">//</span><span style="color: #008000;">是百分数的情况 </span>
<span style="color: #000000;">    {
        </span><span style="color: #0000ff;">int</span> len=s.length()-<span style="color: #800080;">2</span><span style="color: #000000;">;
        </span><span style="color: #008000;">//</span><span style="color: #008000;">这里的len为字符串长度减2是因为还有一个符号是百分号</span>
        <span style="color: #0000ff;">while</span>(s[len]==<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>) len--;<span style="color: #008000;">//</span><span style="color: #008000;">去除前导零</span>
        <span style="color: #0000ff;">if</span>(len&lt;<span style="color: #800080;">0</span>)cout&lt;&lt;<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>;<span style="color: #008000;">//</span><span style="color: #008000;">如果都是0的话，len的值就会变成-1，输出&lsquo;0&rsquo;，下面这一步就不再执行，没有影响</span>
        <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=len; i&gt;=<span style="color: #800080;">0</span>; i--) cout&lt;&lt;<span style="color: #000000;">s[i];
        </span><span style="color: #008000;">//</span><span style="color: #008000;">倒着输出来......</span>
        cout&lt;&lt;<span style="color: #800000;">'</span><span style="color: #800000;">%</span><span style="color: #800000;">'</span>;<span style="color: #008000;">//</span><span style="color: #008000;">最后输出百分号</span>
        <span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span>;<span style="color: #008000;">//</span><span style="color: #008000;">程序直接结束</span>
    }<span style="color: #008000;">//</span><span style="color: #008000;">百分数的处理方式很简单，就把它当成数字倒序输出来，再输出一个百分号就可以啦</span>
    <span style="color: #0000ff;">if</span>(flag==<span style="color: #800080;">3</span>)<span style="color: #008000;">//</span><span style="color: #008000;">是小数的情况 </span>
<span style="color: #000000;">    {
        </span><span style="color: #0000ff;">int</span> len=d+<span style="color: #800080;">1</span>;<span style="color: #008000;">//</span><span style="color: #008000;">同flag=1的情况</span>
        <span style="color: #0000ff;">while</span>(s[d]==<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>) d--;<span style="color: #008000;">//</span><span style="color: #008000;">删前导零</span>
        <span style="color: #0000ff;">if</span>(d&lt;<span style="color: #800080;">0</span>)cout&lt;&lt;<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>;<span style="color: #008000;">//</span><span style="color: #008000;">同flag=1的情况</span>
        <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=d; i&gt;=<span style="color: #800080;">0</span>; i--) cout&lt;&lt;s[i];<span style="color: #008000;">//</span><span style="color: #008000;">倒着输出前半段</span>
        printf(<span style="color: #800000;">"</span><span style="color: #800000;">.</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">中间的字符</span>
        <span style="color: #0000ff;">while</span>(s[l]==<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>) l--;<span style="color: #008000;">//</span><span style="color: #008000;">删前导零</span>
        len++;<span style="color: #008000;">//</span><span style="color: #008000;">如果不加1就变成判断字符，下面的while语句直接不执行</span>
        <span style="color: #0000ff;">while</span>(s[len]==<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>) len++;<span style="color: #008000;">//</span><span style="color: #008000;">删除小数后面的零</span>
        len--;<span style="color: #008000;">//</span><span style="color: #008000;">len--，为了进行比较</span>
        <span style="color: #0000ff;">if</span>(l-<span style="color: #800080;">1</span>==len)cout&lt;&lt;<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>;<span style="color: #008000;">//</span><span style="color: #008000;">如果len和l-1的值相等了，说明小数点右边都是零，直接输出0</span>
        <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=l-<span style="color: #800080;">1</span>; i&gt;len; i--) cout&lt;&lt;s[i];<span style="color: #008000;">//</span><span style="color: #008000;">把它输出来</span>
        <span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span>;<span style="color: #008000;">//</span><span style="color: #008000;">结束程序</span>
    }<span style="color: #008000;">//</span><span style="color: #008000;">自认为是最难的情况，因为整数部分和小数部分都要处理和特判0的情况，而且小数部分最后还不能是零</span>
    <span style="color: #0000ff;">if</span>(flag==<span style="color: #800080;">0</span><span style="color: #000000;">) {
        </span><span style="color: #0000ff;">int</span> len=s.length()-<span style="color: #800080;">1</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">while</span>(s[len]==<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>) len--<span style="color: #000000;">;
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=len; i&gt;=<span style="color: #800080;">0</span>; i--) cout&lt;&lt;<span style="color: #000000;">s[i];
        </span><span style="color: #0000ff;">if</span>(len&lt;<span style="color: #800080;">0</span>)cout&lt;&lt;<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
    }</span><span style="color: #008000;">//</span><span style="color: #008000;">自认为最简单的一种情况，就不说了</span>
}</span></pre>
</div>
<p><span style="font-family: 'comic sans ms', sans-serif;">&nbsp;</span></p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>