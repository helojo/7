<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修长乐培训Day5' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>长乐培训Day5</center></div><div class='banquan'>原文出处:本文由博客园博主Ra煞提供。<br/>
原文连接:https://www.cnblogs.com/I-Love-You-520/p/11252648.html</div><br>
    <h2>T1 圆圈舞蹈</h2>
<h3>题目</h3>
<p>【题目描述】</p>
<p>熊大妈的奶牛在时针的带领下，围成了一个圈跳舞。由于没有严格的教育，奶牛们之间的间隔不一致。</p>
<p>奶牛想知道两只最远的奶牛到底隔了多远。奶牛A到B的距离为A顺时针走和逆时针走，到达B的较短路程。</p>
<p>告诉你相邻个奶牛间的距离，请你告诉奶牛两只最远的奶牛到底隔了多远。</p>
<p>【输入格式】</p>
<p>第一行一个整数N，表示有N只奶牛。</p>
<p>接下来2~N+1行，第I行有一个数，表示第I-1头奶牛顺时针到第I头奶牛的距离。</p>
<p>第N+1行的数表示第N头奶牛顺时针到第1头奶牛的距离。</p>
<p>【输出格式】</p>
<p>一行，表示最大距离。</p>
<p>【输入样例】</p>
<p>5</p>
<p>1</p>
<p>2</p>
<p>3</p>
<p>4</p>
<p>5</p>
<p>【输出样例】</p>
<p>7</p>
<p>【数据规模】</p>
<p>2&lt;=N&lt;=100000，</p>
<p>1&lt;=距离&lt;=maxlongint,距离和&lt;=maxlongint。</p>
<h3>解析</h3>
<p>分析一下题目，多试几组数据，不难发现，其实我们并不需要知道所有牛之间的距离，</p>
<p>只需要知道对于每头牛来说，离它最远的牛有多远，实际实现时，我们需要求出每头牛顺时针与逆时针离它最远的牛。</p>
<p>这里引用一下大佬的解释：</p>
<p><img src="./images/长乐培训Day50.png" alt="" /></p>
<p>如图，对于枚举的第一头牛A，找到离它最远的牛B，</p>
<p>当我们沿顺时针枚举第二头牛C时，离C最远的牛不可能是图中红色区域的牛了，</p>
<p>所以我们只需要将B沿顺时针枚举，当蓝色部分的距离小于红色部分时枚举停止，</p>
<p>因为此时蓝色部分的牛不可能是离C最远的牛了。</p>
<p>这个算法是沿着圈绕了一圈，时间复杂度为O(n)，足以AC。</p>
<h3>Code</h3>
<div class="cnblogs_code" onclick="cnblogs_code_show('e0765570-401b-44b6-9ec5-55d5d1a3f88f')"><img id="code_img_closed_e0765570-401b-44b6-9ec5-55d5d1a3f88f" class="code_img_closed" src="./images/长乐培训Day51.png" alt="" /><img id="code_img_opened_e0765570-401b-44b6-9ec5-55d5d1a3f88f" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('e0765570-401b-44b6-9ec5-55d5d1a3f88f',event)" src="./images/长乐培训Day52.png" alt="" />
<div id="cnblogs_code_open_e0765570-401b-44b6-9ec5-55d5d1a3f88f" class="cnblogs_code_hide">
<pre>#include&lt;cmath&gt;<span style="color: #000000;">
#include</span>&lt;cstdio&gt;<span style="color: #000000;">
#include</span>&lt;cstring&gt;<span style="color: #000000;">
#include</span>&lt;iostream&gt;<span style="color: #000000;">
#include</span>&lt;algorithm&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">const</span> <span style="color: #0000ff;">int</span> MAXN = <span style="color: #800080;">100005</span><span style="color: #000000;">;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> ans, a[MAXN], b[MAXN], n, i, j, k, tot, t;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("circle.in", "r", stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("circle.out", "w", stdout);</span>
    cin &gt;&gt;<span style="color: #000000;"> n;
    </span><span style="color: #0000ff;">for</span>(i = <span style="color: #800080;">1</span>; i &lt;= n; i ++<span style="color: #000000;">)
        scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span>, &amp;<span style="color: #000000;">a[i]);
    </span><span style="color: #0000ff;">for</span>(i = <span style="color: #800080;">1</span>; i &lt;= n; i ++<span style="color: #000000;">)
        tot </span>+=<span style="color: #000000;"> a[i];
    j </span>= <span style="color: #800080;">2</span><span style="color: #000000;">;
    t </span>= a[<span style="color: #800080;">1</span><span style="color: #000000;">];
    </span><span style="color: #0000ff;">for</span>(i = <span style="color: #800080;">1</span>; i &lt;= n; i ++<span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">while</span> (min(t, tot - t) &lt;= min(t + a[j], tot - t - a[j]) &amp;&amp; j &lt; n) j ++, t += a[j - <span style="color: #800080;">1</span><span style="color: #000000;">];
        ans </span>= max(ans, min(t, tot -<span style="color: #000000;"> t));
        t </span>-=<span style="color: #000000;"> a[i];
    }
    cout </span>&lt;&lt; ans &lt;&lt;<span style="color: #000000;"> endl;
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fclose(stdin); fclose(stdout);</span>
}</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>T2 小麦亩产一千八</h2>
<h3>题目</h3>
<p>【题目描述】</p>
<p>&ldquo;有了金坷垃，肥料一袋能顶两袋撒，小麦亩产一千八，吸收两米下的氮磷钾&hellip;&hellip;&rdquo;，话说HYSBZ（Hengyang School for Boys &amp; Zy）学识渊博孩纸们一讲到粮食，都会想起印度那个著名的故事：</p>
<p>国王要在第一个格子里放入一粒小麦，接下来的格子放入前面一个格子的两倍的小麦。这样所需小麦总数是巨大的，哪是不用金坷垃就能完成的任务？</p>
<p>不过为了减轻国王的任务，那个下棋获胜的宰相换了一个要求：&ldquo;我只需要你在棋盘外放一粒小麦，可以将其理解为第0个格子，然后你需要在第一个格子里放入若干小麦，</p>
<p>之后每一个格子放入前两个格子的小麦数之和的小麦，并且要满足第a个格子放x粒小麦，第b个格子放&hellip;&hellip;&rdquo;说到这，宰相突然发现自己说的满足第a个格子放x粒小麦的情况可能不存在&hellip;&hellip;</p>
<p>欺君可是大罪啊！国王看到宰相迟迟不说，自己也烦了！我自己来算！于是国王拜托你，让你算出第b个格子应该放几粒小麦。当然，就算答案不存在，你也是要告诉国王的。</p>
<p>【输入格式】</p>
<p>该题有多组数据，请读到文件末结束。</p>
<p>对于每一组数据仅一行，3个正整数a,x,b,分别表示第a个格子放了x粒小麦，以及你所需要计算的是第b个格子的小麦数量。</p>
<p>【输出格式】</p>
<p>对于每一次询问，仅1个整数，为第b个格子的小麦数量，若宰相说的情况不存在，那么请输出-1。</p>
<p>【输入样例】</p>
<p>1 1 2</p>
<p>3 5 4</p>
<p>3 4 6</p>
<p>12 17801 19</p>
<p>【输出样例】</p>
<p>2</p>
<p>8</p>
<p>-1</p>
<p>516847</p>
<p>【数据规模】</p>
<p>对于50%的数据：如果答案存在，那么p&lt;=50</p>
<p>对于100%的数据：1&lt;=数据组数&lt;=10000，1&lt;=a,b&lt;=20, 数据保证如果答案存在，那么1&lt;=p&lt;=1000000.(注:p是第一格放置的小麦数)。</p>
<h3>解析</h3>
<p>题目明显给出了一个拓展的斐波那契数列，其满足：f[0]=1,f[1]=p,f[2]=p+1,f[3]=2*p+1&middot;&middot;&middot;&middot;&middot;&middot;</p>
<p>而原来的斐波那契数列满足：F[0]=1,F[1]=1,F[2]=2,F[3]=3&middot;&middot;&middot;&middot;&middot;&middot;</p>
<p>设g[i]=f[i]-F[i]，则g[0]=0,g[1]=p-1,g[2]=p-1,g[3]=2*p-2,g[4]=3*p-3&middot;&middot;&middot;&middot;&middot;&middot;</p>
<p>输入已经给出了f[a]=x，所以g[a]=x-F[a]=F[a-1]*(p-1)，</p>
<p>我们先预处理出F数组，那么每组数据我们可以O（1）计算出p，</p>
<p>之后递推出答案就行了，每组数据时间复杂度为O（b）。</p>
<h3>Code</h3>
<div class="cnblogs_code" onclick="cnblogs_code_show('21d4c6df-3630-45ea-81d3-8e94dda5dfa1')"><img id="code_img_closed_21d4c6df-3630-45ea-81d3-8e94dda5dfa1" class="code_img_closed" src="./images/长乐培训Day51.png" alt="" /><img id="code_img_opened_21d4c6df-3630-45ea-81d3-8e94dda5dfa1" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('21d4c6df-3630-45ea-81d3-8e94dda5dfa1',event)" src="./images/长乐培训Day52.png" alt="" />
<div id="cnblogs_code_open_21d4c6df-3630-45ea-81d3-8e94dda5dfa1" class="cnblogs_code_hide">
<pre>#include&lt;cmath&gt;<span style="color: #000000;">
#include</span>&lt;cstdio&gt;<span style="color: #000000;">
#include</span>&lt;cstring&gt;<span style="color: #000000;">
#include</span>&lt;iostream&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> a, b;
</span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span> f[<span style="color: #800080;">30</span><span style="color: #000000;">], x;
inline </span><span style="color: #0000ff;">void</span> check(<span style="color: #0000ff;">int</span><span style="color: #000000;"> mid)
{
    f[</span><span style="color: #800080;">1</span>] =<span style="color: #000000;"> mid;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i = <span style="color: #800080;">2</span>; i &lt;= a; i ++<span style="color: #000000;">)
        f[i] </span>= f[i - <span style="color: #800080;">1</span>] + f[i - <span style="color: #800080;">2</span><span style="color: #000000;">];
}
inline </span><span style="color: #0000ff;">void</span> getans(<span style="color: #0000ff;">int</span><span style="color: #000000;"> mid)
{
    f[</span><span style="color: #800080;">1</span>] =<span style="color: #000000;"> mid;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i = <span style="color: #800080;">2</span>; i &lt;= b; i ++<span style="color: #000000;">)
        f[i] </span>= f[i - <span style="color: #800080;">1</span>] + f[i - <span style="color: #800080;">2</span><span style="color: #000000;">];
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%lld\n</span><span style="color: #800000;">"</span><span style="color: #000000;">, f[b]);
}
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("kela.in", "r", stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("kela.out", "w", stdout);return 0； </span>
    f[<span style="color: #800080;">0</span>] = <span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">while</span> (scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%d%lld%d</span><span style="color: #800000;">"</span>, &amp;a, &amp;x, &amp;b) !=<span style="color: #000000;"> EOF)
    {
        </span><span style="color: #0000ff;">int</span> l = <span style="color: #800080;">1</span>, r = <span style="color: #800080;">1000000</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">while</span> (l != r - <span style="color: #800080;">1</span><span style="color: #000000;">)
        {
            </span><span style="color: #0000ff;">int</span> mid = (l + r) &gt;&gt; <span style="color: #800080;">1</span><span style="color: #000000;">;
            check(mid);
            </span><span style="color: #0000ff;">if</span> (f[a] &gt; x) r =<span style="color: #000000;"> mid;
            </span><span style="color: #0000ff;">else</span> l =<span style="color: #000000;"> mid; 
        }
        check(l);
        </span><span style="color: #0000ff;">if</span> (f[a] ==<span style="color: #000000;"> x) getans(l);
        </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
            check(r); 
            </span><span style="color: #0000ff;">if</span> (f[a] ==<span style="color: #000000;"> x) getans(r);
            </span><span style="color: #0000ff;">else</span> printf(<span style="color: #800000;">"</span><span style="color: #800000;">-1\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        }
    }
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fclose(stdin); fclose(stdout);</span>
}</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>T3 好元素</h2>
<h3>题目</h3>
<p>【题目描述】</p>
<p>小A一直认为，如果在一个由N个整数组成的数列{An}中，存在以下情况：</p>
<p>Am+An+Ap = Ai (1 &lt;= m, n, p &lt; i &lt;= N ,&nbsp; m,n,p可以相同)，那么Ai就是一个好元素。</p>
<p>现在小A有一个数列，请你计算数列中好元素的数目。</p>
<p>【输入格式】</p>
<p>第一行只有一个正整数N，意义如上。</p>
<p>第二行包含N个整数，表示数列{An}。</p>
<p>【输出格式】</p>
<p>输出一个整数，表示这个数列中好元素的个数。</p>
<p>【输入样例】</p>
<p>2</p>
<p>1 3</p>
<p>【输出样例】</p>
<p>1</p>
<p>【数据规模】</p>
<p>对于10%的数据1&lt;=N&lt;=10</p>
<p>对于40%的数据1&lt;=N&lt;=500 -10^5&lt;=Ai&lt;=10^5</p>
<p>对于70%的数据1&lt;=N&lt;=5000 -10^6&lt;=Ai&lt;=10^6</p>
<p>对于100%的数据1&lt;=N&lt;=5000 -10^9&lt;=Ai&lt;=10^9</p>
<h3>解析</h3>
<p>10分做法：四层循环枚举a[i],a[m],a[n],a[p]，时间复杂度O(n<sup>4</sup>)</p>
<p>40分做法：bool数组存储a[i]，再三层循环a[m],a[n],a[p]，若a[i]存在个数就+1，时间复杂度O(n<sup>3</sup>)</p>
<p>70分做法：我们发现40分做法计算三数和用了O(n<sup>3</sup>)，而查询a[i]只用了O(n)，</p>
<p>我们把代数式转换为a[m]+a[n]=a[i]-a[p]，这样计算和查询都是O(n<sup>2</sup>)，总时间复杂度为O(n<sup>2</sup>)</p>
<p>100分做法：在70分算法的前提下加上哈希进行判断即可。</p>
<h3>Code</h3>
<div class="cnblogs_code" onclick="cnblogs_code_show('7ceef1f0-b7d8-455a-ad4b-239b51efe301')"><img id="code_img_closed_7ceef1f0-b7d8-455a-ad4b-239b51efe301" class="code_img_closed" src="./images/长乐培训Day51.png" alt="" /><img id="code_img_opened_7ceef1f0-b7d8-455a-ad4b-239b51efe301" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('7ceef1f0-b7d8-455a-ad4b-239b51efe301',event)" src="./images/长乐培训Day52.png" alt="" />
<div id="cnblogs_code_open_7ceef1f0-b7d8-455a-ad4b-239b51efe301" class="cnblogs_code_hide">
<pre>#include&lt;algorithm&gt;<span style="color: #000000;">
#include</span>&lt;iostream&gt;<span style="color: #000000;">
#include</span>&lt;cstring&gt;<span style="color: #000000;">
#include</span>&lt;cstdlib&gt;<span style="color: #000000;">
#include</span>&lt;cstdio&gt;<span style="color: #000000;">
#include</span>&lt;<span style="color: #0000ff;">string</span>&gt;<span style="color: #000000;">
#include</span>&lt;cmath&gt;<span style="color: #000000;">
#include</span>&lt;ctime&gt;<span style="color: #000000;">
#include</span>&lt;queue&gt;<span style="color: #000000;">
#include</span>&lt;stack&gt;<span style="color: #000000;">
#include</span>&lt;map&gt;<span style="color: #000000;">
#include</span>&lt;<span style="color: #0000ff;">set</span>&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;

</span><span style="color: #0000ff;">const</span> <span style="color: #0000ff;">int</span> MAXN=<span style="color: #0000ff;">int</span>(5e3)+<span style="color: #800080;">3</span><span style="color: #000000;">;
</span><span style="color: #0000ff;">const</span> <span style="color: #0000ff;">int</span> MAXH=<span style="color: #0000ff;">int</span>(1e7)+<span style="color: #0000ff;">int</span><span style="color: #000000;">(3e6);
</span><span style="color: #0000ff;">const</span> <span style="color: #0000ff;">int</span> Hash_Value=<span style="color: #800080;">33554431</span><span style="color: #000000;">;
</span><span style="color: #0000ff;">const</span> <span style="color: #0000ff;">int</span> MAXV=Hash_Value+<span style="color: #800080;">1</span><span style="color: #000000;">;

</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> Top,Val[MAXH],Next[MAXH],First[MAXV];
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> N,Ans,A[MAXN];

</span><span style="color: #0000ff;">void</span> Push_Hash(<span style="color: #0000ff;">const</span> <span style="color: #0000ff;">int</span> &amp;<span style="color: #000000;">x) {
    </span><span style="color: #0000ff;">int</span> Px=x&amp;<span style="color: #000000;">Hash_Value;
    Next[</span>++Top]=<span style="color: #000000;">First[Px];
    Val[Top]</span>=<span style="color: #000000;">x;
    First[Px]</span>=<span style="color: #000000;">Top;
    </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> ;
}

</span><span style="color: #0000ff;">bool</span> Ask_Hash(<span style="color: #0000ff;">const</span> <span style="color: #0000ff;">int</span> &amp;<span style="color: #000000;">x) {
    </span><span style="color: #0000ff;">int</span> Px=x&amp;<span style="color: #000000;">Hash_Value;
    </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> k=First[Px];k!=<span style="color: #800080;">0</span>;k=<span style="color: #000000;">Next[k])
        </span><span style="color: #0000ff;">if</span> (Val[k]==x) <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">true</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">false</span><span style="color: #000000;">;
}

</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> Get() {
    </span><span style="color: #0000ff;">int</span> Sign=<span style="color: #800080;">0</span>,Num=<span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">char</span><span style="color: #000000;"> ch;
    </span><span style="color: #0000ff;">for</span> (ch=getchar();ch&lt;<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>||ch&gt;<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span>;ch=getchar()) <span style="color: #0000ff;">if</span> (ch==<span style="color: #800000;">'</span><span style="color: #800000;">-</span><span style="color: #800000;">'</span>) <span style="color: #0000ff;">break</span><span style="color: #000000;">;
    ch</span>==<span style="color: #800000;">'</span><span style="color: #800000;">-</span><span style="color: #800000;">'</span>?Sign=<span style="color: #800080;">1</span>:Num=ch-<span style="color: #800080;">48</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">for</span> (ch=getchar();ch&gt;=<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>&amp;&amp;ch&lt;=<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span>;ch=getchar()) Num=Num*<span style="color: #800080;">10</span>+ch-<span style="color: #800080;">48</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">return</span> Sign==<span style="color: #800080;">0</span>?Num:-<span style="color: #000000;">Num;
}

</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main() {
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("good.in","r",stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("good.out","w",stdout);</span>
    N=<span style="color: #000000;">Get();
    </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=N;++<span style="color: #000000;">i) {
        A[i]</span>=<span style="color: #000000;">Get();
        </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> j=i-<span style="color: #800080;">1</span>;j&gt;=<span style="color: #800080;">1</span>;--<span style="color: #000000;">j) {
            </span><span style="color: #0000ff;">int</span> Now=A[i]-<span style="color: #000000;">A[j];
            </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (Ask_Hash(Now)) {
                </span>++<span style="color: #000000;">Ans;
                </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
            }
        }
        </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> j=<span style="color: #800080;">1</span>;j&lt;=i;++<span style="color: #000000;">j) {
            </span><span style="color: #0000ff;">int</span> Now=A[i]+<span style="color: #000000;">A[j];
            Push_Hash(Now);
        }
    }
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span><span style="color: #000000;">,Ans);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fclose(stdin);fclose(stdout);</span>
    <span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>T4 国际象棋</h2>
<h3>题目</h3>
<p>【题目描述】</p>
<p>小口口不是一个普通青年，所以他不喜欢玩普通国际象棋。他喜欢玩的国际象棋是这样的：把两个边长分别为 N*N 和 M*M 的国际象棋盘拼在一起。就像这样：</p>
<p><img src="./images/长乐培训Day57.png" alt="" /></p>
<p>现在小口口又来刁难你了：他告诉你 N,M,W,H 以及 K。</p>
<p>然后问你这样的棋盘上放 K 个城堡互相不攻击有多少种方案。</p>
<p>城堡的攻击范围是一整行和一整列。</p>
<p>【输入格式】</p>
<p>第一行，五个整数，分别为 N,M,W,H,K。</p>
<p>【输出格式】</p>
<p>输出一行一个整数表示方案总数。</p>
<p>【输入样例】</p>
<p>8 8 3 4 1</p>
<p>【输出样例】</p>
<p>108</p>
<p>【数据规模】</p>
<p>10%的数据N=M=K.</p>
<p>50%的数据W=H=0,1&lt;=N,M&lt;=15(包括上述的10%的数据).</p>
<p>100%的数据N,M&lt;=20,W,H,K&lt;=10^9.</p>
<h3>解析</h3>
<p>本蒟蒻表示，这题神马不会写，随便写了个暴力就溜了。</p>
<p>So，直接抛出巨佬题解：</p>
<p><img src="./images/长乐培训Day58.png" alt="" /></p>
<p><img src="./images/长乐培训Day59.png" alt="" /></p>
<p><img src="./images/长乐培训Day510.png" alt="" /></p>
<h3>Code</h3>
<div class="cnblogs_code" onclick="cnblogs_code_show('09adf62c-36ab-410d-b8e7-47477fe6f4de')"><img id="code_img_closed_09adf62c-36ab-410d-b8e7-47477fe6f4de" class="code_img_closed" src="./images/长乐培训Day51.png" alt="" /><img id="code_img_opened_09adf62c-36ab-410d-b8e7-47477fe6f4de" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('09adf62c-36ab-410d-b8e7-47477fe6f4de',event)" src="./images/长乐培训Day52.png" alt="" />
<div id="cnblogs_code_open_09adf62c-36ab-410d-b8e7-47477fe6f4de" class="cnblogs_code_hide">
<pre>#include&lt;cstdio&gt;<span style="color: #000000;">
#include</span>&lt;cstring&gt;<span style="color: #000000;">
#include</span>&lt;algorithm&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
typedef </span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span><span style="color: #000000;"> ll;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> n,m,w,h,k,W,H;
</span><span style="color: #0000ff;">struct</span><span style="color: #000000;"> ff {
    </span><span style="color: #0000ff;">int</span> len,a[<span style="color: #800080;">50</span><span style="color: #000000;">];
    ff(){ len</span>=<span style="color: #800080;">0</span>; memset(a,<span style="color: #800080;">0</span>,<span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(a)); }
    
    inline ff </span><span style="color: #0000ff;">operator</span> *(<span style="color: #0000ff;">const</span> <span style="color: #0000ff;">int</span> &amp;<span style="color: #000000;">b){
        ff c</span>=*<span style="color: #0000ff;">this</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>; i&lt;=len; ++i) c.a[i]*=<span style="color: #000000;">b;
        </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>; i&lt;=len; ++<span style="color: #000000;">i){
            c.a[i</span>+<span style="color: #800080;">1</span>]+=c.a[i]/<span style="color: #800080;">10</span><span style="color: #000000;">;
            c.a[i]</span>%=<span style="color: #800080;">10</span><span style="color: #000000;">;
        }
        c.len</span>=<span style="color: #000000;">len;
        </span><span style="color: #0000ff;">while</span> (c.a[c.len+<span style="color: #800080;">1</span><span style="color: #000000;">]) 
            c.len</span>++, c.a[c.len+<span style="color: #800080;">1</span>]=c.a[c.len]/<span style="color: #800080;">10</span>, c.a[c.len]%=<span style="color: #800080;">10</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> c;
    }
    inline </span><span style="color: #0000ff;">void</span> <span style="color: #0000ff;">operator</span> +=(<span style="color: #0000ff;">const</span> ff &amp;<span style="color: #000000;">b){
        len</span>=<span style="color: #000000;">max(len,b.len);
        </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>; i&lt;=len; ++<span style="color: #000000;">i){
            a[i]</span>+=<span style="color: #000000;">b.a[i];
            a[i</span>+<span style="color: #800080;">1</span>]+=a[i]/<span style="color: #800080;">10</span><span style="color: #000000;">;
            a[i]</span>%=<span style="color: #800080;">10</span><span style="color: #000000;">;
        }
        </span><span style="color: #0000ff;">while</span> (a[len+<span style="color: #800080;">1</span>]) ++len, a[len+<span style="color: #800080;">1</span>]=a[len]/<span style="color: #800080;">10</span>, a[len]%=<span style="color: #800080;">10</span><span style="color: #000000;">;
    }
}f[</span><span style="color: #800080;">45</span>][<span style="color: #800080;">25</span>][<span style="color: #800080;">25</span>][<span style="color: #800080;">25</span><span style="color: #000000;">],ans;
</span><span style="color: #0000ff;">void</span><span style="color: #000000;"> PRT(ff a)
{
    </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> i=a.len; i; --<span style="color: #000000;">i)
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span><span style="color: #000000;">,a.a[i]);
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
}
</span><span style="color: #0000ff;">bool</span> check(<span style="color: #0000ff;">int</span> x,<span style="color: #0000ff;">int</span><span style="color: #000000;"> y)
{
    </span><span style="color: #0000ff;">if</span> (x&lt;=n &amp;&amp; y&lt;=n) <span style="color: #0000ff;">return</span> <span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">if</span> (x&gt;w &amp;&amp; x&lt;=w+m &amp;&amp; y&gt;h &amp;&amp; y&lt;=h+m) <span style="color: #0000ff;">return</span> <span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}
</span><span style="color: #0000ff;">void</span><span style="color: #000000;"> work()
{
    </span><span style="color: #0000ff;">if</span> (w&gt;=n) w=<span style="color: #000000;">n;
    </span><span style="color: #0000ff;">if</span> (h&gt;=n) h=<span style="color: #000000;">n;
    </span><span style="color: #0000ff;">if</span> (m+w&lt;=n &amp;&amp; m+h&lt;=n) w=h=<span style="color: #800080;">0</span>,m=<span style="color: #000000;">n;
    
    </span><span style="color: #0000ff;">int</span> H=max(h+m,n),W=max(m+w,n);                                        <span style="color: #008000;">//</span><span style="color: #008000;">H!W!</span>
    <span style="color: #0000ff;">int</span> l1=w,l2=min(w+m,n),l3=max(w+<span style="color: #000000;">m,n);
    </span><span style="color: #0000ff;">int</span> n1=l1,n2=l2-l1,n3=l3-<span style="color: #000000;">l2;
    f[</span><span style="color: #800080;">0</span>][<span style="color: #800080;">0</span>][<span style="color: #800080;">0</span>][<span style="color: #800080;">0</span>].len=<span style="color: #800080;">1</span><span style="color: #000000;">; 
    f[</span><span style="color: #800080;">0</span>][<span style="color: #800080;">0</span>][<span style="color: #800080;">0</span>][<span style="color: #800080;">0</span>].a[<span style="color: #800080;">1</span>]=<span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>; i&lt;H; ++<span style="color: #000000;">i){    
        </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> x=<span style="color: #800080;">0</span>; x&lt;=n1; ++<span style="color: #000000;">x)
        </span><span style="color: #0000ff;">if</span> (x&lt;=<span style="color: #000000;">k){
            </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> y=<span style="color: #800080;">0</span>; y&lt;=n2; ++<span style="color: #000000;">y)
            </span><span style="color: #0000ff;">if</span> (x+y&lt;=<span style="color: #000000;">k)
              </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> z=<span style="color: #800080;">0</span>; z&lt;=n3; ++<span style="color: #000000;">z)
              </span><span style="color: #0000ff;">if</span> (x+y+z&lt;=<span style="color: #000000;">k){
                    </span><span style="color: #0000ff;">if</span> (check(l1,i+<span style="color: #800080;">1</span><span style="color: #000000;">)){
                        f[i</span>+<span style="color: #800080;">1</span>][x+<span style="color: #800080;">1</span>][y][z]+=f[i][x][y][z]*(n1-<span style="color: #000000;">x);
                    } 
                    </span><span style="color: #0000ff;">if</span> (check(l3,i+<span style="color: #800080;">1</span>)) f[i+<span style="color: #800080;">1</span>][x][y][z+<span style="color: #800080;">1</span>]+=f[i][x][y][z]*(n3-<span style="color: #000000;">z);
                    </span><span style="color: #0000ff;">if</span> (check(l2,i+<span style="color: #800080;">1</span>)) f[i+<span style="color: #800080;">1</span>][x][y+<span style="color: #800080;">1</span>][z]+=f[i][x][y][z]*(n2-<span style="color: #000000;">y);
                    f[i</span>+<span style="color: #800080;">1</span>][x][y][z]+=<span style="color: #000000;">f[i][x][y][z];
              }
        }
    }
    </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> x=<span style="color: #800080;">0</span>; x&lt;=n1; ++<span style="color: #000000;">x)
      </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> y=<span style="color: #800080;">0</span>; y&lt;=n2; ++<span style="color: #000000;">y)
        </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> z=<span style="color: #800080;">0</span>; z&lt;=n3; ++<span style="color: #000000;">z)
        </span><span style="color: #0000ff;">if</span> (x+y+z==<span style="color: #000000;">k){        
           ans</span>+=<span style="color: #000000;">f[H][x][y][z];           
        }
    </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> i=ans.len; i; --<span style="color: #000000;">i)
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span><span style="color: #000000;">,ans.a[i]);
    
}
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("chess.in","r",stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("chess.out","w",stdout);</span>
    scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%d%d%d%d%d</span><span style="color: #800000;">"</span>,&amp;n,&amp;m,&amp;w,&amp;h,&amp;<span style="color: #000000;">k);    
    work();
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fclose(stdin); fclose(stdout);</span>
}</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>