<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修长乐培训Day9' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>长乐培训Day9</center></div><div class='banquan'>原文出处:本文由博客园博主Ra煞提供。<br/>
原文连接:https://www.cnblogs.com/I-Love-You-520/p/11272872.html</div><br>
    <h2>T1 立方数</h2>
<h3>题目</h3>
<p>【题目描述】</p>
<p align="left">作为XX战队的狂热粉丝，MdZzZZ看到了自己心仪的队伍在半决赛落败，顿时心灰意冷。看着自己手中的从黄牛那里抢来的天价总决赛门票，MdZzZZ觉得去鸟巢已经没有意义了，于是他决定去跳&ldquo;水立方&rdquo;。在他准备进&ldquo;水立方&rdquo;体育馆时，一位大妈拦住了他的去路，并产生了一下对话：</p>
<p align="left">大妈：&ldquo;年轻人我看你印堂发黑，恕我冒昧直言，此去一行怕是会有什么不测。&rdquo;</p>
<p align="left">MdZzZZ：&ldquo;大妈别拦我，我要跳水立方发泄一下！&rdquo;</p>
<p align="left">大妈：&ldquo;年轻人，做事要三思而后行，你知道这水立方最著名的是什么吗？&rdquo;</p>
<p align="left">MdZzZZ：&ldquo;不知...&rdquo;</p>
<p align="left">大妈：&ldquo;这水立方最有名的是&lsquo;立方数&rsquo;！&rdquo;</p>
<p align="left">MdZzZZ：&ldquo;哦？&rdquo;</p>
<p align="left">大妈：&ldquo;别急，听我细细道来。&lsquo;立方数&rsquo;就是，如果一个数可以被写作是一个正整数的3次方，则这个数就是立方数。例如1,8,27就是最小的3个立方数。&rdquo;</p>
<p align="left">MdZzZZ：&ldquo;&hellip;&hellip;&rdquo;</p>
<p align="left">大妈：&ldquo;当然，想要在这水立方中来去自如，你需要知道&lsquo;立方差数&rsquo;！&rdquo;</p>
<p align="left">大妈：&ldquo;若一个数可以被写作是两个立方数的差，则这个数就是&lsquo;立方差数&rsquo;，例如7(8-1),26(27-1),19(27-8)都是立方差数。如果你能够判断随便一个数是不是&lsquo;立方差数&rsquo;，那么你就可以真正地在这一片小天地中当一条无忧无虑的小鱼...&rdquo;</p>
<p align="left">未等MdZzZZ反应过来，大妈以飘然远去，留下他一个人在那边细细思索。那么现在你的问题来了，你需要帮助MdZzZZ解决这个问题。</p>
<p align="left">现在给定一个数P，MdZzZZ想要知道这个数是不是立方差数。</p>
<p align="left">当然你有可能随机输出一些莫名其妙的东西，因此MdZzZZ有T次询问~</p>
<p align="left">这个问题可能太难了&hellip;&hellip; 因此MdZzZZ规定P是个质数！</p>
<p>【输入格式】</p>
<p align="left">第一行一个数T，表示有T组数据。</p>
<p align="left">接下来T行，每行一个数P。</p>
<p>【输出格式】</p>
<p>输出T行，对于每个数如果是立方差数，输出&ldquo;YES&rdquo;，否则输出&ldquo;NO&rdquo;。</p>
<p>【输入样例】</p>
<p>5</p>
<p>2</p>
<p>3</p>
<p>5</p>
<p>7</p>
<p>11</p>
<p>【输出样例】</p>
<p><span>NO</span></p>
<p><span>NO</span></p>
<p><span>NO</span></p>
<p><span>YES</span></p>
<p><span>NO</span></p>
<p>【数据规模】</p>
<p align="left">对于30%的数据p&lt;=100。</p>
<p align="left">对于60%的数据p&lt;=10^6。</p>
<p>对于100%的数据p&lt;=10^12，T&lt;=100。</p>
<h3>解析</h3>
<p>嗯......题目很长，去掉废话，实际上就是要求质数p是不是立方差数(立方数即为a<sup>3</sup>-b<sup>3</sup>(a，b均为正整数，且a&ne;b)。</p>
<p>我们尝试化简一下a<sup>3</sup>-b<sup>3</sup>=p这个式子，可以得到(a-b)(a<sup>2</sup>+ab+b<sup>2</sup>)=p，因为p是质数，根据质数的定义(只有1和它本身是它的因数)可以得到，a-b与a<sup>2</sup>+ab+b<sup>2</sup>其中一个为1，</p>
<p>很显然a<sup>2</sup>+ab+b<sup>2</sup>不为1(因为a与b为互不相等的正整数)，所以a-b=1，移项得a=b+1，带入a<sup>3</sup>-b<sup>3</sup>=p，得</p>
<p>(b+1)<sup>3</sup>-b<sup>3</sup>=p，即b<sup>3</sup>+3b<sup>2</sup>+3b+1-b<sup>3</sup>=p，化简并移项得3b<sup>2</sup>+3b+1-p=0，显然，这是一个一元二次方程，解这个方程可得，</p>
<p>b=(-3&plusmn;sqrt(12p-3))/6(sqrt为求根号函数)，由于b是正整数，所以如果-3&plusmn;sqrt(12p-3)可以整除6的话，p就是立方差数。</p>
<p>由于p&le;10^12，所以要记得开long long(本蒟蒻就是没开long long少了40分QAQ)。</p>
<h3>Code</h3>
<div class="cnblogs_code" onclick="cnblogs_code_show('8d16f454-ed5c-4f8b-9fbb-ac1f25e6e9b8')"><img id="code_img_closed_8d16f454-ed5c-4f8b-9fbb-ac1f25e6e9b8" class="code_img_closed" src="./images/长乐培训Day90.png" alt="" /><img id="code_img_opened_8d16f454-ed5c-4f8b-9fbb-ac1f25e6e9b8" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('8d16f454-ed5c-4f8b-9fbb-ac1f25e6e9b8',event)" src="./images/长乐培训Day91.png" alt="" />
<div id="cnblogs_code_open_8d16f454-ed5c-4f8b-9fbb-ac1f25e6e9b8" class="cnblogs_code_hide">
<pre>#include &lt;algorithm&gt;<span style="color: #000000;">
#include </span>&lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;cmath&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span><span style="color: #000000;"> read()
{
    </span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span> num=<span style="color: #800080;">0</span>,w=<span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">char</span> ch=<span style="color: #000000;">getchar();
    </span><span style="color: #0000ff;">while</span>(ch&lt;<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>||ch&gt;<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span>(ch==<span style="color: #800000;">'</span><span style="color: #800000;">-</span><span style="color: #800000;">'</span>) w=-<span style="color: #800080;">1</span><span style="color: #000000;">;
        ch</span>=<span style="color: #000000;">getchar();
    }
    </span><span style="color: #0000ff;">while</span>(ch&gt;=<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>&amp;&amp;ch&lt;=<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        num</span>=(num&lt;&lt;<span style="color: #800080;">1</span>)+(num&lt;&lt;<span style="color: #800080;">3</span>)+ch-<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span><span style="color: #000000;">;
        ch</span>=<span style="color: #000000;">getchar();
    }
    </span><span style="color: #0000ff;">return</span> num*<span style="color: #000000;">w;
}
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> T;
</span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span><span style="color: #000000;"> p;
</span><span style="color: #0000ff;">double</span><span style="color: #000000;"> a;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("cubicp.in","r",stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("cubicp.out","w",stdout);</span>
    T=<span style="color: #000000;">read();
    </span><span style="color: #0000ff;">while</span>(T--<span style="color: #000000;">)
    {
        p</span>=<span style="color: #000000;">read();
        a</span>=(sqrt(<span style="color: #800080;">12</span>*p-<span style="color: #800080;">3</span>)-<span style="color: #800080;">3</span>)-(<span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span>)(sqrt(<span style="color: #800080;">12</span>*p-<span style="color: #800080;">3</span>)-<span style="color: #800080;">3</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">if</span>(a==<span style="color: #800080;">0</span>&amp;&amp;(<span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span>)(sqrt(<span style="color: #800080;">12</span>*p-<span style="color: #800080;">3</span>)-<span style="color: #800080;">3</span>)%<span style="color: #800080;">6</span>==<span style="color: #800080;">0</span>) cout&lt;&lt;<span style="color: #800000;">"</span><span style="color: #800000;">YES</span><span style="color: #800000;">"</span>&lt;&lt;<span style="color: #000000;">endl;
        </span><span style="color: #0000ff;">else</span> cout&lt;&lt;<span style="color: #800000;">"</span><span style="color: #800000;">NO</span><span style="color: #800000;">"</span>&lt;&lt;<span style="color: #000000;">endl;
    }
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fclose(stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fclose(stdout);</span>
}</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>T2 二叉树</h2>
<h3>题目</h3>
<p>【题目描述】</p>
<p>从前有一棵二叉树，我们用如下方式来表示这棵二叉树。</p>
<p>（1）如果一个节点没有儿子，我们用&ldquo;0&rdquo;来表示他。</p>
<p>（2）如果一个节点有一个儿子，我们对它的表示以&ldquo;1&rdquo;开头，后面接对它儿子的表示。</p>
<p>（3）如果一个节点有两个儿子，我们对它的表示以&ldquo;2&rdquo;开头，后面先接对它左儿子的表示，后接对它右儿子的表示。</p>
<p>&nbsp;KJDH十分贪玩，将这棵树染了色，KJDH又十分聪明，它染色又很有规则：每个节点不能和它的孩子有相同的颜色，如果一个节点有两个孩子，那么这两个孩子也不能有相同的颜色。</p>
<p>由于这个树年代久远了，所以我们看不清每个节点的颜色了，但我们知道KJDH只染了红黄白三种颜色。我们想知道这棵树最多和最少有多少个节点是白色的。</p>
<p>【输入格式】</p>
<p align="left">输入文件只有一行，一个字符串，只有&ldquo;0&rdquo;，&ldquo;1&rdquo;，&ldquo;2&rdquo;组成，表示这棵树的结构。</p>
<p>【输出格式】</p>
<p align="left">输出文件包含两个用空格隔开的数，分别表示白色节点的最多和最少数量。</p>
<p>【输入样例】</p>
<p>200</p>
<p>【输出样例】</p>
<p>1 1</p>
<p>【数据规模】</p>
<p align="left">对于 20% 的数据，len&lt;=10。</p>
<p align="left">对于 50% 的数据，len&lt;=2000</p>
<p align="left">对于 100% 的数据，len&lt;=500000。其中len为读入字符串的长度。</p>
<h3>解析</h3>
<p>不想说话，直接上大佬题解（<span style="text-decoration: line-through;">手动滑稽</span>）：</p>
<p><img src="./images/长乐培训Day92.png" alt="" /></p>
<h3>Code</h3>
<div class="cnblogs_code" onclick="cnblogs_code_show('4e596e27-6cd7-495d-a3c4-0a612bf5cdff')"><img id="code_img_closed_4e596e27-6cd7-495d-a3c4-0a612bf5cdff" class="code_img_closed" src="./images/长乐培训Day90.png" alt="" /><img id="code_img_opened_4e596e27-6cd7-495d-a3c4-0a612bf5cdff" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('4e596e27-6cd7-495d-a3c4-0a612bf5cdff',event)" src="./images/长乐培训Day91.png" alt="" />
<div id="cnblogs_code_open_4e596e27-6cd7-495d-a3c4-0a612bf5cdff" class="cnblogs_code_hide">
<pre>#include&lt;cmath&gt;<span style="color: #000000;">
#include</span>&lt;cstdio&gt;<span style="color: #000000;">
#include</span>&lt;cstring&gt;<span style="color: #000000;">
#include</span>&lt;iostream&gt;<span style="color: #000000;">
#include</span>&lt;algorithm&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">const</span> <span style="color: #0000ff;">int</span> MAXN = <span style="color: #800080;">500005</span><span style="color: #000000;">;
</span><span style="color: #0000ff;">int</span> f[MAXN][<span style="color: #800080;">3</span>], g[MAXN][<span style="color: #800080;">3</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> n, m, i, j, len, k, lc[MAXN], rc[MAXN];
</span><span style="color: #0000ff;">char</span><span style="color: #000000;"> s[MAXN];
inline </span><span style="color: #0000ff;">int</span> maketree(<span style="color: #0000ff;">int</span><span style="color: #000000;"> x)
{
    </span><span style="color: #0000ff;">if</span> (x &gt; len) <span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">if</span> (s[x] == <span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>) <span style="color: #0000ff;">return</span><span style="color: #000000;"> x;
    </span><span style="color: #0000ff;">if</span> (s[x] == <span style="color: #800000;">'</span><span style="color: #800000;">1</span><span style="color: #800000;">'</span>) {lc[x] = ++n; <span style="color: #0000ff;">return</span> maketree(x + <span style="color: #800080;">1</span><span style="color: #000000;">);}
    </span><span style="color: #0000ff;">if</span> (s[x] == <span style="color: #800000;">'</span><span style="color: #800000;">2</span><span style="color: #800000;">'</span>) {lc[x] = ++n; <span style="color: #0000ff;">int</span> nex = maketree(x + <span style="color: #800080;">1</span>); rc[x] = ++n; <span style="color: #0000ff;">return</span> maketree(nex + <span style="color: #800080;">1</span><span style="color: #000000;">);}
}
inline </span><span style="color: #0000ff;">void</span> dp(<span style="color: #0000ff;">int</span><span style="color: #000000;"> now)
{
    f[now][</span><span style="color: #800080;">0</span>] = g[now][<span style="color: #800080;">0</span>] = <span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">if</span> (lc[now] &amp;&amp; !<span style="color: #000000;">rc[now])
    {
        dp(lc[now]);
        f[now][</span><span style="color: #800080;">0</span>] += max(f[lc[now]][<span style="color: #800080;">1</span>], f[lc[now]][<span style="color: #800080;">2</span><span style="color: #000000;">]);
        f[now][</span><span style="color: #800080;">1</span>] += max(f[lc[now]][<span style="color: #800080;">0</span>], f[lc[now]][<span style="color: #800080;">2</span><span style="color: #000000;">]);
        f[now][</span><span style="color: #800080;">2</span>] += max(f[lc[now]][<span style="color: #800080;">0</span>], f[lc[now]][<span style="color: #800080;">1</span><span style="color: #000000;">]);
        g[now][</span><span style="color: #800080;">0</span>] += min(g[lc[now]][<span style="color: #800080;">1</span>], g[lc[now]][<span style="color: #800080;">2</span><span style="color: #000000;">]);
        g[now][</span><span style="color: #800080;">1</span>] += min(g[lc[now]][<span style="color: #800080;">0</span>], g[lc[now]][<span style="color: #800080;">2</span><span style="color: #000000;">]);
        g[now][</span><span style="color: #800080;">2</span>] += min(g[lc[now]][<span style="color: #800080;">0</span>], g[lc[now]][<span style="color: #800080;">1</span><span style="color: #000000;">]);
    }
    </span><span style="color: #0000ff;">if</span> (lc[now] &amp;&amp;<span style="color: #000000;"> rc[now])
    {
        dp(lc[now]); dp(rc[now]);
        f[now][</span><span style="color: #800080;">0</span>] += max(f[lc[now]][<span style="color: #800080;">2</span>] + f[rc[now]][<span style="color: #800080;">1</span>], f[lc[now]][<span style="color: #800080;">1</span>] + f[rc[now]][<span style="color: #800080;">2</span><span style="color: #000000;">]);
        f[now][</span><span style="color: #800080;">1</span>] += max(f[lc[now]][<span style="color: #800080;">0</span>] + f[rc[now]][<span style="color: #800080;">2</span>], f[lc[now]][<span style="color: #800080;">2</span>] + f[rc[now]][<span style="color: #800080;">0</span><span style="color: #000000;">]);
        f[now][</span><span style="color: #800080;">2</span>] += max(f[lc[now]][<span style="color: #800080;">0</span>] + f[rc[now]][<span style="color: #800080;">1</span>], f[lc[now]][<span style="color: #800080;">1</span>] + f[rc[now]][<span style="color: #800080;">0</span><span style="color: #000000;">]);
        g[now][</span><span style="color: #800080;">0</span>] += min(g[lc[now]][<span style="color: #800080;">2</span>] + g[rc[now]][<span style="color: #800080;">1</span>], g[lc[now]][<span style="color: #800080;">1</span>] + g[rc[now]][<span style="color: #800080;">2</span><span style="color: #000000;">]);
        g[now][</span><span style="color: #800080;">1</span>] += min(g[lc[now]][<span style="color: #800080;">0</span>] + g[rc[now]][<span style="color: #800080;">2</span>], g[lc[now]][<span style="color: #800080;">2</span>] + g[rc[now]][<span style="color: #800080;">0</span><span style="color: #000000;">]);
        g[now][</span><span style="color: #800080;">2</span>] += min(g[lc[now]][<span style="color: #800080;">0</span>] + g[rc[now]][<span style="color: #800080;">1</span>], g[lc[now]][<span style="color: #800080;">1</span>] + g[rc[now]][<span style="color: #800080;">0</span><span style="color: #000000;">]);
    }
}
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("tree.in", "r", stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("tree.out", "w", stdout);</span>
    scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span>, s + <span style="color: #800080;">1</span><span style="color: #000000;">);
    len </span>= strlen(s + <span style="color: #800080;">1</span><span style="color: #000000;">);
    n </span>= <span style="color: #800080;">1</span><span style="color: #000000;">;
    maketree(</span><span style="color: #800080;">1</span><span style="color: #000000;">);
    dp(</span><span style="color: #800080;">1</span><span style="color: #000000;">);
    cout </span>&lt;&lt; max(f[<span style="color: #800080;">1</span>][<span style="color: #800080;">0</span>], max(f[<span style="color: #800080;">1</span>][<span style="color: #800080;">1</span>], f[<span style="color: #800080;">1</span>][<span style="color: #800080;">2</span>])) &lt;&lt; <span style="color: #800000;">"</span> <span style="color: #800000;">"</span> &lt;&lt; min(g[<span style="color: #800080;">1</span>][<span style="color: #800080;">0</span>], min(g[<span style="color: #800080;">1</span>][<span style="color: #800080;">1</span>], g[<span style="color: #800080;">1</span>][<span style="color: #800080;">2</span>])) &lt;&lt;<span style="color: #000000;"> endl;
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>T3 Hanoi</h2>
<h3>题目</h3>
<p>【题目描述】</p>
<p>众所周知, 汉诺塔是一个古老又经典的游戏. 这个游戏是这样的, 你有N个大小不同的盘子和3根柱子, 一开始所有盘子都叠放在第1根柱子上, 你需要把N个盘子全都移动到第3根柱子上, 每次都可以选择某根柱子最上面的盘子移动到另一根柱子上, 但是任何时候都必须保证没有一个盘子上面放了一个比它大的盘子. 求最少的移动步数.</p>
<p>这个问题太简单了, 乐于寻找挑战的你想要求出当有N个盘子, M个柱子且其他条件不变时, 把所有盘子从第1根柱子移动到第M根柱子的最少步数.</p>
<p>【输入格式】</p>
<p>一行两个整数分别代表题目中的N, M.</p>
<p>【输出格式】</p>
<p>一行一个整数代表答案.</p>
<p>【输入样例】</p>
<p>5 3</p>
<p>【输出样例】</p>
<p>31</p>
<p>【数据规模】</p>
<p>对于10%的数据, N &lt;= 20, M = 3.</p>
<p>对于30%的数据, M = 3.</p>
<p>对于50%的数据, M &lt;= 4.</p>
<p>对于100%的数据, N &lt;= 63, 3 &lt;= M &lt;= N + 1;</p>
<h3>解析</h3>
<p>每天必不可少的DP题，令f[i][j]表示i个盘子j个柱子时的最少步数，怎样移动会是最少步数呢？</p>
<p>先把上面盘子移动到不是j的柱子上，再把剩下的盘子移动到j的柱子上，再把上面的盘子移动到j的柱子上。</p>
<p>递推式：f[i][j] = min(f[k][j] * 2 + f[i - k][j - 1])。</p>
<h3>Code</h3>
<div class="cnblogs_code" onclick="cnblogs_code_show('89d392b2-90b9-4763-9d1e-1d585f04125f')"><img id="code_img_closed_89d392b2-90b9-4763-9d1e-1d585f04125f" class="code_img_closed" src="./images/长乐培训Day90.png" alt="" /><img id="code_img_opened_89d392b2-90b9-4763-9d1e-1d585f04125f" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('89d392b2-90b9-4763-9d1e-1d585f04125f',event)" src="./images/长乐培训Day91.png" alt="" />
<div id="cnblogs_code_open_89d392b2-90b9-4763-9d1e-1d585f04125f" class="cnblogs_code_hide">
<pre>#include &lt;algorithm&gt;<span style="color: #000000;">
#include </span>&lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;cstring&gt;<span style="color: #000000;">
#include </span>&lt;<span style="color: #0000ff;">string</span>&gt;<span style="color: #000000;">
#include </span>&lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;cmath&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> read()
{
    </span><span style="color: #0000ff;">int</span> num=<span style="color: #800080;">0</span>,w=<span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">char</span> ch=<span style="color: #000000;">getchar();
    </span><span style="color: #0000ff;">while</span>(ch&lt;<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>||ch&gt;<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span>(ch==<span style="color: #800000;">'</span><span style="color: #800000;">-</span><span style="color: #800000;">'</span>) w=-<span style="color: #800080;">1</span><span style="color: #000000;">;
        ch</span>=<span style="color: #000000;">getchar();
    }
    </span><span style="color: #0000ff;">while</span>(ch&gt;=<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>&amp;&amp;ch&lt;=<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        num</span>=(num&lt;&lt;<span style="color: #800080;">1</span>)+(num&lt;&lt;<span style="color: #800080;">3</span>)+ch-<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span><span style="color: #000000;">;
        ch</span>=<span style="color: #000000;">getchar();
    }
    </span><span style="color: #0000ff;">return</span> num*<span style="color: #000000;">w;
}
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> n,m;
</span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span> f[<span style="color: #800080;">100</span>][<span style="color: #800080;">100</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("hanoi.in","r",stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("hanoi.out","w",stdout);</span>
    memset(f,<span style="color: #800080;">0x7f7f7f7f</span>,<span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(f));
    n</span>=read(),m=<span style="color: #000000;">read();
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=m;i++) f[<span style="color: #800080;">1</span>][i]=<span style="color: #800080;">1</span>,f[<span style="color: #800080;">0</span>][i]=<span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">2</span>;i&lt;=n;i++) f[i][<span style="color: #800080;">3</span>]=<span style="color: #800080;">2</span>*f[i-<span style="color: #800080;">1</span>][<span style="color: #800080;">3</span>]+<span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">2</span>;i&lt;=n;i++<span style="color: #000000;">)
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> j=<span style="color: #800080;">4</span>;j&lt;=m;j++<span style="color: #000000;">)
            </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> k=<span style="color: #800080;">0</span>;k&lt;i;k++) f[i][j]=min(f[i][j],<span style="color: #800080;">2</span>*f[k][j]+f[i-k][j-<span style="color: #800080;">1</span><span style="color: #000000;">]);
    cout</span>&lt;&lt;<span style="color: #000000;">f[n][m];
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fclose(stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fclose(stdout);</span>
}</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>T4 区间</h2>
<h3>题目</h3>
<p>【题目描述】</p>
<p>有一个 n 个数的序列，一开始所有的数都是 0，每次可以将一个区间 [l,r](l &le; r) 内的数 +1，求到达最 终状态的最少操作次数</p>
<p>【输入格式】</p>
<p>第一行包含一个正整数 n，表示序列的长度。</p>
<p>第二行包含 n 个不同的正整数 a1,a2,...,an，表示最终的状态。</p>
<p>【输出格式】</p>
<p>输出的第一行是一个正整数 m，表示最少的操作次数。 接下来 m 行每行两个正整数 li,ri，表示一次操作。你需要保证 1 &le; li &le; ri &le; n。 保证最少次数 m &le; 105，输出可以以任意顺序输出。</p>
<p>【输入样例】</p>
<p>2</p>
<p>8 8</p>
<p>【输出样例】</p>
<p>8</p>
<p>1 2</p>
<p>1 2</p>
<p>1 2</p>
<p>1 2</p>
<p>1 2</p>
<p>1 2</p>
<p>1 2</p>
<p>1 2</p>
<p>【数据规模】</p>
<p><img src="./images/长乐培训Day97.png" alt="" /></p>
<h3>解析</h3>
<p>本蒟蒻只会O(nm)做法，直接上大佬题解吧：</p>
<p><img src="./images/长乐培训Day98.png" alt="" /></p>
<h3>Code</h3>
<div class="cnblogs_code" onclick="cnblogs_code_show('0953cd76-dbea-4a27-a46c-7b2c7b17b1ca')"><img id="code_img_closed_0953cd76-dbea-4a27-a46c-7b2c7b17b1ca" class="code_img_closed" src="./images/长乐培训Day90.png" alt="" /><img id="code_img_opened_0953cd76-dbea-4a27-a46c-7b2c7b17b1ca" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('0953cd76-dbea-4a27-a46c-7b2c7b17b1ca',event)" src="./images/长乐培训Day91.png" alt="" />
<div id="cnblogs_code_open_0953cd76-dbea-4a27-a46c-7b2c7b17b1ca" class="cnblogs_code_hide">
<pre>#include &lt;algorithm&gt;<span style="color: #000000;">
#include </span>&lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;cmath&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> read()
{
    </span><span style="color: #0000ff;">int</span> num=<span style="color: #800080;">0</span>,w=<span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">char</span> ch=<span style="color: #000000;">getchar();
    </span><span style="color: #0000ff;">while</span>(ch&lt;<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>||ch&gt;<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span>(ch==<span style="color: #800000;">'</span><span style="color: #800000;">-</span><span style="color: #800000;">'</span>) w=-<span style="color: #800080;">1</span><span style="color: #000000;">;
        ch</span>=<span style="color: #000000;">getchar();
    }
    </span><span style="color: #0000ff;">while</span>(ch&gt;=<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>&amp;&amp;ch&lt;=<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        num</span>=(num&lt;&lt;<span style="color: #800080;">1</span>)+(num&lt;&lt;<span style="color: #800080;">3</span>)+ch-<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span><span style="color: #000000;">;
        ch</span>=<span style="color: #000000;">getchar();
    }
    </span><span style="color: #0000ff;">return</span> num*<span style="color: #000000;">w;
}
</span><span style="color: #0000ff;">int</span> n,a[<span style="color: #800080;">100100</span>],d1[<span style="color: #800080;">1000100</span>],d2[<span style="color: #800080;">1000100</span><span style="color: #000000;">],temp;
</span><span style="color: #0000ff;">void</span> work(<span style="color: #0000ff;">int</span> l,<span style="color: #0000ff;">int</span> r,<span style="color: #0000ff;">int</span><span style="color: #000000;"> lastmin)
{
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=lastmin;i++) d1[++temp]=l,d2[temp]=<span style="color: #000000;">r;
    </span><span style="color: #0000ff;">int</span> nowmin=<span style="color: #800080;">0x7f7f7f7f</span>,ll=<span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=l;i&lt;=r;i++) a[i]-=<span style="color: #000000;">lastmin;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=l;i&lt;=r;i++<span style="color: #000000;">)
        </span><span style="color: #0000ff;">if</span>(a[i]==<span style="color: #800080;">0</span><span style="color: #000000;">)
        {
            </span><span style="color: #0000ff;">if</span>(ll==<span style="color: #800080;">0</span>) ll=i+<span style="color: #800080;">1</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">else</span><span style="color: #000000;">
            {
                </span><span style="color: #0000ff;">if</span>(ll&gt;i-<span style="color: #800080;">1</span>) <span style="color: #0000ff;">continue</span><span style="color: #000000;">;
                </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> j=ll;j&lt;=i-<span style="color: #800080;">1</span>;j++) nowmin=<span style="color: #000000;">min(nowmin,a[j]);
                work(ll,i</span>-<span style="color: #800080;">1</span><span style="color: #000000;">,nowmin);
                nowmin</span>=<span style="color: #800080;">0x7f7f7f7f</span>,ll=i+<span style="color: #800080;">1</span><span style="color: #000000;">;
            }
        }
        </span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(i==l) ll=<span style="color: #000000;">l;
        </span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(i==<span style="color: #000000;">r)
        {
            </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> j=ll;j&lt;=r;j++) nowmin=<span style="color: #000000;">min(nowmin,a[j]);
            work(ll,r,nowmin);
        }
}
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("range.in","r",stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("range.out","w",stdout);</span>
    n=<span style="color: #000000;">read();
    </span><span style="color: #0000ff;">int</span> nowmin=<span style="color: #800080;">0x7f7f7f7f</span>,ll=<span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=n;i++) a[i]=<span style="color: #000000;">read();
    </span><span style="color: #0000ff;">if</span>(n==<span style="color: #800080;">1</span><span style="color: #000000;">)
    {
        cout</span>&lt;&lt;a[<span style="color: #800080;">1</span>]&lt;&lt;<span style="color: #000000;">endl;
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=a[<span style="color: #800080;">1</span>];i++) cout&lt;&lt;<span style="color: #800000;">"</span><span style="color: #800000;">1 1</span><span style="color: #800000;">"</span>&lt;&lt;<span style="color: #000000;">endl;
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
    }
    work(</span><span style="color: #800080;">1</span>,n,<span style="color: #800080;">0</span><span style="color: #000000;">);
    cout</span>&lt;&lt;temp&lt;&lt;<span style="color: #000000;">endl;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=temp;i++) cout&lt;&lt;d1[i]&lt;&lt;<span style="color: #800000;">"</span> <span style="color: #800000;">"</span>&lt;&lt;d2[i]&lt;&lt;<span style="color: #000000;">endl;
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fclose(stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fclose(stdout);</span>
}</pre>
</div>
<span class="cnblogs_code_collapse">O(nm)做法(69分)</span></div>
<div class="cnblogs_code" onclick="cnblogs_code_show('fa33fa8d-4948-4a59-b7ce-a1b2c8f4b227')"><img id="code_img_closed_fa33fa8d-4948-4a59-b7ce-a1b2c8f4b227" class="code_img_closed" src="./images/长乐培训Day90.png" alt="" /><img id="code_img_opened_fa33fa8d-4948-4a59-b7ce-a1b2c8f4b227" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('fa33fa8d-4948-4a59-b7ce-a1b2c8f4b227',event)" src="./images/长乐培训Day91.png" alt="" />
<div id="cnblogs_code_open_fa33fa8d-4948-4a59-b7ce-a1b2c8f4b227" class="cnblogs_code_hide">
<pre>#include&lt;cmath&gt;<span style="color: #000000;">
#include</span>&lt;cstdio&gt;<span style="color: #000000;">
#include</span>&lt;cstring&gt;<span style="color: #000000;">
#include</span>&lt;iostream&gt;<span style="color: #000000;">
#include</span>&lt;algorithm&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">const</span> <span style="color: #0000ff;">int</span> MAXN = <span style="color: #800080;">200005</span><span style="color: #000000;">;
</span><span style="color: #0000ff;">int</span> sum[MAXN &lt;&lt; <span style="color: #800080;">2</span>], cnt[MAXN &lt;&lt; <span style="color: #800080;">2</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> n, m, i, j, k, l, r, ans, a[MAXN], tot;
inline </span><span style="color: #0000ff;">int</span> <span style="color: #0000ff;">get</span><span style="color: #000000;">()
{
    </span><span style="color: #0000ff;">char</span><span style="color: #000000;"> c;
    </span><span style="color: #0000ff;">while</span> ((c = getchar()) &lt; <span style="color: #800080;">48</span> || c &gt; <span style="color: #800080;">57</span><span style="color: #000000;">);
    </span><span style="color: #0000ff;">int</span> res = c - <span style="color: #800080;">48</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">while</span> ((c = getchar()) &gt;= <span style="color: #800080;">48</span> &amp;&amp; c &lt;= <span style="color: #800080;">57</span><span style="color: #000000;">)
        res </span>= res * <span style="color: #800080;">10</span> + c - <span style="color: #800080;">48</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> res;
}
inline </span><span style="color: #0000ff;">void</span> updata(<span style="color: #0000ff;">int</span><span style="color: #000000;"> k)
{
    sum[k] </span>= min(sum[k &lt;&lt; <span style="color: #800080;">1</span>], sum[k &lt;&lt; <span style="color: #800080;">1</span> | <span style="color: #800080;">1</span><span style="color: #000000;">]);
}
inline </span><span style="color: #0000ff;">void</span> putdown(<span style="color: #0000ff;">int</span><span style="color: #000000;"> k)
{
    </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (cnt[k])
    {
        cnt[k </span>&lt;&lt; <span style="color: #800080;">1</span>] +=<span style="color: #000000;"> cnt[k];
        cnt[k </span>&lt;&lt; <span style="color: #800080;">1</span> | <span style="color: #800080;">1</span>] +=<span style="color: #000000;"> cnt[k];
        sum[k </span>&lt;&lt; <span style="color: #800080;">1</span>] -=<span style="color: #000000;"> cnt[k];
        sum[k </span>&lt;&lt; <span style="color: #800080;">1</span> | <span style="color: #800080;">1</span>] -=<span style="color: #000000;"> cnt[k];
        cnt[k] </span>= <span style="color: #800080;">0</span><span style="color: #000000;">;
    }
}
inline </span><span style="color: #0000ff;">void</span> change(<span style="color: #0000ff;">int</span> k, <span style="color: #0000ff;">int</span> p, <span style="color: #0000ff;">int</span> q, <span style="color: #0000ff;">int</span> l, <span style="color: #0000ff;">int</span><span style="color: #000000;"> r)
{
    </span><span style="color: #0000ff;">if</span> (p &gt;= l &amp;&amp; q &lt;=<span style="color: #000000;"> r)
    {
        cnt[k] </span>++<span style="color: #000000;">;
        sum[k] </span>--<span style="color: #000000;">;
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;">;
    }
    putdown(k);
    </span><span style="color: #0000ff;">int</span> mid = p + q &gt;&gt; <span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">if</span> (mid &gt;= l) change(k &lt;&lt; <span style="color: #800080;">1</span><span style="color: #000000;">, p, mid, l, r);
    </span><span style="color: #0000ff;">if</span> (mid &lt; r) change(k &lt;&lt; <span style="color: #800080;">1</span> | <span style="color: #800080;">1</span>, mid + <span style="color: #800080;">1</span><span style="color: #000000;">, q, l, r);
    updata(k);
}
inline </span><span style="color: #0000ff;">int</span> query(<span style="color: #0000ff;">int</span> k, <span style="color: #0000ff;">int</span> p, <span style="color: #0000ff;">int</span> q, <span style="color: #0000ff;">int</span><span style="color: #000000;"> w)
{
    </span><span style="color: #0000ff;">if</span> (p == q) <span style="color: #0000ff;">return</span><span style="color: #000000;"> sum[k];
    putdown(k);
    </span><span style="color: #0000ff;">int</span> mid = p + q &gt;&gt; <span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">if</span> (mid &gt;= w) <span style="color: #0000ff;">return</span> query(k &lt;&lt; <span style="color: #800080;">1</span><span style="color: #000000;">, p, mid, w);
    </span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">return</span> query(k &lt;&lt; <span style="color: #800080;">1</span> | <span style="color: #800080;">1</span>, mid + <span style="color: #800080;">1</span><span style="color: #000000;">, q, w);
}
inline </span><span style="color: #0000ff;">void</span> maketree(<span style="color: #0000ff;">int</span> k, <span style="color: #0000ff;">int</span> p, <span style="color: #0000ff;">int</span><span style="color: #000000;"> q)
{
    </span><span style="color: #0000ff;">if</span> (p ==<span style="color: #000000;"> q)
    {
        sum[k] </span>=<span style="color: #000000;"> a[p];
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;">;
    }
    </span><span style="color: #0000ff;">int</span> mid = p + q &gt;&gt; <span style="color: #800080;">1</span><span style="color: #000000;">;
    maketree(k </span>&lt;&lt; <span style="color: #800080;">1</span><span style="color: #000000;">, p, mid);
    maketree(k </span>&lt;&lt; <span style="color: #800080;">1</span> | <span style="color: #800080;">1</span>, mid + <span style="color: #800080;">1</span><span style="color: #000000;">, q);
    updata(k);
}
inline </span><span style="color: #0000ff;">void</span> find(<span style="color: #0000ff;">int</span> k, <span style="color: #0000ff;">int</span> p, <span style="color: #0000ff;">int</span> q, <span style="color: #0000ff;">int</span> l, <span style="color: #0000ff;">int</span><span style="color: #000000;"> r)
{
    </span><span style="color: #0000ff;">int</span> mid = p + q &gt;&gt; <span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">if</span> (tot) <span style="color: #0000ff;">return</span><span style="color: #000000;">;
    putdown(k);
    </span><span style="color: #0000ff;">if</span> (p == q) {<span style="color: #0000ff;">if</span> (!sum[k]) tot = p; <span style="color: #0000ff;">return</span><span style="color: #000000;">;}
    </span><span style="color: #0000ff;">if</span> (p &gt;= l &amp;&amp; q &lt;=<span style="color: #000000;"> r)
    {
        </span><span style="color: #0000ff;">if</span> (!sum[k &lt;&lt; <span style="color: #800080;">1</span>]) find(k &lt;&lt; <span style="color: #800080;">1</span><span style="color: #000000;">, p, mid, l, r);
        </span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span> (!sum[k &lt;&lt; <span style="color: #800080;">1</span> | <span style="color: #800080;">1</span>]) find(k &lt;&lt; <span style="color: #800080;">1</span> | <span style="color: #800080;">1</span>, mid + <span style="color: #800080;">1</span><span style="color: #000000;">, q, l, r);
    }
    </span><span style="color: #0000ff;">else</span><span style="color: #000000;">
    {
        </span><span style="color: #0000ff;">if</span> (mid &gt;= l) find(k &lt;&lt; <span style="color: #800080;">1</span><span style="color: #000000;">, p, mid, l, r);
        </span><span style="color: #0000ff;">if</span> (mid &lt; r) find(k &lt;&lt; <span style="color: #800080;">1</span> | <span style="color: #800080;">1</span>, mid + <span style="color: #800080;">1</span><span style="color: #000000;">, q, l, r);
    }
}
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("range.in", "r", stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("range.out", "w", stdout);</span>
    cin &gt;&gt;<span style="color: #000000;"> n;
    </span><span style="color: #0000ff;">for</span>(i = <span style="color: #800080;">1</span>; i &lt;= n; i ++<span style="color: #000000;">)
        a[i] </span>= <span style="color: #0000ff;">get</span><span style="color: #000000;">();
    </span><span style="color: #0000ff;">for</span>(i = <span style="color: #800080;">1</span>; i &lt;= n; i ++<span style="color: #000000;">)
        </span><span style="color: #0000ff;">if</span> (a[i] &gt; a[i - <span style="color: #800080;">1</span>]) ans += a[i] - a[i - <span style="color: #800080;">1</span><span style="color: #000000;">];
    cout </span>&lt;&lt; ans &lt;&lt;<span style="color: #000000;"> endl;
    maketree(</span><span style="color: #800080;">1</span>, <span style="color: #800080;">1</span><span style="color: #000000;">, n);
    </span><span style="color: #0000ff;">for</span>(i = <span style="color: #800080;">1</span>; i &lt;= n; i ++<span style="color: #000000;">)
        </span><span style="color: #0000ff;">while</span> (query(<span style="color: #800080;">1</span>, <span style="color: #800080;">1</span><span style="color: #000000;">, n, i))
        {
            tot </span>= <span style="color: #800080;">0</span><span style="color: #000000;">;
            find(</span><span style="color: #800080;">1</span>, <span style="color: #800080;">1</span><span style="color: #000000;">, n, i, n);
            </span><span style="color: #0000ff;">if</span> (!tot) printf(<span style="color: #800000;">"</span><span style="color: #800000;">%d %d\n</span><span style="color: #800000;">"</span>, i, n), change(<span style="color: #800080;">1</span>, <span style="color: #800080;">1</span><span style="color: #000000;">, n, i, n);
            </span><span style="color: #0000ff;">else</span> printf(<span style="color: #800000;">"</span><span style="color: #800000;">%d %d\n</span><span style="color: #800000;">"</span>, i, tot - <span style="color: #800080;">1</span>), change(<span style="color: #800080;">1</span>, <span style="color: #800080;">1</span>, n, i, tot - <span style="color: #800080;">1</span><span style="color: #000000;">);
        }
}</span></pre>
</div>
<span class="cnblogs_code_collapse">AC代码</span></div>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>