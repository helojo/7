<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修长乐国庆集训Day1' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>长乐国庆集训Day1</center></div><div class='banquan'>原文出处:本文由博客园博主Ra煞提供。<br/>
原文连接:https://www.cnblogs.com/I-Love-You-520/p/11616040.html</div><br>
    <h2>T1 统计数字</h2>
<h3>题目</h3>
<p>【题目描述】</p>
<p>设 S(N ) 表示 N 的各位数字之和，如 S(484) = 4+8+4 = 16， S(22) = 2+2 = 4。</p>
<p>如果一个正整数满足 S(x*x) = S(x) *S(x)，我们称之为 Rabbit N umber。比方说，22 就是一个 Rabbit N umber，因为 S(484) = S(22) *S(22)。</p>
<p>现在，给出一个区间 [L, R]，求在该区间内的 Rabbit N umber 的个数。</p>
<p>【输入格式】</p>
<p>输入仅一行，为空格隔开的两个数 L 和 R。</p>
<p>【输出格式】</p>
<p>输出仅一行一个整数，表示所求 Rabbit N umber 的个数。</p>
<p>【输入样例】</p>
<div class="cnblogs_code">
<pre><code><span style="color: #800080;">58</span> <span style="color: #800080;">484</span></pre>
</div>
<p>【输出样例】</p>
<div class="cnblogs_code">
<pre><code><span style="color: #800080;">24</span> </pre>
</div>
<p>【数据规模】</p>
<p>1 &lt;= L &lt;= R &lt;= 10^9</p>
<h3>解析</h3>
<p>看完题目第一反应：从L枚举到R，依次判断每个数是不是Rabbit N umber。然而数据规模是10<sup>9</sup>，显然超时。</p>
<p>不过没事，打完暴力后，随便试一些数字，看看有没有什么规律。</p>
<p>1~<span>1000内的Rabbit N umber如下：</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #800080;">1</span> <span style="color: #800080;">2</span> <span style="color: #800080;">3</span> <span style="color: #800080;">10</span> <span style="color: #800080;">11</span> <span style="color: #800080;">12</span> <span style="color: #800080;">13</span> <span style="color: #800080;">20</span> <span style="color: #800080;">21</span> <span style="color: #800080;">22</span> <span style="color: #800080;">30</span> <span style="color: #800080;">31</span> <span style="color: #800080;">100</span> <span style="color: #800080;">101</span> <span style="color: #800080;">102</span> <span style="color: #800080;">103</span> <span style="color: #800080;">110</span> <span style="color: #800080;">111</span> <span style="color: #800080;">112</span> <span style="color: #800080;">113</span> <span style="color: #800080;">120</span> <span style="color: #800080;">121</span> <span style="color: #800080;">122</span> <span style="color: #800080;">130</span> <span style="color: #800080;">200</span> <span style="color: #800080;">201</span> <span style="color: #800080;">202</span> <span style="color: #800080;">210</span> <span style="color: #800080;">211</span> <span style="color: #800080;">212</span> <span style="color: #800080;">220</span> <span style="color: #800080;">221</span> <span style="color: #800080;">300</span> <span style="color: #800080;">301</span> <span style="color: #800080;">310</span> <span style="color: #800080;">311</span> <span style="color: #800080;">1000<br /></span></pre>
</div>
<p>不难发现，无论是哪一位上，都没有大于3的数字（更大的范围内也是，可以自己试试），至于为什么，这里便不给出详细证明了（<span style="text-decoration: line-through;">因为本蒟蒻不会</span>）。</p>
<p>所以便有了剪纸：任何位上有大于3的数字就跳过。</p>
<p>于是便有了两种做法：</p>
<ol>
<li>dfs+剪纸</li>
<li>打表+二分</li>
</ol>
<p>打表这里就不说了（<span style="text-decoration: line-through;">太麻烦</span>），这里来讲dfs做法：</p>
<p>dfs(int temp):temp可以理解为当前数是由temp+一个新的个位数组成的数，具体看代码就懂了。</p>
<p>从temp=0开始搜，每次dfs函数里处理个位为0 1 2 3的数，满足条件且在L~R的范围内就累加个数，</p>
<p>处理完后，如果数字小于等于R/10的话，就dfs(x)（即还可以增加位数）。</p>
<p>最后输出总个数就好了，别忘了开long long，至于S(x)，直接模拟就好了。</p>
<h3>Code</h3>
<div class="cnblogs_code" onclick="cnblogs_code_show('c2b53e95-8f80-44e3-a5f5-b27eb56e43ee')"><img id="code_img_closed_c2b53e95-8f80-44e3-a5f5-b27eb56e43ee" class="code_img_closed" src="./images/长乐国庆集训Day10.png" alt="" /><img id="code_img_opened_c2b53e95-8f80-44e3-a5f5-b27eb56e43ee" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('c2b53e95-8f80-44e3-a5f5-b27eb56e43ee',event)" src="./images/长乐国庆集训Day11.png" alt="" />
<div id="cnblogs_code_open_c2b53e95-8f80-44e3-a5f5-b27eb56e43ee" class="cnblogs_code_hide">
<pre>#include &lt;algorithm&gt;<span style="color: #000000;">
#include </span>&lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;cstring&gt;<span style="color: #000000;">
#include </span>&lt;<span style="color: #0000ff;">string</span>&gt;<span style="color: #000000;">
#include </span>&lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;cmath&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span><span style="color: #000000;"> read()
{
    </span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span> num=<span style="color: #800080;">0</span>,w=<span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">char</span> ch=<span style="color: #000000;">getchar();
    </span><span style="color: #0000ff;">while</span>(ch&lt;<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>||ch&gt;<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span>(ch==<span style="color: #800000;">'</span><span style="color: #800000;">-</span><span style="color: #800000;">'</span>) w=-<span style="color: #800080;">1</span><span style="color: #000000;">;
        ch</span>=<span style="color: #000000;">getchar();
    }
    </span><span style="color: #0000ff;">while</span>(ch&gt;=<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>&amp;&amp;ch&lt;=<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        num</span>=(num&lt;&lt;<span style="color: #800080;">1</span>)+(num&lt;&lt;<span style="color: #800080;">3</span>)+ch-<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span><span style="color: #000000;">;
        ch</span>=<span style="color: #000000;">getchar();
    }
    </span><span style="color: #0000ff;">return</span> num*<span style="color: #000000;">w;
}
</span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span><span style="color: #000000;"> l,r,ans;
</span><span style="color: #0000ff;">int</span> S(<span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span><span style="color: #000000;"> x)
{
    </span><span style="color: #0000ff;">int</span> n=<span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">while</span>(x&gt;<span style="color: #800080;">0</span><span style="color: #000000;">)
    {
        n</span>+=x%<span style="color: #800080;">10</span><span style="color: #000000;">;
        x</span>/=<span style="color: #800080;">10</span><span style="color: #000000;">;    
    }
    </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> n;
}
</span><span style="color: #0000ff;">void</span> dfs(<span style="color: #0000ff;">int</span><span style="color: #000000;"> temp)
{
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>;i&lt;=<span style="color: #800080;">3</span>;i++<span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span> x=temp*<span style="color: #800080;">10</span>+<span style="color: #000000;">i;
        </span><span style="color: #0000ff;">int</span> s=<span style="color: #000000;">S(x);
        </span><span style="color: #0000ff;">if</span>(x==<span style="color: #800080;">0</span>||S(x*x)!=s*s) <span style="color: #0000ff;">continue</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">if</span>(l&lt;=x&amp;&amp;r&gt;=x) ans++<span style="color: #000000;">;
        </span><span style="color: #0000ff;">if</span>(x&lt;=r/<span style="color: #800080;">10</span><span style="color: #000000;">) dfs(x);
    }
}
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("rabbit.in","r",stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("rabbit.out","w",stdout);</span>
    l=read(),r=<span style="color: #000000;">read();
    dfs(</span><span style="color: #800080;">0</span><span style="color: #000000;">);
    cout</span>&lt;&lt;<span style="color: #000000;">ans;
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>T2 数边方案</h2>
<h3>题目</h3>
<p>【题目描述】</p>
<p>给你一张有n个点m条边的无向连通图，每条边有边权，设disa<sub>i</sub>表示这张图中点i到点1的最短距离。</p>
<p>现在要求你在这张图中删去m-(n-1)条边，使得这张图变成一棵树，设disb<sub>i</sub>表示这棵树中点i到点1的最短距离。 现在请你求出，有多少种删边方案，使得对于任意的i，都有disa<sub>i</sub>=disb<sub>i</sub>。</p>
<p>【输入格式】</p>
<p>第一行包含两个正整数n,m，表示无向连通图的点数和边数。</p>
<p>接下来有m行，每行有3个正整数u,v,w，表示点u和点v之间有一条边权为w的无向边。</p>
<p>数据保证无重边、无自环。</p>
<p>【输出格式】</p>
<p>输出一行一个整数，表示满足条件的方案数对2147483647取模的结果。</p>
<p>【输入样例】</p>
<div class="cnblogs_code">
<pre><code><span style="color: #800080;">3</span> <span style="color: #800080;">3</span>
<span style="color: #800080;">1</span> <span style="color: #800080;">2</span> <span style="color: #800080;">2</span>
<span style="color: #800080;">1</span> <span style="color: #800080;">3</span> <span style="color: #800080;">1</span>
<span style="color: #800080;">2</span> <span style="color: #800080;">3</span> <span style="color: #800080;">1</span></pre>
</div>
<p>【输出样例】</p>
<div class="cnblogs_code">
<pre><code><span style="color: #800080;">2</span> </pre>
</div>
<p>【数据规模】</p>
<p><img src="./images/长乐国庆集训Day12.png" alt="" /></p>
<h3>解析</h3>
<p>&nbsp;据说有个叫最短路图的东西，就是把原图中满足dis(u)+w=dis(v)的边(u,v,w)保留下来构成的子图。</p>
<p>本题中，边权一定为正整数，所以最短路图是一个有向无环图，答案只需枚举有向无环图中生成树的数量即可，然而仍然过不了。</p>
<p>事实上，在构造最短路图的过程中，就是在给每个点选一个父亲，而可选父亲总数就是这个点的入度，显然答案为入度之积。</p>
<p>具体实现是用最短路，本蒟蒻采用的是Dijkstra。</p>
<h3>Code</h3>
<div class="cnblogs_code" onclick="cnblogs_code_show('b03554cf-16d5-47e7-9917-7de5cc743de3')"><img id="code_img_closed_b03554cf-16d5-47e7-9917-7de5cc743de3" class="code_img_closed" src="./images/长乐国庆集训Day10.png" alt="" /><img id="code_img_opened_b03554cf-16d5-47e7-9917-7de5cc743de3" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('b03554cf-16d5-47e7-9917-7de5cc743de3',event)" src="./images/长乐国庆集训Day11.png" alt="" />
<div id="cnblogs_code_open_b03554cf-16d5-47e7-9917-7de5cc743de3" class="cnblogs_code_hide">
<pre>#include &lt;algorithm&gt;<span style="color: #000000;">
#include </span>&lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;cstring&gt;<span style="color: #000000;">
#include </span>&lt;<span style="color: #0000ff;">string</span>&gt;<span style="color: #000000;">
#include </span>&lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;cmath&gt;<span style="color: #000000;">
#include </span>&lt;queue&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
priority_queue</span>&lt;pair&lt;<span style="color: #0000ff;">int</span>,<span style="color: #0000ff;">int</span>&gt; &gt;<span style="color: #000000;"> q;
</span><span style="color: #0000ff;">const</span> <span style="color: #0000ff;">int</span> N=<span style="color: #800080;">1010</span>,M=<span style="color: #800080;">1000100</span><span style="color: #000000;">;
</span><span style="color: #0000ff;">const</span> <span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span> mod=<span style="color: #800080;">2147483647</span><span style="color: #000000;">;
</span><span style="color: #0000ff;">int</span> n,m,head[N],ver[M],edge[M],<span style="color: #0000ff;">from</span><span style="color: #000000;">[M],tot,next[M],d[N],deg[N];
</span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span> ans=<span style="color: #800080;">1</span><span style="color: #000000;">;
</span><span style="color: #0000ff;">bool</span><span style="color: #000000;"> v[N];
</span><span style="color: #0000ff;">void</span> add(<span style="color: #0000ff;">int</span> x,<span style="color: #0000ff;">int</span> y,<span style="color: #0000ff;">int</span><span style="color: #000000;"> z)
{
    ver[</span>++tot]=y,edge[tot]=z,<span style="color: #0000ff;">from</span>[tot]=x,next[tot]=head[x],head[x]=<span style="color: #000000;">tot;
}
</span><span style="color: #0000ff;">void</span><span style="color: #000000;"> dijkstra()
{
    memset(d,</span><span style="color: #800080;">0x7f7f7f7f</span>,<span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(d));
    memset(v,</span><span style="color: #0000ff;">false</span>,<span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(v));
    d[</span><span style="color: #800080;">1</span>]=<span style="color: #800080;">0</span><span style="color: #000000;">;
    q.push(make_pair(</span><span style="color: #800080;">0</span>,<span style="color: #800080;">1</span><span style="color: #000000;">));
    </span><span style="color: #0000ff;">while</span><span style="color: #000000;">(q.size())
    {
        </span><span style="color: #0000ff;">int</span> x=<span style="color: #000000;">q.top().second;
        q.pop();
        </span><span style="color: #0000ff;">if</span>(v[x]) <span style="color: #0000ff;">continue</span><span style="color: #000000;">;
        v[x]</span>=<span style="color: #800080;">1</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=head[x];i;i=<span style="color: #000000;">next[i])
        {
            </span><span style="color: #0000ff;">int</span> y=ver[i],z=<span style="color: #000000;">edge[i];
            </span><span style="color: #0000ff;">if</span>(d[y]&gt;d[x]+<span style="color: #000000;">z)
            {
                d[y]</span>=d[x]+<span style="color: #000000;">z;
                q.push(make_pair(</span>-<span style="color: #000000;">d[y],y));
            }
        }
    }
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=tot;i++<span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">int</span> x=<span style="color: #0000ff;">from</span>[i],y=ver[i],z=<span style="color: #000000;">edge[i];
        </span><span style="color: #0000ff;">if</span>(d[x]+z==d[y]) deg[y]++<span style="color: #000000;">;
    }
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=n;i++<span style="color: #000000;">)
        </span><span style="color: #0000ff;">if</span>(deg[i]) ans=(1LL*ans*deg[i])%<span style="color: #000000;">mod;
}
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    cin</span>&gt;&gt;n&gt;&gt;<span style="color: #000000;">m;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=m;i++<span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> x,y,z;
        cin</span>&gt;&gt;x&gt;&gt;y&gt;&gt;<span style="color: #000000;">z;
        add(x,y,z);
        add(y,x,z);
    }
    dijkstra();
    cout</span>&lt;&lt;<span style="color: #000000;">ans;
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>T3 开根号</h2>
<h3>题目</h3>
<p>【题目描述】</p>
<p><img src="./images/长乐国庆集训Day15.png" alt="" /></p>
<p>【输入格式】</p>
<p>输入包含多组数据。每组数据包含一行两个正整数L,R。</p>
<p>文件以0 0结尾（结尾不需要输出）。</p>
<p>【输出格式】</p>
<p>对于每组数据，输出一行表示答案。保证答案在[0,2<sup>63</sup>)范围内。</p>
<p>【样例输入】</p>
<div class="cnblogs_code">
<pre><code><span style="color: #800080;">2</span> <span style="color: #800080;">10</span>
<span style="color: #800080;">248832</span> <span style="color: #800080;">248832</span>
<span style="color: #800080;">0</span> <span style="color: #800080;">0</span></pre>
</div>
<p>【样例输出】</p>
<div class="cnblogs_code">
<pre><code><span style="color: #800080;">13</span>
<span style="color: #800080;">5</span></pre>
</div>
<p>【数据规模】</p>
<p><img src="./images/长乐国庆集训Day16.png" alt="" /></p>
<h3>解析</h3>
<p><span style="text-decoration: line-through;">可怕的数论题~~~</span></p>
<p>先把区间求和用前缀和表示，所以只需求[1,n]的答案。</p>
<p>依次求每个数的f(i)很麻烦，考虑求[1,n]中f(i)=k的个数，其个数用g(k)表示。</p>
<p>用p(k)表示[1,n]中开k次方还是正整数的数的个数，可以得到p(k)=n<sup>1/k</sup>(向下取整)。</p>
<p>则<img src="./images/长乐国庆集训Day17.png" alt="" width="148" height="46" />。</p>
<p>所以用递推推出答案就可以了。</p>
<h3>Code</h3>
<div class="cnblogs_code" onclick="cnblogs_code_show('d402a692-c744-438d-ae81-c68453357b43')"><img id="code_img_closed_d402a692-c744-438d-ae81-c68453357b43" class="code_img_closed" src="./images/长乐国庆集训Day10.png" alt="" /><img id="code_img_opened_d402a692-c744-438d-ae81-c68453357b43" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('d402a692-c744-438d-ae81-c68453357b43',event)" src="./images/长乐国庆集训Day11.png" alt="" />
<div id="cnblogs_code_open_d402a692-c744-438d-ae81-c68453357b43" class="cnblogs_code_hide">
<pre>#include &lt;algorithm&gt;<span style="color: #000000;">
#include </span>&lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;cstring&gt;<span style="color: #000000;">
#include </span>&lt;<span style="color: #0000ff;">string</span>&gt;<span style="color: #000000;">
#include </span>&lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;cmath&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">const</span> <span style="color: #0000ff;">double</span> eps=1e-<span style="color: #800080;">10</span><span style="color: #000000;">;
</span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span> l,r,f[<span style="color: #800080;">100</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span> solve(<span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span><span style="color: #000000;"> x)
{
    </span><span style="color: #0000ff;">if</span>(x&lt;<span style="color: #800080;">2</span>) <span style="color: #0000ff;">return</span> <span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">int</span> num=<span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">63</span>;i&gt;=<span style="color: #800080;">2</span>;i--<span style="color: #000000;">)
    {
        f[i]</span>=(<span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span>)(pow(x,(<span style="color: #0000ff;">double</span>)<span style="color: #800080;">1.0</span>/i)+eps)-<span style="color: #800080;">1</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> j=i+i;j&lt;=<span style="color: #800080;">63</span>;j+=i) f[i]-=<span style="color: #000000;">f[j];
        num</span>+=f[i]*(i-<span style="color: #800080;">1</span><span style="color: #000000;">); 
    }
    </span><span style="color: #0000ff;">return</span> num+<span style="color: #000000;">x;
}
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    cin</span>&gt;&gt;l&gt;&gt;<span style="color: #000000;">r;
    </span><span style="color: #0000ff;">while</span>(l!=<span style="color: #800080;">0</span>&amp;&amp;r!=<span style="color: #800080;">0</span><span style="color: #000000;">)
    {
        cout</span>&lt;&lt;solve(r)-solve(l-<span style="color: #800080;">1</span>)&lt;&lt;<span style="color: #000000;">endl;
        cin</span>&gt;&gt;l&gt;&gt;<span style="color: #000000;">r;
    }
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>T4 旅行</h2>
<h3>题目</h3>
<p>【题目描述】</p>
<p><img src="./images/长乐国庆集训Day110.png" alt="" /></p>
<p>【输入格式】</p>
<p>第一行包含两个非负整数n,k，含义如【题目描述】所述。</p>
<p>接下来n-1行，每行三个正整数u,v,w，表示u,v之间有一条边权为w的边。</p>
<p>【输出格式】</p>
<p>输出一行一个整数，表示答案。保证存在合法解。</p>
<p>【输入样例】</p>
<div class="cnblogs_code">
<pre><code><span style="color: #800080;">5</span> <span style="color: #800080;">6</span>
<span style="color: #800080;">1</span> <span style="color: #800080;">2</span> <span style="color: #800080;">3</span>
<span style="color: #800080;">1</span> <span style="color: #800080;">3</span> <span style="color: #800080;">4</span>
<span style="color: #800080;">2</span> <span style="color: #800080;">4</span> <span style="color: #800080;">2</span>
<span style="color: #800080;">2</span> <span style="color: #800080;">5</span> <span style="color: #800080;">3</span></pre>
</div>
<p>【输出样例】</p>
<div class="cnblogs_code">
<pre><code><span style="color: #800080;">4</span> </pre>
</div>
<p>【数据规模】</p>
<p><img src="./images/长乐国庆集训Day111.png" alt="" /></p>
<h3>解析</h3>
<p>不难发现：</p>
<ul>
<li>dis(u,v)=dis(u,1)+dis(v,1)。</li>
<li>如果经过的边数为奇数，那么必定有一个点的深度为奇数，另一个点的深度为偶数。</li>
</ul>
<p>所以将所有点按深度的奇偶来分类，于是就有了两个序列a，b，只需求a<sub>i</sub>+b<sub>i</sub>的第k小值即可。</p>
<h3>Code</h3>
<div class="cnblogs_code" onclick="cnblogs_code_show('932a0922-3330-4125-b54e-a1ebb28c350b')"><img id="code_img_closed_932a0922-3330-4125-b54e-a1ebb28c350b" class="code_img_closed" src="./images/长乐国庆集训Day10.png" alt="" /><img id="code_img_opened_932a0922-3330-4125-b54e-a1ebb28c350b" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('932a0922-3330-4125-b54e-a1ebb28c350b',event)" src="./images/长乐国庆集训Day11.png" alt="" />
<div id="cnblogs_code_open_932a0922-3330-4125-b54e-a1ebb28c350b" class="cnblogs_code_hide">
<pre>#include &lt;algorithm&gt;<span style="color: #000000;">
#include </span>&lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;cstring&gt;<span style="color: #000000;">
#include </span>&lt;<span style="color: #0000ff;">string</span>&gt;<span style="color: #000000;">
#include </span>&lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;cmath&gt;<span style="color: #000000;">
#include </span>&lt;queue&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">const</span> <span style="color: #0000ff;">int</span> N=<span style="color: #800080;">100010</span><span style="color: #000000;">;
</span><span style="color: #0000ff;">struct</span><span style="color: #000000;"> node
{
    </span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span><span style="color: #000000;"> v;
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> p;
    node(</span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span> a,<span style="color: #0000ff;">int</span><span style="color: #000000;"> b):v(a),p(b){}
    </span><span style="color: #0000ff;">bool</span> <span style="color: #0000ff;">operator</span> &lt; (<span style="color: #0000ff;">const</span> node &amp;a) <span style="color: #0000ff;">const</span><span style="color: #000000;">
    {
        </span><span style="color: #0000ff;">return</span> v&gt;<span style="color: #000000;">a.v;
    }
};
priority_queue</span>&lt;node&gt;<span style="color: #000000;"> q;
</span><span style="color: #0000ff;">int</span> head[N],ver[N&lt;&lt;<span style="color: #800080;">1</span>],edge[N&lt;&lt;<span style="color: #800080;">1</span>],next[N&lt;&lt;<span style="color: #800080;">1</span><span style="color: #000000;">],tot;
</span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span><span style="color: #000000;"> dis[N],deep[N],a[N],b[N],cnta,cntb;
</span><span style="color: #0000ff;">void</span> add(<span style="color: #0000ff;">int</span> x,<span style="color: #0000ff;">int</span> y,<span style="color: #0000ff;">int</span><span style="color: #000000;"> z)
{
    ver[</span>++tot]=y,edge[tot]=z,next[tot]=head[x],head[x]=<span style="color: #000000;">tot;
}
</span><span style="color: #0000ff;">void</span> dfs(<span style="color: #0000ff;">int</span> x,<span style="color: #0000ff;">int</span><span style="color: #000000;"> fa)
{
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=head[x];i;i=<span style="color: #000000;">next[i])
    {
        </span><span style="color: #0000ff;">int</span> y=ver[i],z=<span style="color: #000000;">edge[i];
        </span><span style="color: #0000ff;">if</span>(y==fa) <span style="color: #0000ff;">continue</span><span style="color: #000000;">;
        dis[y]</span>=-dis[x]+z,deep[y]=deep[x]+<span style="color: #800080;">1</span><span style="color: #000000;">;
        dfs(y,x);
    }
}
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> n,k;
    cin</span>&gt;&gt;n&gt;&gt;<span style="color: #000000;">k;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=n-<span style="color: #800080;">1</span>;i++<span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> x,y,z;
        cin</span>&gt;&gt;x&gt;&gt;y&gt;&gt;<span style="color: #000000;">z;
        add(x,y,z);
        add(y,x,z);
    }
    dfs(</span><span style="color: #800080;">1</span>,<span style="color: #800080;">0</span><span style="color: #000000;">);
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=n;i++<span style="color: #000000;">)
        </span><span style="color: #0000ff;">if</span>(deep[i]&amp;<span style="color: #800080;">1</span>) a[++cnta]=<span style="color: #000000;">dis[i];
        </span><span style="color: #0000ff;">else</span> b[++cntb]=<span style="color: #000000;">dis[i];
    sort(b</span>+<span style="color: #800080;">1</span>,b+cntb+<span style="color: #800080;">1</span><span style="color: #000000;">);
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=cnta;i++) q.push(node(a[i]+b[<span style="color: #800080;">1</span><span style="color: #000000;">],i));
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=cnta;i++) head[i]=<span style="color: #800080;">1</span><span style="color: #000000;">;    
    </span><span style="color: #0000ff;">while</span>(k&gt;<span style="color: #800080;">1</span><span style="color: #000000;">)
    {
        node t</span>=<span style="color: #000000;">q.top();
        q.pop();
        </span><span style="color: #0000ff;">if</span>((++head[t.p])&lt;=cntb) q.push(node(a[t.p]+<span style="color: #000000;">b[head[t.p]],t.p));
        k</span>--<span style="color: #000000;">;
    }
    cout</span>&lt;&lt;<span style="color: #000000;">q.top().v;
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>