<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修tyvj 1387 迷你火车头' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>tyvj 1387 迷你火车头</center></div><div class='banquan'>原文出处:本文由博客园博主LSJ_qwq提供。<br/>
原文连接:https://www.cnblogs.com/LSJ-juruo/p/12067227.html</div><br>
    <p>dp百题进度条[1/100]</p>
<p>一列火车有一个火车头拖着一长串的车厢，每个车厢有若干个乘客。<br />
一旦火车头出了故障，所有的车厢就只能停在铁轨上了，因此铁路局给每列火车配备了三个迷你火车头，每个迷你火车头可以拖动一定数量的车厢，以便火车头发生故障后能够拖走部分车厢。<br />
　　铁路部门对迷你火车头作了如下规定：<br />
　　1．迷你火车头能够拖动的最大车厢数是确定的，这个数量对三个迷你火车头都是相同的。<br />
　　2．一旦火车头发生故障，迷你火车头要拖走尽可能多的旅客，每节车厢的旅客数事先是已知的，并且旅客不得随意更换车厢。<br />
　　3．一个迷你火车头拖走的车厢必须是连续的，所有车厢从1开始编号。<br />
　　假如有7节车厢，一个迷你火车头最多可以拖动二节车厢，1到7号车厢中的旅客人数分别为35,40,50,10,30,45和60。<br />
　　如果三个迷你火车头拖走的车厢分别是1-2，3-4和6-7，它们带走的旅客总数将达到240人，其它任何方案都不可能超过该数，所以240就是这个问题的解。<br />
　　给定车厢数，每节车厢的旅客人数和一个迷你火车头能拖动的最大车厢数，写一个程序求出三个迷你火车头最多能带走的旅客数。</p>
<p>输入格式<br />
输入文件共有三行。<br />
第一行为一个正整数n，其中n&lt;=50,000，表示车厢总数；<br />
第二行为n个用空格隔开的整数，依次表示n节车厢的旅客人数，每节车厢人数不超过100；<br />
第三行为一个正整数m表示迷你火车头能够拖动的最大车厢数，其中m&lt;=n/3。</p>
<p>输出格式<br />
输出文件仅有一行包含一个整数表示三个迷你火车头最多能带走的旅客数。<br />
1<br />
测试样例1<br />
输入<br />
7<br />
35 40 50 10 30 45 60<br />
2</p>
<p>输出<br />
240</p>
<p>我们定义dp[i][j]为第i个火车头时，拖了前j个车厢的最大值<br />
我们用front数组来存前缀<br />
状态转移方程<br />
dp[i][j] = max_(dp[i][j - 1],dp[i - 1][j - m] + front[j] - front[j - m]);</p>
<h1 id="code">Code</h1>
<pre><code>
#include &lt;cstdio&gt;
#include &lt;cstring&gt;
#include &lt;algorithm&gt;
using namespace std;
const int MAXN = 50000 + 5;

int n,t,m;
int dp[5][MAXN],train[MAXN],front[MAXN];

int max_(int x,int y){
    if (x &gt; y) return x;
    else return y;
}

int main(){
    scanf(&quot;%d&quot;,&amp;t);
    
    while(t--){
        scanf(&quot;%d&quot;,&amp;n);
        
        for (register int i = 1 ; i &lt;= n ; i++) scanf(&quot;%d&quot;,&amp;train[i]),front[i] = front[i - 1] + train[i];
        
        scanf(&quot;%d&quot;,&amp;m);
        
        for (register int i = 1 ; i &lt;= 3 ; i++){
            for (int j = m ; j &lt;= n ; j++){
                dp[i][j] = dp[i][j - 1];
                dp[i][j] = max_(dp[i][j - 1],dp[i - 1][j - m] + front[j] - front[j - m]);
            }
        }
        
        printf(&quot;%d\n&quot;,dp[3][n]);
    }
    
    return 0;
}</code></pre>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>