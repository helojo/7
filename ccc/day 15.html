<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修day 15' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>day 15</center></div><div class='banquan'>原文出处:本文由博客园博主Frost_Delay提供。<br/>
原文连接:https://www.cnblogs.com/Frost-Delay/p/wo_bian_qiang_le.html</div><br>
    <h1><span style="font-family: 黑体;"><span style="text-decoration: line-through;">我变强了！</span>，今天模拟赛我第11！！！，得分200/300，感谢良心数据！；</span></h1>
<h2>以下是总结：</h2>
<p>T1贪心，排序后第K大乘第K小即可，long long可过；</p>
<p>T2我不会做，得了三十分暴力分，听说有原题，题面是&nbsp;&nbsp;<span style="text-decoration: underline;">1/x+1/y=1/(n!)&nbsp;</span>&nbsp;，求有多少种x，y符合题意；</p>
<p>T3其实是二分图匹配，<span style="text-decoration: line-through;">但我不会</span>，写了个贪心+搜索，<span style="text-decoration: line-through;">还好数据没卡我</span>，得了70分；</p>
<p>于是得分100+30+70=200！；</p>
<p>开心开心。</p>
<p><a href="http://jzoj.net/senior/#main/show/3455" target="_blank">T1</a></p>
<h2>库特的向量(code)&nbsp;</h2>
<div class="cnblogs_code" onclick="cnblogs_code_show('4aed3b8a-3684-4b5e-bd87-015c7b06aa05')"><img id="code_img_closed_4aed3b8a-3684-4b5e-bd87-015c7b06aa05" class="code_img_closed" src="./images/day 150.png" alt="" /><img id="code_img_opened_4aed3b8a-3684-4b5e-bd87-015c7b06aa05" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('4aed3b8a-3684-4b5e-bd87-015c7b06aa05',event)" src="./images/day 151.png" alt="" />
<div id="cnblogs_code_open_4aed3b8a-3684-4b5e-bd87-015c7b06aa05" class="cnblogs_code_hide">
<pre>#include&lt;iostream&gt;<span style="color: #000000;">
#include</span>&lt;cstdio&gt;<span style="color: #000000;">
#include</span>&lt;cctype&gt;<span style="color: #000000;">
#include</span>&lt;algorithm&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span> a[<span style="color: #800080;">1010</span>],b[<span style="color: #800080;">1010</span><span style="color: #000000;">],n;
</span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span><span style="color: #000000;"> ans;
inline </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> read()
{
    </span><span style="color: #0000ff;">int</span> x=<span style="color: #800080;">0</span>,f=<span style="color: #800080;">1</span>;<span style="color: #0000ff;">char</span> c=<span style="color: #000000;">getchar();
    </span><span style="color: #0000ff;">while</span>(!isdigit(c)){<span style="color: #0000ff;">if</span>(c==<span style="color: #800000;">'</span><span style="color: #800000;">-</span><span style="color: #800000;">'</span>)f=-<span style="color: #800080;">1</span>;c=<span style="color: #000000;">getchar();}
    </span><span style="color: #0000ff;">while</span>(isdigit(c)){x=(x&lt;&lt;<span style="color: #800080;">3</span>)+(x&lt;&lt;<span style="color: #800080;">1</span>)+(c^<span style="color: #800080;">48</span>);c=<span style="color: #000000;">getchar();}
    </span><span style="color: #0000ff;">return</span> x*<span style="color: #000000;">f;
}
inline </span><span style="color: #0000ff;">int</span> cmp(<span style="color: #0000ff;">int</span> x,<span style="color: #0000ff;">int</span><span style="color: #000000;"> y)
{
    </span><span style="color: #0000ff;">return</span> x&lt;<span style="color: #000000;">y;
}
inline </span><span style="color: #0000ff;">int</span> cmp1(<span style="color: #0000ff;">int</span> x,<span style="color: #0000ff;">int</span><span style="color: #000000;"> y)
{
    </span><span style="color: #0000ff;">return</span> x&gt;<span style="color: #000000;">y;
}
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    n</span>=<span style="color: #000000;">read();
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=n;i++)a[i]=<span style="color: #000000;">read();
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=n;i++)b[i]=<span style="color: #000000;">read();
    sort(a</span>+<span style="color: #800080;">1</span>,a+n+<span style="color: #800080;">1</span>,cmp);sort(b+<span style="color: #800080;">1</span>,b+n+<span style="color: #800080;">1</span><span style="color: #000000;">,cmp1);
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=n;i++<span style="color: #000000;">)
        ans</span>+=a[i]*<span style="color: #000000;">b[i];
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%lld</span><span style="color: #800000;">"</span><span style="color: #000000;">,ans);
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p><a href="http://jzoj.net/senior/#main/show/3456" target="_blank">&nbsp;T2</a></p>
<h2>恭介的法则(rule)</h2>
<p>经过我苦思冥想<span style="text-decoration: line-through;">一顿调试</span>，找出了一个方法：</p>
<p>1.分解n!的质因数，由于要分解的是（n!）<sup>2</sup></p>
<p>但只需要将分解出的质数指数乘2即可，由<a href="https://baike.baidu.com/item/%E7%BA%A6%E6%95%B0%E4%B8%AA%E6%95%B0%E5%AE%9A%E7%90%86/4926961?fr=aladdin" target="_blank">约数个数定理</a>可得出答案；</p>
<p>2.但这和原题（<a href="https://www.lydsy.com/JudgeOnline/problem.php?id=2721" target="_blank">bzoj2721</a>）（<a href="https://www.luogu.org/problem/P1445" target="_blank">洛谷1445</a>）不太一样，它不取模！；</p>
<p>于是，我们还需要高精度乘法；而且要压位！不然存不下；</p>
<p>于是，一段<span style="text-decoration: line-through;">好看</span>丑陋的代码产生了</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('1eb70a80-f687-400a-a1a8-9929eee0c37f')"><img id="code_img_closed_1eb70a80-f687-400a-a1a8-9929eee0c37f" class="code_img_closed" src="./images/day 150.png" alt="" /><img id="code_img_opened_1eb70a80-f687-400a-a1a8-9929eee0c37f" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('1eb70a80-f687-400a-a1a8-9929eee0c37f',event)" src="./images/day 151.png" alt="" />
<div id="cnblogs_code_open_1eb70a80-f687-400a-a1a8-9929eee0c37f" class="cnblogs_code_hide">
<pre><code><span style="color: #0000ff;">#pragma</span> GCC optimize(2)<span style="color: #000000;">
#include</span>&lt;iostream&gt;<span style="color: #000000;">
#include</span>&lt;cstdio&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">const</span> <span style="color: #0000ff;">int</span> maxn=<span style="color: #800080;">3000000</span><span style="color: #000000;">;
</span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span> n,num[maxn],ans[<span style="color: #800080;">3000000</span>]={<span style="color: #800080;">0</span>,<span style="color: #800080;">1</span>},size=<span style="color: #800080;">1</span><span style="color: #000000;">;
</span><span style="color: #0000ff;">void</span> dec(<span style="color: #0000ff;">int</span><span style="color: #000000;"> x)
{
    </span><span style="color: #0000ff;">while</span>(x%<span style="color: #800080;">2</span>==<span style="color: #800080;">0</span><span style="color: #000000;">){
        num[</span><span style="color: #800080;">2</span>]++;x/=<span style="color: #800080;">2</span><span style="color: #000000;">;
    }
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">3</span>;i*i&lt;=x;i+=<span style="color: #800080;">2</span><span style="color: #000000;">)
    </span><span style="color: #0000ff;">while</span>(x%i==<span style="color: #800080;">0</span><span style="color: #000000;">)
    num[i]</span>++,x=x/<span style="color: #000000;">i;
    </span><span style="color: #0000ff;">if</span>(x!=<span style="color: #800080;">1</span>) num[x]++<span style="color: #000000;">;
}
</span><span style="color: #0000ff;">void</span> mul(<span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span><span style="color: #000000;"> x)
{
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=size;i++<span style="color: #000000;">)
    ans[i]</span>*=<span style="color: #000000;">x;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;size;i++<span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span>(ans[i]&gt;=<span style="color: #800080;">10000</span><span style="color: #000000;">)
        {
            </span><span style="color: #0000ff;">int</span> temp=ans[i]/<span style="color: #800080;">10000</span><span style="color: #000000;">;
            ans[i]</span>%=<span style="color: #800080;">10000</span><span style="color: #000000;">;
            ans[i</span>+<span style="color: #800080;">1</span>]+=<span style="color: #000000;">temp;
        }
    }
    </span><span style="color: #0000ff;">while</span>(ans[size]&gt;=<span style="color: #800080;">10000</span><span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">int</span> temp=ans[size]/<span style="color: #800080;">10000</span><span style="color: #000000;">;
        ans[size]</span>%=<span style="color: #800080;">10000</span><span style="color: #000000;">;
        ans[</span>++size]+=<span style="color: #000000;">temp;
    }
}
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    cin</span>&gt;&gt;<span style="color: #000000;">n;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=n;i++<span style="color: #000000;">)
    dec(i);
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=n;i++<span style="color: #000000;">)
    </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(num[i])
    {
        mul(num[i]</span>*<span style="color: #800080;">2</span>+<span style="color: #800080;">1</span><span style="color: #000000;">);
    }
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%lld</span><span style="color: #800000;">"</span><span style="color: #000000;">,ans[size]);
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=size-<span style="color: #800080;">1</span>;i&gt;=<span style="color: #800080;">1</span>;i--<span style="color: #000000;">)
    {
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%lld</span><span style="color: #800000;">"</span>,ans[i]/<span style="color: #800080;">1000</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%lld</span><span style="color: #800000;">"</span>,ans[i]/<span style="color: #800080;">100</span>%<span style="color: #800080;">10</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%lld</span><span style="color: #800000;">"</span>,ans[i]/<span style="color: #800080;">10</span>%<span style="color: #800080;">10</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%lld</span><span style="color: #800000;">"</span>,ans[i]%<span style="color: #800080;">10</span><span style="color: #000000;">);
    }
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>但是，它tle了！于是，我继续修改；</p>
<p>经过同宿舍dalao&mdash;&mdash;lx指点；</p>
<p>我AC了！</p>
<p>想法：由于每个num中的值可能很小，所以我们只要累积到一定大小再乘入答案；</p>
<p>这样就可以跑的飞快！</p>
<p>AC代码</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('88af0aca-6658-4250-8ca5-5be7c97830df')"><img id="code_img_closed_88af0aca-6658-4250-8ca5-5be7c97830df" class="code_img_closed" src="./images/day 150.png" alt="" /><img id="code_img_opened_88af0aca-6658-4250-8ca5-5be7c97830df" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('88af0aca-6658-4250-8ca5-5be7c97830df',event)" src="./images/day 151.png" alt="" />
<div id="cnblogs_code_open_88af0aca-6658-4250-8ca5-5be7c97830df" class="cnblogs_code_hide">
<pre><code><span style="color: #0000ff;">#pragma</span> GCC optimize(2)<span style="color: #000000;">
#include</span>&lt;iostream&gt;<span style="color: #000000;">
#include</span>&lt;cstdio&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">const</span> <span style="color: #0000ff;">int</span> maxn=<span style="color: #800080;">3000000</span><span style="color: #000000;">;
unsigned </span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span> n,num[maxn],ans[<span style="color: #800080;">3000000</span>]={<span style="color: #800080;">0</span>,<span style="color: #800080;">1</span>},size=<span style="color: #800080;">1</span><span style="color: #000000;">;
</span><span style="color: #0000ff;">void</span> dec(<span style="color: #0000ff;">int</span><span style="color: #000000;"> x)
{
    </span><span style="color: #0000ff;">while</span>(x%<span style="color: #800080;">2</span>==<span style="color: #800080;">0</span><span style="color: #000000;">){
        num[</span><span style="color: #800080;">2</span>]++;x/=<span style="color: #800080;">2</span><span style="color: #000000;">;
    }
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">3</span>;i*i&lt;=x;i+=<span style="color: #800080;">2</span><span style="color: #000000;">)
    </span><span style="color: #0000ff;">while</span>(x%i==<span style="color: #800080;">0</span><span style="color: #000000;">)
    num[i]</span>++,x=x/<span style="color: #000000;">i;
    </span><span style="color: #0000ff;">if</span>(x!=<span style="color: #800080;">1</span>) num[x]++<span style="color: #000000;">;
}
</span><span style="color: #0000ff;">void</span> mul(<span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span><span style="color: #000000;"> x)
{
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=size;i++<span style="color: #000000;">)
    ans[i]</span>*=<span style="color: #000000;">x;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;size;i++<span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span>(ans[i]&gt;=<span style="color: #800080;">10000</span><span style="color: #000000;">)
        {
            </span><span style="color: #0000ff;">int</span> temp=ans[i]/<span style="color: #800080;">10000</span><span style="color: #000000;">;
            ans[i]</span>%=<span style="color: #800080;">10000</span><span style="color: #000000;">;
            ans[i</span>+<span style="color: #800080;">1</span>]+=<span style="color: #000000;">temp;
        }
    }
    </span><span style="color: #0000ff;">while</span>(ans[size]&gt;=<span style="color: #800080;">10000</span><span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">int</span> temp=ans[size]/<span style="color: #800080;">10000</span><span style="color: #000000;">;
        ans[size]</span>%=<span style="color: #800080;">10000</span><span style="color: #000000;">;
        ans[</span>++size]+=<span style="color: #000000;">temp;
    }
}
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    cin</span>&gt;&gt;<span style="color: #000000;">n;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=n;i++<span style="color: #000000;">)
    dec(i);
    unsigned </span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span> p=<span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=n;i++<span style="color: #000000;">)
    </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(num[i])
    {
        p</span>*=(num[i]*<span style="color: #800080;">2</span>+<span style="color: #800080;">1</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">if</span>(p&gt;<span style="color: #800080;">50000</span><span style="color: #000000;">)
        {
            mul(p);
            p</span>=<span style="color: #800080;">1</span><span style="color: #000000;">;
        }
    }
    mul(p);
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%lld</span><span style="color: #800000;">"</span><span style="color: #000000;">,ans[size]);
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=size-<span style="color: #800080;">1</span>;i&gt;=<span style="color: #800080;">1</span>;i--<span style="color: #000000;">)
    {
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%lld</span><span style="color: #800000;">"</span>,ans[i]/<span style="color: #800080;">1000</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%lld</span><span style="color: #800000;">"</span>,ans[i]/<span style="color: #800080;">100</span>%<span style="color: #800080;">10</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%lld</span><span style="color: #800000;">"</span>,ans[i]/<span style="color: #800080;">10</span>%<span style="color: #800080;">10</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%lld</span><span style="color: #800000;">"</span>,ans[i]%<span style="color: #800080;">10</span><span style="color: #000000;">);
    }
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p><a href="http://jzoj.net/senior/#main/show/3457" target="_blank">T3</a></p>
<h2>沙耶的玩偶(doll)&nbsp;</h2>
<div class="cnblogs_code" onclick="cnblogs_code_show('0b119d8d-834c-470b-8492-5bbe05bc5ffa')"><img id="code_img_closed_0b119d8d-834c-470b-8492-5bbe05bc5ffa" class="code_img_closed" src="./images/day 150.png" alt="" /><img id="code_img_opened_0b119d8d-834c-470b-8492-5bbe05bc5ffa" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('0b119d8d-834c-470b-8492-5bbe05bc5ffa',event)" src="./images/day 151.png" alt="" />
<div id="cnblogs_code_open_0b119d8d-834c-470b-8492-5bbe05bc5ffa" class="cnblogs_code_hide">
<pre>#include&lt;iostream&gt;<span style="color: #000000;">
#include</span>&lt;cstdio&gt;<span style="color: #000000;">
#include</span>&lt;vector&gt;<span style="color: #000000;">
#include</span>&lt;cstring&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> n,m,r,c,cnt;
vector</span>&lt;<span style="color: #0000ff;">int</span>&gt;q[<span style="color: #800080;">2505</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">bool</span> v[<span style="color: #800080;">2505</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">int</span> num[<span style="color: #800080;">60</span>][<span style="color: #800080;">60</span>],l[<span style="color: #800080;">2505</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">char</span> a[<span style="color: #800080;">60</span>][<span style="color: #800080;">60</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> ans;
</span><span style="color: #0000ff;">void</span> build(<span style="color: #0000ff;">int</span> x,<span style="color: #0000ff;">int</span><span style="color: #000000;"> y){q[x].push_back(y);}
</span><span style="color: #0000ff;">bool</span> xyl(<span style="color: #0000ff;">int</span><span style="color: #000000;"> x)
{
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>;i&lt;q[x].size();i++<span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span>(!<span style="color: #000000;">v[q[x][i]])
        {
            </span><span style="color: #0000ff;">int</span> j=<span style="color: #000000;">q[x][i];
            v[j]</span>=<span style="color: #800080;">1</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">int</span> w=<span style="color: #000000;">l[j];
            l[j]</span>=<span style="color: #000000;">x;
            </span><span style="color: #0000ff;">if</span>(!w||xyl(w))<span style="color: #0000ff;">return</span> <span style="color: #800080;">1</span><span style="color: #000000;">;
            l[j]</span>=<span style="color: #000000;">w;
        }
    }
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d%d%d%d</span><span style="color: #800000;">"</span>,&amp;n,&amp;m,&amp;r,&amp;<span style="color: #000000;">c);
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=n;i++<span style="color: #000000;">)
     </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> j=<span style="color: #800080;">1</span>;j&lt;=m;j++<span style="color: #000000;">)
     {
       cin</span>&gt;&gt;<span style="color: #000000;">a[i][j];
       </span><span style="color: #0000ff;">if</span>(a[i][j]==<span style="color: #800000;">'</span><span style="color: #800000;">.</span><span style="color: #800000;">'</span><span style="color: #000000;">)
        num[i][j]</span>=++<span style="color: #000000;">cnt; 
     }
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> x,y;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=n;i++<span style="color: #000000;">)
     </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> j=<span style="color: #800080;">1</span>;j&lt;=m;j++<span style="color: #000000;">)
      </span><span style="color: #0000ff;">if</span>(a[i][j]==<span style="color: #800000;">'</span><span style="color: #800000;">.</span><span style="color: #800000;">'</span><span style="color: #000000;">)
      {
        x</span>=i+r;y=j+<span style="color: #000000;">c;
        </span><span style="color: #0000ff;">if</span>(x&gt;=<span style="color: #800080;">1</span>&amp;&amp;x&lt;=n&amp;&amp;y&gt;=<span style="color: #800080;">1</span>&amp;&amp;y&lt;=m&amp;&amp;a[x][y]==<span style="color: #800000;">'</span><span style="color: #800000;">.</span><span style="color: #800000;">'</span><span style="color: #000000;">) build(num[i][j],num[x][y]);
        x</span>=i+r;y=j-<span style="color: #000000;">c;
        </span><span style="color: #0000ff;">if</span>(x&gt;=<span style="color: #800080;">1</span>&amp;&amp;x&lt;=n&amp;&amp;y&gt;=<span style="color: #800080;">1</span>&amp;&amp;y&lt;=m&amp;&amp;a[x][y]==<span style="color: #800000;">'</span><span style="color: #800000;">.</span><span style="color: #800000;">'</span><span style="color: #000000;">) build(num[i][j],num[x][y]);
        x</span>=i+c;y=j+<span style="color: #000000;">r;
        </span><span style="color: #0000ff;">if</span>(x&gt;=<span style="color: #800080;">1</span>&amp;&amp;x&lt;=n&amp;&amp;y&gt;=<span style="color: #800080;">1</span>&amp;&amp;y&lt;=m&amp;&amp;a[x][y]==<span style="color: #800000;">'</span><span style="color: #800000;">.</span><span style="color: #800000;">'</span><span style="color: #000000;">) build(num[i][j],num[x][y]);
        x</span>=i+c;y=j-<span style="color: #000000;">r;
        </span><span style="color: #0000ff;">if</span>(x&gt;=<span style="color: #800080;">1</span>&amp;&amp;x&lt;=n&amp;&amp;y&gt;=<span style="color: #800080;">1</span>&amp;&amp;y&lt;=m&amp;&amp;a[x][y]==<span style="color: #800000;">'</span><span style="color: #800000;">.</span><span style="color: #800000;">'</span><span style="color: #000000;">) build(num[i][j],num[x][y]);
      }
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=cnt;i++<span style="color: #000000;">)
    {
      memset(v,</span><span style="color: #800080;">0</span>,<span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(v));
      ans</span>+=<span style="color: #000000;">xyl(i);
    }
    cout</span>&lt;&lt;cnt-ans&lt;&lt;<span style="color: #000000;">endl;
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>完。</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>