<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Linux下C++酒店管理系统' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Linux下C++酒店管理系统</center></div><div class='banquan'>原文出处:本文由博客园博主Love丶伊卡洛斯提供。<br/>
原文连接:https://www.cnblogs.com/ikaros-521/p/11402668.html</div><br>
    <p>功能要求：</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="8"><img class="has cke_widget_element" src="./images/Linux下C++酒店管理系统0.png" alt="" width="555" height="132" data-cke-saved-src="./images/Linux下C++酒店管理系统0.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/Linux下C++酒店管理系统0.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;555&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;132&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /><span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /><span class="cke_image_resizer" title="点击并拖拽以改变尺寸">​</span></span></span></p>
<p>相关源码：码云：<a href="https://gitee.com/ikaros-521/hotel_manage_system" data-cke-saved-href="https://gitee.com/ikaros-521/hotel_manage_system">传送门</a>，GitHub：<a href="https://github.com/Ikaros-521/Hotel_Manage_System" data-cke-saved-href="https://github.com/Ikaros-521/Hotel_Manage_System">传送门</a></p>
<p>相关图片：</p>
<p>拆分版</p>
<p>make编译</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="7"><img class="has cke_widget_element" src="./images/Linux下C++酒店管理系统2.png" alt="" width="728" height="141" data-cke-saved-src="./images/Linux下C++酒店管理系统2.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/Linux下C++酒店管理系统2.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;728&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;141&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /><span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /><span class="cke_image_resizer" title="点击并拖拽以改变尺寸">​</span></span></span></p>
<p>./hotel运行</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="6"><img class="has cke_widget_element" src="./images/Linux下C++酒店管理系统4.png" alt="" width="409" height="258" data-cke-saved-src="./images/Linux下C++酒店管理系统4.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/Linux下C++酒店管理系统4.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;409&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;258&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /><span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /><span class="cke_image_resizer" title="点击并拖拽以改变尺寸">​</span></span></span></p>
<p>输入2，进入开房模块</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="5"><img class="has cke_widget_element" src="./images/Linux下C++酒店管理系统6.png" alt="" width="522" height="563" data-cke-saved-src="./images/Linux下C++酒店管理系统6.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/Linux下C++酒店管理系统6.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;522&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;563&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /><span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /><span class="cke_image_resizer" title="点击并拖拽以改变尺寸">​</span></span></span></p>
<p>相关源码：</p>
<p>class.cpp</p>
<div class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="4">
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">  1</span> #include &lt;fstream&gt;
<span style="color: #008080;">  2</span> #include <span style="color: #800000;">"</span><span style="color: #800000;">tools.h</span><span style="color: #800000;">"</span>
<span style="color: #008080;">  3</span> #include <span style="color: #800000;">"</span><span style="color: #800000;">class.h</span><span style="color: #800000;">"</span>
<span style="color: #008080;">  4</span> 
<span style="color: #008080;">  5</span> <span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #008080;">  6</span> 
<span style="color: #008080;">  7</span> Customer* cust[<span style="color: #800080;">30</span><span style="color: #000000;">];
</span><span style="color: #008080;">  8</span> Room* room[<span style="color: #800080;">30</span><span style="color: #000000;">];
</span><span style="color: #008080;">  9</span> 
<span style="color: #008080;"> 10</span> 
<span style="color: #008080;"> 11</span> <span style="color: #0000ff;">int</span> live; <span style="color: #008000;">//</span><span style="color: #008000;"> 被订房间数
</span><span style="color: #008080;"> 12</span> 
<span style="color: #008080;"> 13</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 获取room_num</span>
<span style="color: #008080;"> 14</span> <span style="color: #0000ff;">short</span> Room::get_room_num(<span style="color: #0000ff;">void</span><span style="color: #000000;">)
</span><span style="color: #008080;"> 15</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 16</span>     <span style="color: #0000ff;">return</span><span style="color: #000000;"> room_num;
</span><span style="color: #008080;"> 17</span> <span style="color: #000000;">}
</span><span style="color: #008080;"> 18</span> 
<span style="color: #008080;"> 19</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 返回房间的下标</span>
<span style="color: #008080;"> 20</span> <span style="color: #0000ff;">int</span> Manage::room_index(<span style="color: #0000ff;">short</span><span style="color: #000000;"> room_num)
</span><span style="color: #008080;"> 21</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 22</span>     <span style="color: #0000ff;">short</span> num =<span style="color: #000000;"> room_num;
</span><span style="color: #008080;"> 23</span>     <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>; i&lt;<span style="color: #800080;">30</span>; i++<span style="color: #000000;">)
</span><span style="color: #008080;"> 24</span> <span style="color: #000000;">    {
</span><span style="color: #008080;"> 25</span>         <span style="color: #0000ff;">if</span>(num == room[i]-&gt;<span style="color: #000000;">get_room_num())
</span><span style="color: #008080;"> 26</span> <span style="color: #000000;">        {
</span><span style="color: #008080;"> 27</span>             <span style="color: #0000ff;">return</span><span style="color: #000000;"> i;
</span><span style="color: #008080;"> 28</span> <span style="color: #000000;">        }
</span><span style="color: #008080;"> 29</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 30</span>     <span style="color: #0000ff;">return</span> -<span style="color: #800080;">1</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 31</span> <span style="color: #000000;">}
</span><span style="color: #008080;"> 32</span> 
<span style="color: #008080;"> 33</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 返回顾客的下标</span>
<span style="color: #008080;"> 34</span> <span style="color: #0000ff;">int</span> Manage::cust_index(<span style="color: #0000ff;">short</span><span style="color: #000000;"> room_num)
</span><span style="color: #008080;"> 35</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 36</span>     <span style="color: #0000ff;">short</span> num =<span style="color: #000000;"> room_num;
</span><span style="color: #008080;"> 37</span>     <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>; i&lt;<span style="color: #800080;">30</span>; i++<span style="color: #000000;">)
</span><span style="color: #008080;"> 38</span> <span style="color: #000000;">    {
</span><span style="color: #008080;"> 39</span>         <span style="color: #0000ff;">if</span>(num == cust[i]-&gt;<span style="color: #000000;">room_num)
</span><span style="color: #008080;"> 40</span> <span style="color: #000000;">        {
</span><span style="color: #008080;"> 41</span>             <span style="color: #0000ff;">return</span><span style="color: #000000;"> i;
</span><span style="color: #008080;"> 42</span> <span style="color: #000000;">        }
</span><span style="color: #008080;"> 43</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 44</span>     <span style="color: #0000ff;">return</span> -<span style="color: #800080;">1</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 45</span> <span style="color: #000000;">}
</span><span style="color: #008080;"> 46</span> 
<span style="color: #008080;"> 47</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 查询剩余房间</span>
<span style="color: #008080;"> 48</span> <span style="color: #0000ff;">void</span> Manage::find_room(<span style="color: #0000ff;">void</span><span style="color: #000000;">)
</span><span style="color: #008080;"> 49</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 50</span>     <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>; i&lt;<span style="color: #800080;">30</span>; i++<span style="color: #000000;">)
</span><span style="color: #008080;"> 51</span> <span style="color: #000000;">    {
</span><span style="color: #008080;"> 52</span>         <span style="color: #0000ff;">if</span>(i == <span style="color: #800080;">10</span> || i == <span style="color: #800080;">20</span><span style="color: #000000;">)
</span><span style="color: #008080;"> 53</span> <span style="color: #000000;">        {
</span><span style="color: #008080;"> 54</span>             cout &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;"> 55</span> <span style="color: #000000;">        }
</span><span style="color: #008080;"> 56</span>         <span style="color: #0000ff;">if</span>(room[i]-&gt;use != <span style="color: #800080;">0</span><span style="color: #000000;">)
</span><span style="color: #008080;"> 57</span> <span style="color: #000000;">        {
</span><span style="color: #008080;"> 58</span>             <span style="color: #0000ff;">continue</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 59</span> <span style="color: #000000;">        }
</span><span style="color: #008080;"> 60</span>         cout &lt;&lt; room[i]-&gt;room_num &lt;&lt; <span style="color: #800000;">"</span> <span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 61</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 62</span>     cout &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;"> 63</span> <span style="color: #000000;">}
</span><span style="color: #008080;"> 64</span> 
<span style="color: #008080;"> 65</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 开房</span>
<span style="color: #008080;"> 66</span> <span style="color: #0000ff;">void</span> Manage::get_room(<span style="color: #0000ff;">void</span><span style="color: #000000;">)
</span><span style="color: #008080;"> 67</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 68</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">现有房间如下</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;"> 69</span> <span style="color: #000000;">    find_room();
</span><span style="color: #008080;"> 70</span>     
<span style="color: #008080;"> 71</span> <span style="color: #008000;">//</span><span style="color: #008000;">    cout &lt;&lt; "已经入住的人员" &lt;&lt; endl;
</span><span style="color: #008080;"> 72</span> <span style="color: #008000;">//</span><span style="color: #008000;">    show_cust();</span>
<span style="color: #008080;"> 73</span> 
<span style="color: #008080;"> 74</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">请输入您选择的房间:</span><span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 75</span>     <span style="color: #0000ff;">short</span><span style="color: #000000;"> room_num;
</span><span style="color: #008080;"> 76</span>     cin &gt;&gt;<span style="color: #000000;"> room_num;
</span><span style="color: #008080;"> 77</span>     <span style="color: #0000ff;">int</span> flag =<span style="color: #000000;"> used(room_num);
</span><span style="color: #008080;"> 78</span>     <span style="color: #0000ff;">if</span>(flag == <span style="color: #800080;">1</span><span style="color: #000000;">)
</span><span style="color: #008080;"> 79</span> <span style="color: #000000;">    {
</span><span style="color: #008080;"> 80</span>         cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">此房间不能使用，请重新选择</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;"> 81</span> <span style="color: #000000;">        getch();
</span><span style="color: #008080;"> 82</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 83</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 84</span>     <span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(flag == -<span style="color: #800080;">1</span><span style="color: #000000;">)
</span><span style="color: #008080;"> 85</span> <span style="color: #000000;">    {
</span><span style="color: #008080;"> 86</span>         cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">此房间不存在，请重新选择</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;"> 87</span> <span style="color: #000000;">        getch();
</span><span style="color: #008080;"> 88</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 89</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 90</span>     <span style="color: #0000ff;">else</span>
<span style="color: #008080;"> 91</span> <span style="color: #000000;">    {
</span><span style="color: #008080;"> 92</span>         cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">您选择的房间是:</span><span style="color: #800000;">"</span> &lt;&lt; room_num &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;"> 93</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 94</span> 
<span style="color: #008080;"> 95</span>     <span style="color: #0000ff;">int</span> index =<span style="color: #000000;"> room_index(room_num);
</span><span style="color: #008080;"> 96</span>     <span style="color: #0000ff;">short</span> type = room[index]-&gt;<span style="color: #000000;">room_type;
</span><span style="color: #008080;"> 97</span> 
<span style="color: #008080;"> 98</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">请输入您的姓名:</span><span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 99</span>     <span style="color: #0000ff;">string</span><span style="color: #000000;"> name;
</span><span style="color: #008080;">100</span>     cin &gt;&gt;<span style="color: #000000;"> name;
</span><span style="color: #008080;">101</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">请输入您的身份证:</span><span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;">102</span>     <span style="color: #0000ff;">string</span><span style="color: #000000;"> id;
</span><span style="color: #008080;">103</span>     cin &gt;&gt;<span style="color: #000000;"> id;
</span><span style="color: #008080;">104</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">请输入您的2位家属(0，表示没有)</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">105</span>     <span style="color: #0000ff;">string</span><span style="color: #000000;"> family1,family2;
</span><span style="color: #008080;">106</span>     cin &gt;&gt; family1 &gt;&gt;<span style="color: #000000;"> family2;
</span><span style="color: #008080;">107</span> 
<span style="color: #008080;">108</span>     <span style="color: #0000ff;">if</span>(type == <span style="color: #800080;">1</span><span style="color: #000000;">)
</span><span style="color: #008080;">109</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">110</span>         <span style="color: #0000ff;">if</span>(family1 != <span style="color: #800000;">"</span><span style="color: #800000;">0</span><span style="color: #800000;">"</span> || family2 != <span style="color: #800000;">"</span><span style="color: #800000;">0</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;">111</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">112</span>             cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">人数过多，开房失败</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">113</span> <span style="color: #000000;">            getch();
</span><span style="color: #008080;">114</span>             <span style="color: #0000ff;">return</span><span style="color: #000000;">;
</span><span style="color: #008080;">115</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">116</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">117</span>     <span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(type == <span style="color: #800080;">2</span><span style="color: #000000;">)
</span><span style="color: #008080;">118</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">119</span>         <span style="color: #0000ff;">if</span>(family1 != <span style="color: #800000;">"</span><span style="color: #800000;">0</span><span style="color: #800000;">"</span> &amp;&amp; family2 != <span style="color: #800000;">"</span><span style="color: #800000;">0</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;">120</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">121</span>             cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">人数过多，开房失败</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">122</span> <span style="color: #000000;">            getch();
</span><span style="color: #008080;">123</span>             <span style="color: #0000ff;">return</span><span style="color: #000000;">;
</span><span style="color: #008080;">124</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">125</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">126</span>     <span style="color: #0000ff;">else</span>
<span style="color: #008080;">127</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">128</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">129</span> 
<span style="color: #008080;">130</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">请输入要订的天数:</span><span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;">131</span>     <span style="color: #0000ff;">short</span><span style="color: #000000;"> day;
</span><span style="color: #008080;">132</span>     cin &gt;&gt;<span style="color: #000000;"> day;
</span><span style="color: #008080;">133</span>     <span style="color: #0000ff;">short</span> pay = day*room[index]-&gt;<span style="color: #000000;">price;
</span><span style="color: #008080;">134</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">请支付</span><span style="color: #800000;">"</span> &lt;&lt; pay &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">元</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">135</span>     <span style="color: #0000ff;">short</span> money = <span style="color: #800080;">0</span>,change = <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">136</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">收您：</span><span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;">137</span>     cin &gt;&gt;<span style="color: #000000;"> money;
</span><span style="color: #008080;">138</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">元</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">139</span>     change = money-<span style="color: #000000;">pay;
</span><span style="color: #008080;">140</span>     <span style="color: #0000ff;">if</span>(change &lt; <span style="color: #800080;">0</span><span style="color: #000000;">)
</span><span style="color: #008080;">141</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">142</span>         cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">余额不足，请充值</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">143</span> <span style="color: #000000;">        getch();        
</span><span style="color: #008080;">144</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;">;
</span><span style="color: #008080;">145</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">146</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">找您</span><span style="color: #800000;">"</span> &lt;&lt; change &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">元</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">147</span> 
<span style="color: #008080;">148</span>     <span style="color: #0000ff;">short</span> floor = room_num/<span style="color: #800080;">100</span><span style="color: #000000;">;
</span><span style="color: #008080;">149</span> 
<span style="color: #008080;">150</span>     cust[live++] = <span style="color: #0000ff;">new</span><span style="color: #000000;"> Customer(name,id,family1,family2,floor,room_num,day);
</span><span style="color: #008080;">151</span> 
<span style="color: #008080;">152</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">已订房间:</span><span style="color: #800000;">"</span> &lt;&lt; live &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">153</span> 
<span style="color: #008080;">154</span>     <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>; i&lt;<span style="color: #800080;">30</span>; i++<span style="color: #000000;">)
</span><span style="color: #008080;">155</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">156</span>         <span style="color: #0000ff;">if</span>(room[i]-&gt;room_num ==<span style="color: #000000;"> room_num)
</span><span style="color: #008080;">157</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">158</span>             room[i]-&gt;use = <span style="color: #800080;">1</span><span style="color: #000000;">;
</span><span style="color: #008080;">159</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">160</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">161</span> 
<span style="color: #008080;">162</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">开房成功,欢迎您的入住，祝你生活愉快!</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">163</span> <span style="color: #000000;">    getch();
</span><span style="color: #008080;">164</span> <span style="color: #000000;">}
</span><span style="color: #008080;">165</span> 
<span style="color: #008080;">166</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 使用情况</span>
<span style="color: #008080;">167</span> <span style="color: #0000ff;">int</span> Manage::used(<span style="color: #0000ff;">short</span><span style="color: #000000;"> room_num)
</span><span style="color: #008080;">168</span> <span style="color: #000000;">{
</span><span style="color: #008080;">169</span>     <span style="color: #0000ff;">short</span> num =<span style="color: #000000;"> room_num;
</span><span style="color: #008080;">170</span>     <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>; i&lt;<span style="color: #800080;">30</span>; i++<span style="color: #000000;">)
</span><span style="color: #008080;">171</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">172</span>         <span style="color: #0000ff;">if</span>(num == room[i]-&gt;<span style="color: #000000;">room_num)
</span><span style="color: #008080;">173</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">174</span>             <span style="color: #0000ff;">if</span>(room[i]-&gt;use == <span style="color: #800080;">1</span><span style="color: #000000;">)
</span><span style="color: #008080;">175</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">176</span>                 <span style="color: #0000ff;">return</span> <span style="color: #800080;">1</span><span style="color: #000000;">;
</span><span style="color: #008080;">177</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">178</span>             <span style="color: #0000ff;">else</span>
<span style="color: #008080;">179</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">180</span>                 <span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">181</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">182</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">183</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">184</span>     <span style="color: #0000ff;">return</span> -<span style="color: #800080;">1</span><span style="color: #000000;">;
</span><span style="color: #008080;">185</span> <span style="color: #000000;">}
</span><span style="color: #008080;">186</span> 
<span style="color: #008080;">187</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 显示顾客</span>
<span style="color: #008080;">188</span> <span style="color: #0000ff;">void</span> Manage::show_cust(<span style="color: #0000ff;">void</span><span style="color: #000000;">)
</span><span style="color: #008080;">189</span> <span style="color: #000000;">{
</span><span style="color: #008080;">190</span>     <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>; i&lt;<span style="color: #800080;">30</span>; i++<span style="color: #000000;">)
</span><span style="color: #008080;">191</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">192</span>         <span style="color: #0000ff;">if</span>(cust[i]-&gt;name == <span style="color: #800000;">"</span><span style="color: #800000;">0</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;">193</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">194</span>             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">195</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">196</span>         <span style="color: #0000ff;">else</span>
<span style="color: #008080;">197</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">198</span>             cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">姓名:</span><span style="color: #800000;">"</span> &lt;&lt; cust[i]-&gt;name &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">,</span><span style="color: #800000;">"</span> &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">房间:</span><span style="color: #800000;">"</span> &lt;&lt; cust[i]-&gt;room_num &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">,</span><span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;">199</span> 
<span style="color: #008080;">200</span>             <span style="color: #0000ff;">string</span><span style="color: #000000;"> f1,f2;
</span><span style="color: #008080;">201</span>             f1 = cust[i]-&gt;<span style="color: #000000;">family1;
</span><span style="color: #008080;">202</span>             f2 = cust[i]-&gt;<span style="color: #000000;">family2;
</span><span style="color: #008080;">203</span>             cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">家属1:</span><span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;">204</span>             <span style="color: #0000ff;">if</span>(f1 == <span style="color: #800000;">"</span><span style="color: #800000;">0</span><span style="color: #800000;">"</span>) cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;"> ,</span><span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;">205</span>             <span style="color: #0000ff;">else</span> cout &lt;&lt; f1 &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">,</span><span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;">206</span>             cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">家属2:</span><span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;">207</span>             <span style="color: #0000ff;">if</span>(f2 == <span style="color: #800000;">"</span><span style="color: #800000;">0</span><span style="color: #800000;">"</span>) cout &lt;&lt; <span style="color: #800000;">"</span> <span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;">208</span>             <span style="color: #0000ff;">else</span> cout &lt;&lt;<span style="color: #000000;"> f2;
</span><span style="color: #008080;">209</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">210</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">211</span> <span style="color: #000000;">}
</span><span style="color: #008080;">212</span> 
<span style="color: #008080;">213</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 房间价格</span>
<span style="color: #008080;">214</span> <span style="color: #0000ff;">int</span> Manage::room_price(<span style="color: #0000ff;">short</span><span style="color: #000000;"> room_num)
</span><span style="color: #008080;">215</span> <span style="color: #000000;">{
</span><span style="color: #008080;">216</span>     <span style="color: #0000ff;">short</span> num =<span style="color: #000000;"> room_num;
</span><span style="color: #008080;">217</span>     <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>; i&lt;<span style="color: #800080;">30</span>; i++<span style="color: #000000;">)
</span><span style="color: #008080;">218</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">219</span>         <span style="color: #0000ff;">if</span>(room[i]-&gt;room_num ==<span style="color: #000000;"> num)
</span><span style="color: #008080;">220</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">221</span>             <span style="color: #0000ff;">return</span> room[i]-&gt;<span style="color: #000000;">price;
</span><span style="color: #008080;">222</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">223</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">224</span>     <span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">225</span> <span style="color: #000000;">}
</span><span style="color: #008080;">226</span> 
<span style="color: #008080;">227</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 续费</span>
<span style="color: #008080;">228</span> <span style="color: #0000ff;">void</span> Manage::renew_room(<span style="color: #0000ff;">void</span><span style="color: #000000;">)
</span><span style="color: #008080;">229</span> <span style="color: #000000;">{
</span><span style="color: #008080;">230</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">请输入你的房间号:</span><span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;">231</span>     <span style="color: #0000ff;">short</span><span style="color: #000000;"> room_num;
</span><span style="color: #008080;">232</span>     cin &gt;&gt;<span style="color: #000000;"> room_num;
</span><span style="color: #008080;">233</span>     <span style="color: #0000ff;">int</span> flag =<span style="color: #000000;"> used(room_num);
</span><span style="color: #008080;">234</span>     <span style="color: #0000ff;">if</span>(flag == -<span style="color: #800080;">1</span> || flag == <span style="color: #800080;">0</span><span style="color: #000000;">)
</span><span style="color: #008080;">235</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">236</span>         cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">您输入的房间号有误</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">237</span> <span style="color: #000000;">        getch();
</span><span style="color: #008080;">238</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;">;
</span><span style="color: #008080;">239</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">240</span> 
<span style="color: #008080;">241</span>     <span style="color: #0000ff;">int</span> index =<span style="color: #000000;"> cust_index(room_num);
</span><span style="color: #008080;">242</span> 
<span style="color: #008080;">243</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">您的房间剩余:</span><span style="color: #800000;">"</span> &lt;&lt; cust[index]-&gt;day &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">天</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">244</span> 
<span style="color: #008080;">245</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">请输入你要续的天数：</span><span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;">246</span>     <span style="color: #0000ff;">short</span><span style="color: #000000;"> day;
</span><span style="color: #008080;">247</span>     cin &gt;&gt;<span style="color: #000000;"> day;
</span><span style="color: #008080;">248</span>     <span style="color: #0000ff;">short</span> pay = day*<span style="color: #000000;">room_price(room_num);
</span><span style="color: #008080;">249</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">请支付</span><span style="color: #800000;">"</span> &lt;&lt; pay &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">元</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">250</span>     <span style="color: #0000ff;">short</span> price = <span style="color: #800080;">0</span>,change = <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">251</span>     cin &gt;&gt;<span style="color: #000000;"> price;
</span><span style="color: #008080;">252</span>     change = price-<span style="color: #000000;">pay;
</span><span style="color: #008080;">253</span>     <span style="color: #0000ff;">if</span>(change &lt; <span style="color: #800080;">0</span><span style="color: #000000;">)
</span><span style="color: #008080;">254</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">255</span>         cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">余额不足，请充值</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">256</span> <span style="color: #000000;">        getch();
</span><span style="color: #008080;">257</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;">;
</span><span style="color: #008080;">258</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">259</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">收您</span><span style="color: #800000;">"</span> &lt;&lt; price &lt;&lt;<span style="color: #800000;">"</span><span style="color: #800000;">元，找您</span><span style="color: #800000;">"</span> &lt;&lt; change &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">元</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">260</span> 
<span style="color: #008080;">261</span>     <span style="color: #0000ff;">string</span> rename = cust[index]-&gt;name,reid = cust[index]-&gt;<span style="color: #000000;">id;
</span><span style="color: #008080;">262</span>     <span style="color: #0000ff;">string</span> refamily1=cust[index]-&gt;family1,refamily2=cust[index]-&gt;<span style="color: #000000;">family2;
</span><span style="color: #008080;">263</span>     <span style="color: #0000ff;">short</span> refloor = cust[index]-&gt;floor,reday = cust[index]-&gt;day+<span style="color: #000000;">day;
</span><span style="color: #008080;">264</span>     cust[index] = <span style="color: #0000ff;">new</span><span style="color: #000000;"> Customer(rename,reid,refamily1,refamily2,refloor,room_num,reday);
</span><span style="color: #008080;">265</span>     
<span style="color: #008080;">266</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">续费成功，房间的使用时间为:</span><span style="color: #800000;">"</span> &lt;&lt; reday &lt;&lt;<span style="color: #800000;">"</span><span style="color: #800000;">天</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">267</span> <span style="color: #000000;">    getch();
</span><span style="color: #008080;">268</span> 
<span style="color: #008080;">269</span> <span style="color: #000000;">}
</span><span style="color: #008080;">270</span> 
<span style="color: #008080;">271</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 退房</span>
<span style="color: #008080;">272</span> <span style="color: #0000ff;">void</span> Manage::cancel_room(<span style="color: #0000ff;">void</span><span style="color: #000000;">)
</span><span style="color: #008080;">273</span> <span style="color: #000000;">{
</span><span style="color: #008080;">274</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">请输入您的房间号:</span><span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;">275</span>     <span style="color: #0000ff;">short</span><span style="color: #000000;"> room_num;
</span><span style="color: #008080;">276</span>     <span style="color: #0000ff;">string</span><span style="color: #000000;"> name;
</span><span style="color: #008080;">277</span>     cin &gt;&gt;<span style="color: #000000;"> room_num;
</span><span style="color: #008080;">278</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">请输入您的姓名:</span><span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;">279</span>     cin &gt;&gt;<span style="color: #000000;"> name;
</span><span style="color: #008080;">280</span>     <span style="color: #0000ff;">int</span> flag =<span style="color: #000000;"> used(room_num);
</span><span style="color: #008080;">281</span>     <span style="color: #0000ff;">if</span>(flag == <span style="color: #800080;">0</span> || flag == -<span style="color: #800080;">1</span><span style="color: #000000;">)
</span><span style="color: #008080;">282</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">283</span>         cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">您输入的房间有误。</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">284</span> <span style="color: #000000;">        getch();
</span><span style="color: #008080;">285</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;">;
</span><span style="color: #008080;">286</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">287</span>     <span style="color: #0000ff;">else</span>
<span style="color: #008080;">288</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">289</span>         <span style="color: #0000ff;">short</span> refloor = <span style="color: #800080;">0</span>,retype = <span style="color: #800080;">0</span>,reprice = <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">290</span> 
<span style="color: #008080;">291</span>         <span style="color: #0000ff;">int</span> i =<span style="color: #000000;"> cust_index(room_num);
</span><span style="color: #008080;">292</span>         <span style="color: #0000ff;">if</span>(i != -<span style="color: #800080;">1</span><span style="color: #000000;">)
</span><span style="color: #008080;">293</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">294</span>             <span style="color: #0000ff;">if</span>(cust[i]-&gt;name ==<span style="color: #000000;"> name)
</span><span style="color: #008080;">295</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">296</span>                 <span style="color: #0000ff;">short</span> price = room[room_index(room_num)]-&gt;<span style="color: #000000;">price;
</span><span style="color: #008080;">297</span>                 <span style="color: #0000ff;">short</span> change = cust[i]-&gt;day*<span style="color: #000000;">price;
</span><span style="color: #008080;">298</span>                 cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">退还您</span><span style="color: #800000;">"</span> &lt;&lt; change &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">元</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">299</span> 
<span style="color: #008080;">300</span>                 cust[i] = <span style="color: #0000ff;">new</span> Customer(<span style="color: #800000;">"</span><span style="color: #800000;">0</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">0</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">0</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">0</span><span style="color: #800000;">"</span>,<span style="color: #800080;">0</span>,<span style="color: #800080;">0</span>,<span style="color: #800080;">0</span><span style="color: #000000;">);
</span><span style="color: #008080;">301</span>                 <span style="color: #0000ff;">int</span> j =<span style="color: #000000;"> room_index(room_num);
</span><span style="color: #008080;">302</span>                 refloor = room[j]-&gt;<span style="color: #000000;">floor;
</span><span style="color: #008080;">303</span>                 retype = room[j]-&gt;<span style="color: #000000;">room_type;
</span><span style="color: #008080;">304</span>                 reprice = room[j]-&gt;<span style="color: #000000;">price;
</span><span style="color: #008080;">305</span>                 room[j] = <span style="color: #0000ff;">new</span> Room(refloor,room_num,retype,reprice,<span style="color: #800080;">0</span><span style="color: #000000;">);
</span><span style="color: #008080;">306</span> 
<span style="color: #008080;">307</span>                 cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">退房成功，感谢您的光顾，欢迎下次光临！</span><span style="color: #800000;">"</span>&lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">308</span>                 live--<span style="color: #000000;">;
</span><span style="color: #008080;">309</span> <span style="color: #000000;">                getch();
</span><span style="color: #008080;">310</span>                 <span style="color: #0000ff;">return</span><span style="color: #000000;">;
</span><span style="color: #008080;">311</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">312</span>             <span style="color: #0000ff;">else</span>
<span style="color: #008080;">313</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">314</span>                 <span style="color: #008000;">//</span><span style="color: #008000;">cout &lt;&lt; cust[i]-&gt;name &lt;&lt; endl;</span>
<span style="color: #008080;">315</span>                 cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">您输入的相关信息有误</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">316</span> <span style="color: #000000;">                getch();                
</span><span style="color: #008080;">317</span>                 <span style="color: #0000ff;">return</span><span style="color: #000000;">;
</span><span style="color: #008080;">318</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">319</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">320</span>         <span style="color: #0000ff;">else</span>
<span style="color: #008080;">321</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">322</span>             cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">您输入的信息有误</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">323</span> <span style="color: #000000;">            getch();
</span><span style="color: #008080;">324</span>             <span style="color: #0000ff;">return</span><span style="color: #000000;">;
</span><span style="color: #008080;">325</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">326</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">327</span> <span style="color: #000000;">}
</span><span style="color: #008080;">328</span> 
<span style="color: #008080;">329</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 顾客初始化</span>
<span style="color: #008080;">330</span> <span style="color: #0000ff;">void</span> Manage::c_init(<span style="color: #0000ff;">void</span><span style="color: #000000;">)
</span><span style="color: #008080;">331</span> <span style="color: #000000;">{
</span><span style="color: #008080;">332</span>     fstream ci(<span style="color: #800000;">"</span><span style="color: #800000;">data/cust.txt</span><span style="color: #800000;">"</span>,ios::<span style="color: #0000ff;">in</span><span style="color: #000000;">);
</span><span style="color: #008080;">333</span>     <span style="color: #0000ff;">if</span>(!<span style="color: #000000;">ci.good())
</span><span style="color: #008080;">334</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">335</span>         cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">cust.txt数据加载异常</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">336</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">337</span> 
<span style="color: #008080;">338</span>     <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>; i&lt;<span style="color: #800080;">30</span>; i++<span style="color: #000000;">)
</span><span style="color: #008080;">339</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">340</span>         <span style="color: #0000ff;">string</span><span style="color: #000000;"> name,id,family1,family2;
</span><span style="color: #008080;">341</span>         <span style="color: #0000ff;">short</span><span style="color: #000000;"> floor,room_num,day;
</span><span style="color: #008080;">342</span>         ci &gt;&gt; name &gt;&gt; id &gt;&gt; family1 &gt;&gt;<span style="color: #000000;"> family2;
</span><span style="color: #008080;">343</span>         ci &gt;&gt; floor &gt;&gt; room_num &gt;&gt;<span style="color: #000000;"> day;
</span><span style="color: #008080;">344</span>         cust[i] = <span style="color: #0000ff;">new</span><span style="color: #000000;"> Customer(name,id,family1,family2,floor,room_num,day);
</span><span style="color: #008080;">345</span>         <span style="color: #0000ff;">if</span>(name != <span style="color: #800000;">"</span><span style="color: #800000;">0</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;">346</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">347</span>             live++<span style="color: #000000;">;
</span><span style="color: #008080;">348</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">349</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">350</span> <span style="color: #000000;">}
</span><span style="color: #008080;">351</span> 
<span style="color: #008080;">352</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 房间初始化</span>
<span style="color: #008080;">353</span> <span style="color: #0000ff;">void</span> Manage::r_init(<span style="color: #0000ff;">void</span><span style="color: #000000;">)
</span><span style="color: #008080;">354</span> <span style="color: #000000;">{
</span><span style="color: #008080;">355</span>     live = <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">356</span>     fstream ri(<span style="color: #800000;">"</span><span style="color: #800000;">data/room.txt</span><span style="color: #800000;">"</span>,ios::<span style="color: #0000ff;">in</span><span style="color: #000000;">);
</span><span style="color: #008080;">357</span>     <span style="color: #0000ff;">if</span>(!<span style="color: #000000;">ri.good())
</span><span style="color: #008080;">358</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">359</span>         cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">room.txt数据加载异常</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">360</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">361</span> 
<span style="color: #008080;">362</span>     <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>; i&lt;<span style="color: #800080;">30</span>; i++<span style="color: #000000;">)
</span><span style="color: #008080;">363</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">364</span>         <span style="color: #0000ff;">short</span><span style="color: #000000;"> floor,room_num,room_type,price,use;
</span><span style="color: #008080;">365</span>         ri &gt;&gt; floor &gt;&gt;<span style="color: #000000;"> room_num;
</span><span style="color: #008080;">366</span>         ri &gt;&gt; room_type &gt;&gt; price &gt;&gt;<span style="color: #000000;"> use;
</span><span style="color: #008080;">367</span>         room[i] = <span style="color: #0000ff;">new</span><span style="color: #000000;"> Room(floor,room_num,room_type,price,use);        
</span><span style="color: #008080;">368</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">369</span> <span style="color: #000000;">}
</span><span style="color: #008080;">370</span> 
<span style="color: #008080;">371</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 数据保存</span>
<span style="color: #008080;">372</span> <span style="color: #0000ff;">void</span> Manage::save_data(<span style="color: #0000ff;">void</span><span style="color: #000000;">)
</span><span style="color: #008080;">373</span> <span style="color: #000000;">{
</span><span style="color: #008080;">374</span>     fstream co(<span style="color: #800000;">"</span><span style="color: #800000;">data/cust.txt</span><span style="color: #800000;">"</span>,ios::<span style="color: #0000ff;">out</span><span style="color: #000000;">);
</span><span style="color: #008080;">375</span>     fstream ro(<span style="color: #800000;">"</span><span style="color: #800000;">data/room.txt</span><span style="color: #800000;">"</span>,ios::<span style="color: #0000ff;">out</span><span style="color: #000000;">);
</span><span style="color: #008080;">376</span> 
<span style="color: #008080;">377</span>     <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>; i&lt;<span style="color: #800080;">30</span>; i++<span style="color: #000000;">)
</span><span style="color: #008080;">378</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">379</span>         co &lt;&lt; cust[i]-&gt;name &lt;&lt; <span style="color: #800000;">"</span> <span style="color: #800000;">"</span> &lt;&lt; cust[i]-&gt;id &lt;&lt; <span style="color: #800000;">"</span> <span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;">380</span>         co &lt;&lt; cust[i]-&gt;family1 &lt;&lt; <span style="color: #800000;">"</span> <span style="color: #800000;">"</span> &lt;&lt; cust[i]-&gt;family2 &lt;&lt; <span style="color: #800000;">"</span> <span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;">381</span>         co &lt;&lt; cust[i]-&gt;floor &lt;&lt; <span style="color: #800000;">"</span> <span style="color: #800000;">"</span> &lt;&lt; cust[i]-&gt;room_num &lt;&lt; <span style="color: #800000;">"</span> <span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;">382</span>         co &lt;&lt; cust[i]-&gt;day &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">\n</span><span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;">383</span> 
<span style="color: #008080;">384</span>         ro &lt;&lt; room[i]-&gt;floor &lt;&lt; <span style="color: #800000;">"</span> <span style="color: #800000;">"</span> &lt;&lt; room[i]-&gt;room_num &lt;&lt; <span style="color: #800000;">"</span> <span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;">385</span>         ro &lt;&lt; room[i]-&gt;room_type &lt;&lt; <span style="color: #800000;">"</span> <span style="color: #800000;">"</span> &lt;&lt; room[i]-&gt;price &lt;&lt; <span style="color: #800000;">"</span> <span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;">386</span>         ro &lt;&lt; room[i]-&gt;use &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">\n</span><span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;">387</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">388</span> <span style="color: #000000;">}
</span><span style="color: #008080;">389</span> 
<span style="color: #008080;">390</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 菜单</span>
<span style="color: #008080;">391</span> <span style="color: #0000ff;">void</span> Manage::menu(<span style="color: #0000ff;">void</span><span style="color: #000000;">)
</span><span style="color: #008080;">392</span> <span style="color: #000000;">{
</span><span style="color: #008080;">393</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">***欢迎使用酒店管理系统***</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">394</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">   1、查询房间</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">395</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">   2、开房</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">396</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">   3、续费</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">397</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">   4、退房</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">398</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">   0、退出系统</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">399</span>     cout &lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">-----------------------</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> endl;
</span><span style="color: #008080;">400</span> }</pre>
</div>
<p>&nbsp;</p>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span></div>
<p>main.cpp</p>
<div class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="3">
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> #include &lt;iostream&gt;
<span style="color: #008080;"> 2</span> #include &lt;fstream&gt;
<span style="color: #008080;"> 3</span> #include &lt;stdlib.h&gt;
<span style="color: #008080;"> 4</span> #include &lt;termio.h&gt;
<span style="color: #008080;"> 5</span> #include <span style="color: #800000;">"</span><span style="color: #800000;">class.h</span><span style="color: #800000;">"</span>
<span style="color: #008080;"> 6</span> #include <span style="color: #800000;">"</span><span style="color: #800000;">tools.h</span><span style="color: #800000;">"</span>
<span style="color: #008080;"> 7</span> 
<span style="color: #008080;"> 8</span> <span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #008080;"> 9</span> 
<span style="color: #008080;">10</span> <span style="color: #000000;">Manage admin;
</span><span style="color: #008080;">11</span> 
<span style="color: #008080;">12</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 主函数</span>
<span style="color: #008080;">13</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
</span><span style="color: #008080;">14</span> <span style="color: #000000;">{
</span><span style="color: #008080;">15</span> <span style="color: #000000;">    admin.c_init();
</span><span style="color: #008080;">16</span> <span style="color: #000000;">    admin.r_init();
</span><span style="color: #008080;">17</span>     <span style="color: #0000ff;">while</span>(<span style="color: #800080;">1</span><span style="color: #000000;">)
</span><span style="color: #008080;">18</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">19</span>         system(<span style="color: #800000;">"</span><span style="color: #800000;">clear</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">20</span> <span style="color: #000000;">        admin.menu();
</span><span style="color: #008080;">21</span>         <span style="color: #0000ff;">switch</span>(get_cmd(<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">4</span><span style="color: #800000;">'</span><span style="color: #000000;">))
</span><span style="color: #008080;">22</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">23</span>             <span style="color: #0000ff;">case</span> <span style="color: #800000;">'</span><span style="color: #800000;">1</span><span style="color: #800000;">'</span>: admin.find_room(); <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">24</span>             <span style="color: #0000ff;">case</span> <span style="color: #800000;">'</span><span style="color: #800000;">2</span><span style="color: #800000;">'</span>: admin.get_room(); <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">25</span>             <span style="color: #0000ff;">case</span> <span style="color: #800000;">'</span><span style="color: #800000;">3</span><span style="color: #800000;">'</span>: admin.renew_room(); <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">26</span>             <span style="color: #0000ff;">case</span> <span style="color: #800000;">'</span><span style="color: #800000;">4</span><span style="color: #800000;">'</span>: admin.cancel_room(); <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">27</span>             <span style="color: #0000ff;">case</span> <span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>: admin.save_data(); <span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">28</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">29</span> <span style="color: #000000;">        getch();
</span><span style="color: #008080;">30</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">31</span>     
<span style="color: #008080;">32</span> }</pre>
</div>
<p>&nbsp;</p>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span></div>
<p>tools.cpp</p>
<div class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="2">
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> #include <span style="color: #800000;">"</span><span style="color: #800000;">tools.h</span><span style="color: #800000;">"</span>
<span style="color: #008080;"> 2</span> #include &lt;<span style="color: #0000ff;">string</span>.h&gt;
<span style="color: #008080;"> 3</span> #include &lt;getch.h&gt;
<span style="color: #008080;"> 4</span> #include &lt;stdbool.h&gt;
<span style="color: #008080;"> 5</span> 
<span style="color: #008080;"> 6</span> <span style="color: #0000ff;">void</span> clear_stdin(<span style="color: #0000ff;">void</span><span style="color: #000000;">)
</span><span style="color: #008080;"> 7</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 8</span>     stdin-&gt;_IO_read_ptr = stdin-&gt;_IO_read_end;<span style="color: #008000;">//</span><span style="color: #008000;">清理输入缓冲区</span>
<span style="color: #008080;"> 9</span> <span style="color: #000000;">}
</span><span style="color: #008080;">10</span> 
<span style="color: #008080;">11</span> <span style="color: #0000ff;">char</span> get_cmd(<span style="color: #0000ff;">char</span> start,<span style="color: #0000ff;">char</span><span style="color: #000000;"> end)
</span><span style="color: #008080;">12</span> <span style="color: #000000;">{
</span><span style="color: #008080;">13</span> <span style="color: #000000;">    clear_stdin();
</span><span style="color: #008080;">14</span> 
<span style="color: #008080;">15</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">请输入指令:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">16</span>     <span style="color: #0000ff;">while</span>(<span style="color: #0000ff;">true</span><span style="color: #000000;">)
</span><span style="color: #008080;">17</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">18</span>         <span style="color: #0000ff;">char</span> val =<span style="color: #000000;"> getch();
</span><span style="color: #008080;">19</span>         <span style="color: #0000ff;">if</span>(val &gt;= start &amp;&amp; val &lt;=<span style="color: #000000;"> end)
</span><span style="color: #008080;">20</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">21</span>             printf(<span style="color: #800000;">"</span><span style="color: #800000;">%c\n</span><span style="color: #800000;">"</span><span style="color: #000000;">,val);
</span><span style="color: #008080;">22</span>             <span style="color: #0000ff;">return</span><span style="color: #000000;"> val;
</span><span style="color: #008080;">23</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">24</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">25</span> }</pre>
</div>
<p>&nbsp;</p>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span></div>
<p>class.h</p>
<div class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="1">
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #000000;">#ifndef CLASS_H
</span><span style="color: #008080;"> 2</span> <span style="color: #0000ff;">#define</span> CLASS_H
<span style="color: #008080;"> 3</span> 
<span style="color: #008080;"> 4</span> #include &lt;iostream&gt;
<span style="color: #008080;"> 5</span> #include &lt;<span style="color: #0000ff;">string</span>.h&gt;
<span style="color: #008080;"> 6</span> 
<span style="color: #008080;"> 7</span> <span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #008080;"> 8</span> 
<span style="color: #008080;"> 9</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Customer
</span><span style="color: #008080;">10</span> <span style="color: #000000;">{
</span><span style="color: #008080;">11</span> <span style="color: #0000ff;">public</span><span style="color: #000000;">:
</span><span style="color: #008080;">12</span>     <span style="color: #0000ff;">string</span> name; <span style="color: #008000;">//</span><span style="color: #008000;">姓名</span>
<span style="color: #008080;">13</span>     <span style="color: #0000ff;">string</span> id; <span style="color: #008000;">//</span><span style="color: #008000;">身份证</span>
<span style="color: #008080;">14</span>     <span style="color: #0000ff;">string</span> family1; <span style="color: #008000;">//</span><span style="color: #008000;">家属1</span>
<span style="color: #008080;">15</span>     <span style="color: #0000ff;">string</span> family2; <span style="color: #008000;">//</span><span style="color: #008000;">家属2</span>
<span style="color: #008080;">16</span>     <span style="color: #0000ff;">short</span> floor; <span style="color: #008000;">//</span><span style="color: #008000;">楼层</span>
<span style="color: #008080;">17</span>     <span style="color: #0000ff;">short</span> room_num; <span style="color: #008000;">//</span><span style="color: #008000;">房间号</span>
<span style="color: #008080;">18</span>     <span style="color: #0000ff;">short</span> day; <span style="color: #008000;">//</span><span style="color: #008000;">时间</span>
<span style="color: #008080;">19</span>     Customer(<span style="color: #0000ff;">string</span> name=<span style="color: #800000;">"</span><span style="color: #800000;">0</span><span style="color: #800000;">"</span>,<span style="color: #0000ff;">string</span> id=<span style="color: #800000;">"</span><span style="color: #800000;">0</span><span style="color: #800000;">"</span>,<span style="color: #0000ff;">string</span> family1=<span style="color: #800000;">"</span><span style="color: #800000;">0</span><span style="color: #800000;">"</span>,<span style="color: #0000ff;">string</span> family2=<span style="color: #800000;">"</span><span style="color: #800000;">0</span><span style="color: #800000;">"</span>,<span style="color: #0000ff;">short</span> floor=<span style="color: #800080;">0</span>,<span style="color: #0000ff;">short</span> room_num=<span style="color: #800080;">0</span>,<span style="color: #0000ff;">short</span> day=<span style="color: #800080;">0</span><span style="color: #000000;">)
</span><span style="color: #008080;">20</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">21</span>         <span style="color: #0000ff;">this</span>-&gt;name =<span style="color: #000000;"> name;
</span><span style="color: #008080;">22</span>         <span style="color: #0000ff;">this</span>-&gt;id =<span style="color: #000000;"> id;
</span><span style="color: #008080;">23</span>         <span style="color: #0000ff;">this</span>-&gt;family1 =<span style="color: #000000;"> family1;
</span><span style="color: #008080;">24</span>         <span style="color: #0000ff;">this</span>-&gt;family2 =<span style="color: #000000;"> family2;
</span><span style="color: #008080;">25</span>         <span style="color: #0000ff;">this</span>-&gt;floor =<span style="color: #000000;"> floor;
</span><span style="color: #008080;">26</span>         <span style="color: #0000ff;">this</span>-&gt;room_num =<span style="color: #000000;"> room_num;
</span><span style="color: #008080;">27</span>         <span style="color: #0000ff;">this</span>-&gt;day =<span style="color: #000000;"> day;
</span><span style="color: #008080;">28</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">29</span> <span style="color: #000000;">};
</span><span style="color: #008080;">30</span> 
<span style="color: #008080;">31</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Room
</span><span style="color: #008080;">32</span> <span style="color: #000000;">{
</span><span style="color: #008080;">33</span> <span style="color: #0000ff;">public</span><span style="color: #000000;">:
</span><span style="color: #008080;">34</span>     <span style="color: #0000ff;">short</span> floor; <span style="color: #008000;">//</span><span style="color: #008000;">楼层</span>
<span style="color: #008080;">35</span>     <span style="color: #0000ff;">short</span> room_num; <span style="color: #008000;">//</span><span style="color: #008000;">房间号</span>
<span style="color: #008080;">36</span>     <span style="color: #0000ff;">short</span> room_type; <span style="color: #008000;">//</span><span style="color: #008000;">房间类型</span>
<span style="color: #008080;">37</span>     <span style="color: #0000ff;">short</span> price; <span style="color: #008000;">//</span><span style="color: #008000;">价格</span>
<span style="color: #008080;">38</span>     <span style="color: #0000ff;">short</span> use; <span style="color: #008000;">//</span><span style="color: #008000;">是否使用</span>
<span style="color: #008080;">39</span>     Room(<span style="color: #0000ff;">short</span> floor=<span style="color: #800080;">0</span>,<span style="color: #0000ff;">short</span> room_num=<span style="color: #800080;">0</span>,<span style="color: #0000ff;">short</span> room_type=<span style="color: #800080;">0</span>,<span style="color: #0000ff;">short</span> price=<span style="color: #800080;">0</span>,<span style="color: #0000ff;">short</span> use=<span style="color: #800080;">0</span><span style="color: #000000;">)
</span><span style="color: #008080;">40</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">41</span>         <span style="color: #0000ff;">this</span>-&gt;floor =<span style="color: #000000;"> floor;
</span><span style="color: #008080;">42</span>         <span style="color: #0000ff;">this</span>-&gt;room_num =<span style="color: #000000;"> room_num;
</span><span style="color: #008080;">43</span>         <span style="color: #0000ff;">this</span>-&gt;room_type =<span style="color: #000000;"> room_type;
</span><span style="color: #008080;">44</span>         <span style="color: #0000ff;">this</span>-&gt;price =<span style="color: #000000;"> price;
</span><span style="color: #008080;">45</span>         <span style="color: #0000ff;">this</span>-&gt;use =<span style="color: #000000;"> use;
</span><span style="color: #008080;">46</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">47</span>     <span style="color: #0000ff;">short</span> get_room_num(<span style="color: #0000ff;">void</span><span style="color: #000000;">);
</span><span style="color: #008080;">48</span> 
<span style="color: #008080;">49</span> <span style="color: #000000;">};
</span><span style="color: #008080;">50</span> 
<span style="color: #008080;">51</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Manage
</span><span style="color: #008080;">52</span> <span style="color: #000000;">{
</span><span style="color: #008080;">53</span> <span style="color: #0000ff;">public</span><span style="color: #000000;">:
</span><span style="color: #008080;">54</span>     <span style="color: #0000ff;">void</span> menu(<span style="color: #0000ff;">void</span>);    <span style="color: #008000;">//</span><span style="color: #008000;"> 菜单</span>
<span style="color: #008080;">55</span>     <span style="color: #0000ff;">void</span> find_room(<span style="color: #0000ff;">void</span>);    <span style="color: #008000;">//</span><span style="color: #008000;"> 剩余房间</span>
<span style="color: #008080;">56</span>     <span style="color: #0000ff;">void</span> get_room(<span style="color: #0000ff;">void</span>);    <span style="color: #008000;">//</span><span style="color: #008000;"> 开房</span>
<span style="color: #008080;">57</span>     <span style="color: #0000ff;">void</span> renew_room(<span style="color: #0000ff;">void</span>);    <span style="color: #008000;">//</span><span style="color: #008000;"> 续费</span>
<span style="color: #008080;">58</span>     <span style="color: #0000ff;">void</span> cancel_room(<span style="color: #0000ff;">void</span>);    <span style="color: #008000;">//</span><span style="color: #008000;"> 退房</span>
<span style="color: #008080;">59</span>     <span style="color: #0000ff;">int</span> room_index(<span style="color: #0000ff;">short</span> room_num);    <span style="color: #008000;">//</span><span style="color: #008000;"> 房间下标</span>
<span style="color: #008080;">60</span>     <span style="color: #0000ff;">int</span> cust_index(<span style="color: #0000ff;">short</span> room_num); <span style="color: #008000;">//</span><span style="color: #008000;"> 顾客下标</span>
<span style="color: #008080;">61</span>     <span style="color: #0000ff;">int</span> used(<span style="color: #0000ff;">short</span> room_num);    <span style="color: #008000;">//</span><span style="color: #008000;"> 房间使用情况</span>
<span style="color: #008080;">62</span>     <span style="color: #0000ff;">void</span> show_cust(<span style="color: #0000ff;">void</span>);    <span style="color: #008000;">//</span><span style="color: #008000;"> 显示入住顾客</span>
<span style="color: #008080;">63</span>     <span style="color: #0000ff;">int</span> room_price(<span style="color: #0000ff;">short</span> room_num);    <span style="color: #008000;">//</span><span style="color: #008000;"> 房间价格</span>
<span style="color: #008080;">64</span>     <span style="color: #0000ff;">void</span> c_init(<span style="color: #0000ff;">void</span>);    <span style="color: #008000;">//</span><span style="color: #008000;"> 顾客初始化</span>
<span style="color: #008080;">65</span>     <span style="color: #0000ff;">void</span> r_init(<span style="color: #0000ff;">void</span>);    <span style="color: #008000;">//</span><span style="color: #008000;"> 房间初始化</span>
<span style="color: #008080;">66</span>     <span style="color: #0000ff;">void</span> save_data(<span style="color: #0000ff;">void</span>);    <span style="color: #008000;">//</span><span style="color: #008000;"> 保存数据</span>
<span style="color: #008080;">67</span> <span style="color: #000000;">};
</span><span style="color: #008080;">68</span> 
<span style="color: #008080;">69</span> <span style="color: #0000ff;">#endif</span><span style="color: #008000;">//</span><span style="color: #008000;">CLASS_H</span></pre>
</div>
<p>&nbsp;</p>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span></div>
<p>tools.h</p>
<div class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="0">
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #000000;">#ifndef TOOL_H
</span><span style="color: #008080;"> 2</span> <span style="color: #0000ff;">#define</span> TOOL_H
<span style="color: #008080;"> 3</span> 
<span style="color: #008080;"> 4</span> #include &lt;stdio.h&gt;
<span style="color: #008080;"> 5</span> 
<span style="color: #008080;"> 6</span> #include <span style="color: #800000;">"</span><span style="color: #800000;">tools.h</span><span style="color: #800000;">"</span>
<span style="color: #008080;"> 7</span> #include &lt;<span style="color: #0000ff;">string</span>.h&gt;
<span style="color: #008080;"> 8</span> #include &lt;getch.h&gt;
<span style="color: #008080;"> 9</span> #include &lt;stdbool.h&gt;
<span style="color: #008080;">10</span> 
<span style="color: #008080;">11</span> <span style="color: #0000ff;">void</span> clear_stdin(<span style="color: #0000ff;">void</span><span style="color: #000000;">);
</span><span style="color: #008080;">12</span> 
<span style="color: #008080;">13</span> <span style="color: #0000ff;">char</span> get_cmd(<span style="color: #0000ff;">char</span> start,<span style="color: #0000ff;">char</span><span style="color: #000000;"> end);
</span><span style="color: #008080;">14</span> 
<span style="color: #008080;">15</span> <span style="color: #0000ff;">#endif</span><span style="color: #008000;">//</span><span style="color: #008000;">TOOL_h</span></pre>
</div>
<p>&nbsp;</p>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span></div>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>