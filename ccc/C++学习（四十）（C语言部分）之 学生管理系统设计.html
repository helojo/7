<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修C++学习（四十）（C语言部分）之 学生管理系统设计' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>C++学习（四十）（C语言部分）之 学生管理系统设计</center></div><div class='banquan'>原文出处:本文由博客园博主Yuuki丶提供。<br/>
原文连接:https://www.cnblogs.com/Yuuki-/p/10653392.html</div><br>
    <p><span style="font-family: 宋体; font-size: 18px;">涉及到的：</span><br /><span style="font-family: 宋体; font-size: 18px;">指针申请内存 结构体</span><br /><span style="font-family: 宋体; font-size: 18px;">数据结构部分</span><br /><span style="font-family: 宋体; font-size: 18px;">排序</span><br /><span style="font-family: 宋体; font-size: 18px;">文件操作</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">&nbsp;</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">vs2013</span><br /><span style="font-family: 宋体; font-size: 18px;">数据结构 排序 结构体 指针</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">功能：</span><br /><span style="font-family: 宋体; font-size: 18px;">1、人工录入信息</span><br /><span style="font-family: 宋体; font-size: 18px;">2、删除</span><br /><span style="font-family: 宋体; font-size: 18px;">3、查找</span><br /><span style="font-family: 宋体; font-size: 18px;">4、修改</span><br /><span style="font-family: 宋体; font-size: 18px;">5、全部显示</span><br /><span style="font-family: 宋体; font-size: 18px;">6、文件的读取和保存</span><br /><span style="font-family: 宋体; font-size: 18px;">7、排序</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">设计：</span><br /><span style="font-family: 宋体; font-size: 18px;">学生信息 学号 名字 年龄 成绩（结构体）</span><br /><span style="font-family: 宋体; font-size: 18px;">1、数据 用数组存放学生信息  顺序表（数组+size+len实现）  链表（结构体指针实现）</span><br /><span style="font-family: 宋体; font-size: 18px;">2、增删查改</span><br /><span style="font-family: 宋体; font-size: 18px;">3、菜单  +提示  +界面</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">注册 --&gt;注册的用户 密码 存到文件</span><br /><span style="font-family: 宋体; font-size: 18px;">登录 输入用户名和密码 到文件中找有没有匹配的记录</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">&nbsp;</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">首先在项目编写过程中，将需要的功能，函数等思路罗列清楚。</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">大致分为以下四个板块</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">//******头文件&nbsp; 宏定义 类型定义 全局变量********</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">//******************函数声明*************************</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">//*****************主函数****************************</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">//******************函数定义************************</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">&nbsp;</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">第一步，对学生信息的录入工作</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">先将学生属性用结构体存放</span></p>
<p><img src="./images/C++学习（四十）（C语言部分）之 学生管理系统设计0.png" alt="" /></p>
<p><span style="font-family: 宋体; font-size: 18px;">将所用到的函数首先在函数声明部分进行声明，之后再函数定义部分对所用到的函数进行定义，并在需要的时候进行调用。</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">最先做好的部分就是菜单和信息录入</span></p>
<p><img src="./images/C++学习（四十）（C语言部分）之 学生管理系统设计1.png" alt="" /></p>
<p><img src="./images/C++学习（四十）（C语言部分）之 学生管理系统设计2.png" alt="" /></p>
<p><img src="./images/C++学习（四十）（C语言部分）之 学生管理系统设计3.png" alt="" /></p>
<p><span style="font-family: 宋体; font-size: 18px;">测试结果如下所示：</span></p>
<p><img src="./images/C++学习（四十）（C语言部分）之 学生管理系统设计4.png" alt="" /></p>
<p><span style="font-family: 宋体; font-size: 18px;">发现输出有一点问题，之后再做修改。</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">具体测试代码笔记如下：</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">  1</span> <span style="color: #008000;">//</span><span style="color: #008000;">****************头文件  宏定义 类型定义 全局变量********************</span>
<span style="color: #008080;">  2</span> #include&lt;stdio.h&gt;
<span style="color: #008080;">  3</span> #include&lt;windows.h&gt;
<span style="color: #008080;">  4</span> #include&lt;stdlib.h&gt;
<span style="color: #008080;">  5</span> #include&lt;<span style="color: #0000ff;">string</span>.h&gt;
<span style="color: #008080;">  6</span> #include&lt;WinBase.h&gt;
<span style="color: #008080;">  7</span> 
<span style="color: #008080;">  8</span> <span style="color: #008000;">//</span><span style="color: #008000;">学生基本信息</span>
<span style="color: #008080;">  9</span> typedef <span style="color: #0000ff;">struct</span><span style="color: #000000;"> student
</span><span style="color: #008080;"> 10</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 11</span>     <span style="color: #0000ff;">char</span> stuNum[<span style="color: #800080;">12</span>];<span style="color: #008000;">//</span><span style="color: #008000;">学号</span>
<span style="color: #008080;"> 12</span>     <span style="color: #0000ff;">char</span> name[<span style="color: #800080;">20</span>];<span style="color: #008000;">//</span><span style="color: #008000;">名字</span>
<span style="color: #008080;"> 13</span>     <span style="color: #0000ff;">int</span> age;<span style="color: #008000;">//</span><span style="color: #008000;">年龄</span>
<span style="color: #008080;"> 14</span>     <span style="color: #0000ff;">float</span> grade;<span style="color: #008000;">//</span><span style="color: #008000;">成绩
</span><span style="color: #008080;"> 15</span>     <span style="color: #008000;">//</span><span style="color: #008000;">后续可以继续加</span>
<span style="color: #008080;"> 16</span> 
<span style="color: #008080;"> 17</span>     <span style="color: #0000ff;">struct</span> student*next;<span style="color: #008000;">//</span><span style="color: #008000;">如果用数组存 那么不需要指针域  链表存 需要指针域</span>
<span style="color: #008080;"> 18</span> }STU,*<span style="color: #000000;">PSTU;
</span><span style="color: #008080;"> 19</span> <span style="color: #008000;">//</span><span style="color: #008000;">****************函数声明********************</span>
<span style="color: #008080;"> 20</span> <span style="color: #0000ff;">void</span> menu();<span style="color: #008000;">//</span><span style="color: #008000;">菜单</span>
<span style="color: #008080;"> 21</span> <span style="color: #0000ff;">void</span> insertStu(PSTU head);<span style="color: #008000;">//</span><span style="color: #008000;">录入</span>
<span style="color: #008080;"> 22</span> <span style="color: #0000ff;">void</span> findMenu(PSTU head);<span style="color: #008000;">//</span><span style="color: #008000;">查询用菜单</span>
<span style="color: #008080;"> 23</span> <span style="color: #0000ff;">void</span> findByAge(PSTU head);<span style="color: #008000;">//</span><span style="color: #008000;">根据年龄查找信息
</span><span style="color: #008080;"> 24</span> <span style="color: #008000;">//</span><span style="color: #008000;">void changeStu();</span><span style="color: #008000;">//</span><span style="color: #008000;">修改</span>
<span style="color: #008080;"> 25</span> <span style="color: #0000ff;">void</span> printAll(PSTU head);<span style="color: #008000;">//</span><span style="color: #008000;">全部打印
</span><span style="color: #008080;"> 26</span> <span style="color: #008000;">//</span><span style="color: #008000;">---------------------------------主函数</span>
<span style="color: #008080;"> 27</span> <span style="color: #0000ff;">void</span> deleStuByNum(PSTU head);<span style="color: #008000;">//</span><span style="color: #008000;">通过学号删除学员信息</span>
<span style="color: #008080;"> 28</span> 
<span style="color: #008080;"> 29</span> <span style="color: #0000ff;">void</span> sortByGrade(PSTU head);<span style="color: #008000;">//</span><span style="color: #008000;">按照分数排序</span>
<span style="color: #008080;"> 30</span> 
<span style="color: #008080;"> 31</span> <span style="color: #0000ff;">void</span> swap(PSTU a, PSTU b); <span style="color: #008000;">//</span><span style="color: #008000;">交换两个节点</span>
<span style="color: #008080;"> 32</span> 
<span style="color: #008080;"> 33</span> <span style="color: #0000ff;">void</span> insertFile(PSTU head);<span style="color: #008000;">//</span><span style="color: #008000;">从文件中读取内容</span>
<span style="color: #008080;"> 34</span> 
<span style="color: #008080;"> 35</span> <span style="color: #0000ff;">void</span> setFile(PSTU head);<span style="color: #008000;">//</span><span style="color: #008000;">存档</span>
<span style="color: #008080;"> 36</span> 
<span style="color: #008080;"> 37</span> <span style="color: #0000ff;">void</span> freeNode(PSTU head);<span style="color: #008000;">//</span><span style="color: #008000;">释放所有节点</span>
<span style="color: #008080;"> 38</span> 
<span style="color: #008080;"> 39</span> <span style="color: #0000ff;">void</span> deleStuByGrade(PSTU head);<span style="color: #008000;">//</span><span style="color: #008000;">通过成绩删除
</span><span style="color: #008080;"> 40</span> 
<span style="color: #008080;"> 41</span> <span style="color: #008000;">//</span><span style="color: #008000;">******************主函数********************</span>
<span style="color: #008080;"> 42</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
</span><span style="color: #008080;"> 43</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 44</span> 
<span style="color: #008080;"> 45</span> <span style="color: #000000;">    menu();
</span><span style="color: #008080;"> 46</span>     <span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 47</span> <span style="color: #000000;">}
</span><span style="color: #008080;"> 48</span> 
<span style="color: #008080;"> 49</span> <span style="color: #008000;">//</span><span style="color: #008000;">****************函数定义********************
</span><span style="color: #008080;"> 50</span> <span style="color: #008000;">//</span><span style="color: #008000;">菜单</span>
<span style="color: #008080;"> 51</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> menu()
</span><span style="color: #008080;"> 52</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 53</span>     <span style="color: #008000;">//</span><span style="color: #008000;">链表 </span>
<span style="color: #008080;"> 54</span>     PSTU head=(PSTU)<span style="color: #0000ff;">malloc</span>(<span style="color: #0000ff;">sizeof</span>(STU));<span style="color: #008000;">//</span><span style="color: #008000;">定义头指针</span>
<span style="color: #008080;"> 55</span>     head-&gt;next = NULL;<span style="color: #008000;">//</span><span style="color: #008000;">头结点的next赋值NULL
</span><span style="color: #008080;"> 56</span>     <span style="color: #008000;">//</span><span style="color: #008000;">录入文件   打开文件并且读取文件内容  (没写完 待补充  )***************</span>
<span style="color: #008080;"> 57</span>     insertFile(head);<span style="color: #008000;">//</span><span style="color: #008000;">读取文件内容</span>
<span style="color: #008080;"> 58</span>     <span style="color: #0000ff;">while</span> (<span style="color: #800080;">1</span>)<span style="color: #008000;">//</span><span style="color: #008000;">循环一直进行</span>
<span style="color: #008080;"> 59</span> <span style="color: #000000;">    {
</span><span style="color: #008080;"> 60</span>         system(<span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏函数 用于控制台的</span>
<span style="color: #008080;"> 61</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">**************************\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 62</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">****欢迎进入学生管理系统****\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 63</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">1.录入学生信息\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 64</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">2.查询学生信息\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 65</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">3.修改学生信息\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 66</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">4.删除学生信息\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 67</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">5.打印所有学生信息\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 68</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">6.排序\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 69</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">0.退出\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 70</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">输入你的选择\n\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 71</span>         <span style="color: #0000ff;">int</span> choice = -<span style="color: #800080;">1</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 72</span>         scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span>, &amp;choice);<span style="color: #008000;">//</span><span style="color: #008000;">获取用户用户的操作</span>
<span style="color: #008080;"> 73</span>         <span style="color: #0000ff;">switch</span><span style="color: #000000;"> (choice)
</span><span style="color: #008080;"> 74</span> <span style="color: #000000;">        {
</span><span style="color: #008080;"> 75</span>         <span style="color: #0000ff;">case</span> <span style="color: #800080;">1</span>:<span style="color: #008000;">//</span><span style="color: #008000;">录入</span>
<span style="color: #008080;"> 76</span>             insertStu(head);<span style="color: #008000;">//</span><span style="color: #008000;">传递实参</span>
<span style="color: #008080;"> 77</span>             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 78</span>         <span style="color: #0000ff;">case</span> <span style="color: #800080;">2</span>:<span style="color: #008000;">//</span><span style="color: #008000;">查询</span>
<span style="color: #008080;"> 79</span>             findMenu(head);<span style="color: #008000;">//</span><span style="color: #008000;">查询</span>
<span style="color: #008080;"> 80</span>             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 81</span>         <span style="color: #0000ff;">case</span> <span style="color: #800080;">3</span>:<span style="color: #008000;">//</span><span style="color: #008000;">修改  先查询  找到位置之后 再修改
</span><span style="color: #008080;"> 82</span>             <span style="color: #008000;">//</span><span style="color: #008000;">不写</span>
<span style="color: #008080;"> 83</span>             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 84</span>         <span style="color: #0000ff;">case</span> <span style="color: #800080;">4</span>:<span style="color: #008000;">//</span><span style="color: #008000;">删除  </span><span style="color: #008000;">//</span><span style="color: #008000;">示例用学号删除学生信息</span>
<span style="color: #008080;"> 85</span> <span style="color: #000000;">            deleStuByNum(head);
</span><span style="color: #008080;"> 86</span>             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 87</span>         <span style="color: #0000ff;">case</span> <span style="color: #800080;">5</span>:<span style="color: #008000;">//</span><span style="color: #008000;">全部打印</span>
<span style="color: #008080;"> 88</span> <span style="color: #000000;">            printAll(head);
</span><span style="color: #008080;"> 89</span>             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 90</span>         <span style="color: #0000ff;">case</span> <span style="color: #800080;">6</span><span style="color: #000000;">:
</span><span style="color: #008080;"> 91</span>             <span style="color: #008000;">//</span><span style="color: #008000;">链表的排序
</span><span style="color: #008080;"> 92</span>             <span style="color: #008000;">//</span><span style="color: #008000;">默认用学号排序   换成用分数排序</span>
<span style="color: #008080;"> 93</span> <span style="color: #000000;">            sortByGrade(head);
</span><span style="color: #008080;"> 94</span>             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 95</span>         <span style="color: #0000ff;">case</span> <span style="color: #800080;">0</span>:<span style="color: #008000;">//</span><span style="color: #008000;">退出程序</span>
<span style="color: #008080;"> 96</span>             <span style="color: #008000;">/*</span>
<span style="color: #008080;"> 97</span> <span style="color: #008000;">            跳转语句   goto
</span><span style="color: #008080;"> 98</span> <span style="color: #008000;">            return //跳出这个循环
</span><span style="color: #008080;"> 99</span> <span style="color: #008000;">            break//跳出循环 跳出swicth
</span><span style="color: #008080;">100</span> <span style="color: #008000;">            continue//跳过本轮循环 进入下一轮循环
</span><span style="color: #008080;">101</span> <span style="color: #008000;">            exit(0);//函数  表示退出这个程序   stdlib.h
</span><span style="color: #008080;">102</span>             <span style="color: #008000;">*/</span>
<span style="color: #008080;">103</span>             <span style="color: #008000;">//</span><span style="color: #008000;">--------------------=========</span><span style="color: #008000;">//</span><span style="color: #008000;">跳出循环</span>
<span style="color: #008080;">104</span>             setFile(head);<span style="color: #008000;">//</span><span style="color: #008000;">退出前存档
</span><span style="color: #008080;">105</span>             <span style="color: #008000;">//</span><span style="color: #008000;">存挡  当前所有内容 写入文件(待补充,,,,,,,,,,,&gt;
</span><span style="color: #008080;">106</span>             <span style="color: #008000;">//</span><span style="color: #008000;">释放所有节点内存(待补充--------------------&gt;</span>
<span style="color: #008080;">107</span>             freeNode(head);<span style="color: #008000;">//</span><span style="color: #008000;">释放这个链表所有结点</span>
<span style="color: #008080;">108</span>             <span style="color: #0000ff;">return</span>;<span style="color: #008000;">//</span><span style="color: #008000;">跳出这个函数</span>
<span style="color: #008080;">109</span>             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">110</span>         <span style="color: #0000ff;">default</span><span style="color: #000000;">:
</span><span style="color: #008080;">111</span>             <span style="color: #008000;">//</span><span style="color: #008000;">输入错误
</span><span style="color: #008080;">112</span>             <span style="color: #008000;">//</span><span style="color: #008000;">重新输入</span>
<span style="color: #008080;">113</span>             printf(<span style="color: #800000;">"</span><span style="color: #800000;">输入错误 请重新输入\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">114</span>             Sleep(<span style="color: #800080;">2000</span>);<span style="color: #008000;">//</span><span style="color: #008000;">休息两秒  Windows.h
</span><span style="color: #008080;">115</span>             <span style="color: #008000;">//</span><span style="color: #008000;">....</span>
<span style="color: #008080;">116</span>             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">117</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">118</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">119</span> <span style="color: #000000;">}
</span><span style="color: #008080;">120</span> 
<span style="color: #008080;">121</span> <span style="color: #008000;">//</span><span style="color: #008000;">录入</span>
<span style="color: #008080;">122</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> insertStu(PSTU head)
</span><span style="color: #008080;">123</span> <span style="color: #000000;">{
</span><span style="color: #008080;">124</span>     PSTU p = (PSTU)<span style="color: #0000ff;">malloc</span>(<span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(STU));
</span><span style="color: #008080;">125</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">输入学生信息</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">126</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">输入学号</span><span style="color: #800000;">"</span>); scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span>, p-&gt;stuNum);<span style="color: #008000;">//</span><span style="color: #008000;">录入</span>
<span style="color: #008080;">127</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">输入姓名</span><span style="color: #800000;">"</span>); scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span>, p-&gt;<span style="color: #000000;">name);
</span><span style="color: #008080;">128</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">输入年龄</span><span style="color: #800000;">"</span>); scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span>, &amp;p-&gt;<span style="color: #000000;">age);
</span><span style="color: #008080;">129</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">输入成绩</span><span style="color: #800000;">"</span>); scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%f</span><span style="color: #800000;">"</span>, &amp;p-&gt;<span style="color: #000000;">grade);
</span><span style="color: #008080;">130</span>     <span style="color: #008000;">//</span><span style="color: #008000;">输入完成之后  连接
</span><span style="color: #008080;">131</span>     <span style="color: #008000;">//</span><span style="color: #008000;">p-&gt;next = head-&gt;next;
</span><span style="color: #008080;">132</span>     <span style="color: #008000;">//</span><span style="color: #008000;">head-&gt;next = p;</span><span style="color: #008000;">//</span><span style="color: #008000;">头插</span>
<span style="color: #008080;">133</span>     
<span style="color: #008080;">134</span>     <span style="color: #808080;">///</span><span style="color: #008000;">插入的时候同时进行排序</span>
<span style="color: #008080;">135</span>     PSTU temp =<span style="color: #000000;"> head;
</span><span style="color: #008080;">136</span>     <span style="color: #008000;">//</span><span style="color: #008000;">插入到合适的位置</span>
<span style="color: #008080;">137</span>     <span style="color: #0000ff;">while</span> (temp-&gt;next !=<span style="color: #000000;"> NULL)
</span><span style="color: #008080;">138</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">139</span>         <span style="color: #0000ff;">if</span> (strcmp(temp-&gt;next-&gt;stuNum, p-&gt;stuNum)&gt;<span style="color: #800080;">0</span>)<span style="color: #008000;">//</span><span style="color: #008000;">找到第一个比他大的元素</span>
<span style="color: #008080;">140</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">141</span>             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">142</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">143</span>         temp = temp-&gt;<span style="color: #000000;">next;
</span><span style="color: #008080;">144</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">145</span>     <span style="color: #008000;">//</span><span style="color: #008000;">如果temp-&gt;next==NULL  插入放在里面的话这个节点不会被插入到链表中  因此放在外面</span>
<span style="color: #008080;">146</span>     p-&gt;next = temp-&gt;<span style="color: #000000;">next;
</span><span style="color: #008080;">147</span>     temp-&gt;next = p;<span style="color: #008000;">//</span><span style="color: #008000;">插入</span>
<span style="color: #008080;">148</span>     Sleep(<span style="color: #800080;">1000</span>);<span style="color: #008000;">//</span><span style="color: #008000;">看一下效果</span>
<span style="color: #008080;">149</span> <span style="color: #000000;">}
</span><span style="color: #008080;">150</span> 
<span style="color: #008080;">151</span> <span style="color: #008000;">//</span><span style="color: #008000;">全部打印</span>
<span style="color: #008080;">152</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> printAll(PSTU head)
</span><span style="color: #008080;">153</span> <span style="color: #000000;">{
</span><span style="color: #008080;">154</span>     PSTU p = head-&gt;<span style="color: #000000;">next;
</span><span style="color: #008080;">155</span>     <span style="color: #0000ff;">while</span> (p !=<span style="color: #000000;"> NULL)
</span><span style="color: #008080;">156</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">157</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">学号%10s\t名字%10s\t年龄%5d\t分数%.2f\n</span><span style="color: #800000;">"</span>, p-&gt;stuNum, p-&gt;name, p-&gt;age, p-&gt;<span style="color: #000000;">grade);
</span><span style="color: #008080;">158</span>         p = p-&gt;<span style="color: #000000;">next;
</span><span style="color: #008080;">159</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">160</span>     <span style="color: #008000;">//</span><span style="color: #008000;">printf("学号\t\t名字\t\t年龄\t\t分数\n");</span><span style="color: #008000;">//</span><span style="color: #008000;">这个需要另外对齐
</span><span style="color: #008080;">161</span>     <span style="color: #008000;">//</span><span style="color: #008000;">while (p != NULL)
</span><span style="color: #008080;">162</span>     <span style="color: #008000;">//</span><span style="color: #008000;">{
</span><span style="color: #008080;">163</span>     <span style="color: #008000;">//</span><span style="color: #008000;">    printf("%s\t%s\t%d\t%.2f\n", p-&gt;stuNum, p-&gt;name, p-&gt;age, p-&gt;grade);
</span><span style="color: #008080;">164</span>     <span style="color: #008000;">//</span><span style="color: #008000;">    p = p-&gt;next;
</span><span style="color: #008080;">165</span>     <span style="color: #008000;">//</span><span style="color: #008000;">}</span>
<span style="color: #008080;">166</span>     Sleep(<span style="color: #800080;">2000</span>);<span style="color: #008000;">//</span><span style="color: #008000;">休息一会</span>
<span style="color: #008080;">167</span> <span style="color: #000000;">}
</span><span style="color: #008080;">168</span> 
<span style="color: #008080;">169</span> <span style="color: #008000;">//</span><span style="color: #008000;">查询用菜单</span>
<span style="color: #008080;">170</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> findMenu(PSTU head)
</span><span style="color: #008080;">171</span> <span style="color: #000000;">{
</span><span style="color: #008080;">172</span>     system(<span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">173</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">请输入你要查询的方式</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">174</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">1.按照年龄查询</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">175</span> 
<span style="color: #008080;">176</span>     <span style="color: #0000ff;">int</span><span style="color: #000000;"> choice;
</span><span style="color: #008080;">177</span>     scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span>, &amp;<span style="color: #000000;">choice);
</span><span style="color: #008080;">178</span>     <span style="color: #0000ff;">switch</span><span style="color: #000000;"> (choice)
</span><span style="color: #008080;">179</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">180</span>     <span style="color: #0000ff;">case</span> <span style="color: #800080;">1</span>:<span style="color: #008000;">//</span><span style="color: #008000;">根据年龄查询
</span><span style="color: #008080;">181</span>         <span style="color: #008000;">//</span><span style="color: #008000;">通过年龄区间 得到信息  可以写函数  也可以直接写 </span>
<span style="color: #008080;">182</span>         <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">183</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">184</span> <span style="color: #000000;">}
</span><span style="color: #008080;">185</span> 
<span style="color: #008080;">186</span> <span style="color: #008000;">//</span><span style="color: #008000;">根据年龄查找信息</span>
<span style="color: #008080;">187</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> findByAge(PSTU head)
</span><span style="color: #008080;">188</span> <span style="color: #000000;">{
</span><span style="color: #008080;">189</span>     <span style="color: #008000;">//</span><span style="color: #008000;">1.根据年龄查询
</span><span style="color: #008080;">190</span>     <span style="color: #008000;">//</span><span style="color: #008000;">2.根据区间查询</span>
<span style="color: #008080;">191</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">请输入一个年龄区间</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">192</span>     <span style="color: #0000ff;">int</span> x, y;<span style="color: #008000;">//</span><span style="color: #008000;">年龄</span>
<span style="color: #008080;">193</span>     scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%d %d</span><span style="color: #800000;">"</span>, &amp;x, &amp;<span style="color: #000000;">y);
</span><span style="color: #008080;">194</span>     <span style="color: #0000ff;">if</span> (x &gt;=<span style="color: #000000;"> y)
</span><span style="color: #008080;">195</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">196</span>         <span style="color: #0000ff;">for</span> (PSTU temp = head-&gt;next; temp != NULL; temp = temp-&gt;<span style="color: #000000;">next)
</span><span style="color: #008080;">197</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">198</span>             <span style="color: #0000ff;">if</span> (temp-&gt;age &gt;= y&amp;&amp;temp-&gt;age &lt;=<span style="color: #000000;"> x)
</span><span style="color: #008080;">199</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">200</span>                 printf(<span style="color: #800000;">"</span><span style="color: #800000;">学号%10s\t名字%10s\t年龄%5d\t分数%.2f\n</span><span style="color: #800000;">"</span>, temp-&gt;stuNum, temp-&gt;name, temp-&gt;age, temp-&gt;<span style="color: #000000;">grade);
</span><span style="color: #008080;">201</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">202</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">203</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">204</span>     <span style="color: #0000ff;">else</span><span style="color: #008000;">//</span><span style="color: #008000;">x&lt;=y</span>
<span style="color: #008080;">205</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">206</span>         <span style="color: #008000;">//</span><span style="color: #008000;">自己补齐</span>
<span style="color: #008080;">207</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">208</span>     Sleep(<span style="color: #800080;">2000</span><span style="color: #000000;">);
</span><span style="color: #008080;">209</span> <span style="color: #000000;">}
</span><span style="color: #008080;">210</span> 
<span style="color: #008080;">211</span> <span style="color: #008000;">//</span><span style="color: #008000;">通过学号删除学员信息</span>
<span style="color: #008080;">212</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> deleStuByNum(PSTU head)
</span><span style="color: #008080;">213</span> <span style="color: #000000;">{
</span><span style="color: #008080;">214</span>     PSTU p =<span style="color: #000000;"> head;
</span><span style="color: #008080;">215</span>     <span style="color: #0000ff;">char</span> stuNum[<span style="color: #800080;">20</span><span style="color: #000000;">];
</span><span style="color: #008080;">216</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">输入你要删除的学员的学号</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">217</span>     scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span><span style="color: #000000;">, stuNum);
</span><span style="color: #008080;">218</span>     <span style="color: #008000;">//</span><span style="color: #008000;">删除一个节点  要删除位置前面的结点
</span><span style="color: #008080;">219</span> 
<span style="color: #008080;">220</span>     <span style="color: #008000;">//</span><span style="color: #008000;">for (; p-&gt;next != NULL; p = p-&gt;next)
</span><span style="color: #008080;">221</span>     <span style="color: #008000;">//</span><span style="color: #008000;">{
</span><span style="color: #008080;">222</span>     <span style="color: #008000;">//</span><span style="color: #008000;">    if (strmp(p-&gt;next-&gt;stuNum, stuNum) == 0)
</span><span style="color: #008080;">223</span>     <span style="color: #008000;">//</span><span style="color: #008000;">    {
</span><span style="color: #008080;">224</span>     <span style="color: #008000;">//</span><span style="color: #008000;">        break;
</span><span style="color: #008080;">225</span>     <span style="color: #008000;">//</span><span style="color: #008000;">    }
</span><span style="color: #008080;">226</span>     <span style="color: #008000;">//</span><span style="color: #008000;">}
</span><span style="color: #008080;">227</span>     <span style="color: #008000;">//</span><span style="color: #008000;">if (p-&gt;next!=NULL)
</span><span style="color: #008080;">228</span>     <span style="color: #008000;">//</span><span style="color: #008000;">{
</span><span style="color: #008080;">229</span>     <span style="color: #008000;">//</span><span style="color: #008000;">    PSTU q = p-&gt;next;
</span><span style="color: #008080;">230</span>     <span style="color: #008000;">//</span><span style="color: #008000;">    p-&gt;next = q-&gt;next;
</span><span style="color: #008080;">231</span>     <span style="color: #008000;">//</span><span style="color: #008000;">    free(q);</span><span style="color: #008000;">//</span><span style="color: #008000;">释放结点
</span><span style="color: #008080;">232</span>     <span style="color: #008000;">//</span>    <span style="color: #008000;">//</span><span style="color: #008000;">如果多个学号相同的同学
</span><span style="color: #008080;">233</span>     <span style="color: #008000;">//</span><span style="color: #008000;">    printf("删除成功");
</span><span style="color: #008080;">234</span>     <span style="color: #008000;">//</span><span style="color: #008000;">}
</span><span style="color: #008080;">235</span>     <span style="color: #008000;">//</span><span style="color: #008000;">else
</span><span style="color: #008080;">236</span>     <span style="color: #008000;">//</span><span style="color: #008000;">{
</span><span style="color: #008080;">237</span>     <span style="color: #008000;">//</span><span style="color: #008000;">    printf("找不到对应的记录 删除失败\n");
</span><span style="color: #008080;">238</span>     <span style="color: #008000;">//</span><span style="color: #008000;">}</span>
<span style="color: #008080;">239</span> 
<span style="color: #008080;">240</span>     <span style="color: #0000ff;">for</span> (; p-&gt;next !=<span style="color: #000000;"> NULL; )
</span><span style="color: #008080;">241</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">242</span>         <span style="color: #0000ff;">if</span> (strcmp(p-&gt;next-&gt;stuNum, stuNum) == <span style="color: #800080;">0</span><span style="color: #000000;">)
</span><span style="color: #008080;">243</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">244</span>             PSTU q = p-&gt;<span style="color: #000000;">next;
</span><span style="color: #008080;">245</span>             p-&gt;next = q-&gt;<span style="color: #000000;">next;
</span><span style="color: #008080;">246</span>             <span style="color: #0000ff;">free</span>(q);<span style="color: #008000;">//</span><span style="color: #008000;">释放结点
</span><span style="color: #008080;">247</span>             <span style="color: #008000;">//</span><span style="color: #008000;">如果多个学号相同的同学
</span><span style="color: #008080;">248</span>         <span style="color: #008000;">//</span><span style="color: #008000;">printf("删除成功");</span>
<span style="color: #008080;">249</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">250</span>         <span style="color: #0000ff;">else</span>
<span style="color: #008080;">251</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">252</span>             p = p-&gt;next;<span style="color: #008000;">//</span><span style="color: #008000;">这句不直接放在外面的原因  避免少比较一个元素
</span><span style="color: #008080;">253</span>             <span style="color: #008000;">//</span><span style="color: #008000;">比如说   A-&gt;B-&gt;C-&gt;D
</span><span style="color: #008080;">254</span>             <span style="color: #008000;">//</span><span style="color: #008000;">p 刚刚开始指向A  删除B之后 A-&gt;C-&gt;D
</span><span style="color: #008080;">255</span>             <span style="color: #008000;">//</span><span style="color: #008000;">p往后移动  C就没有参与比较  所以为了避免这种情况  p=p-&gt;next放在else中</span>
<span style="color: #008080;">256</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">257</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">258</span>     Sleep(<span style="color: #800080;">2000</span><span style="color: #000000;">);
</span><span style="color: #008080;">259</span> <span style="color: #000000;">}
</span><span style="color: #008080;">260</span> 
<span style="color: #008080;">261</span> <span style="color: #008000;">//</span><span style="color: #008000;">按照分数排序</span>
<span style="color: #008080;">262</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> sortByGrade(PSTU head)
</span><span style="color: #008080;">263</span> <span style="color: #000000;">{
</span><span style="color: #008080;">264</span>     <span style="color: #008000;">//</span><span style="color: #008000;">冒泡 插入  选择 快速
</span><span style="color: #008080;">265</span>     <span style="color: #008000;">//</span><span style="color: #008000;"> 冒泡  从头到尾  如果相邻元素位置有问题  交换
</span><span style="color: #008080;">266</span>     <span style="color: #008000;">//</span><span style="color: #008000;">插入 将后面的一个结点插入到前面的有序位置中
</span><span style="color: #008080;">267</span>     <span style="color: #008000;">//</span><span style="color: #008000;">选择 交换两个节点  每次找剩下那个最小的进行交换
</span><span style="color: #008080;">268</span>     <span style="color: #008000;">//</span><span style="color: #008000;">快速  一分为2  分开进行快速排序
</span><span style="color: #008080;">269</span> 
<span style="color: #008080;">270</span>     <span style="color: #008000;">//</span><span style="color: #008000;">快速    冒泡   选择 交换
</span><span style="color: #008080;">271</span>     <span style="color: #008000;">//</span><span style="color: #008000;">做法 :找到两个位置  进行交换
</span><span style="color: #008080;">272</span>     
<span style="color: #008080;">273</span>     <span style="color: #008000;">//</span><span style="color: #008000;">链表的循环条件稍微改一下 
</span><span style="color: #008080;">274</span>     <span style="color: #008000;">//</span><span style="color: #008000;">选择排序</span>
<span style="color: #008080;">275</span>     PSTU p = head-&gt;next;<span style="color: #008000;">//</span><span style="color: #008000;">第一个节点</span>
<span style="color: #008080;">276</span> <span style="color: #000000;">    PSTU q, min;
</span><span style="color: #008080;">277</span>     <span style="color: #0000ff;">while</span> (p !=<span style="color: #000000;"> NULL)
</span><span style="color: #008080;">278</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">279</span>         min = p;<span style="color: #008000;">//</span><span style="color: #008000;">刚刚开始指向p的位置</span>
<span style="color: #008080;">280</span>         q = p-&gt;next;<span style="color: #008000;">//</span><span style="color: #008000;">从p的后面开始找</span>
<span style="color: #008080;">281</span>         <span style="color: #0000ff;">while</span> (q !=<span style="color: #000000;"> NULL)
</span><span style="color: #008080;">282</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">283</span>             <span style="color: #008000;">//</span><span style="color: #008000;">if (strcmp(q-&gt;stuNum, min-&gt;stuNum) &lt; 0)</span>
<span style="color: #008080;">284</span>             <span style="color: #0000ff;">if</span> (q-&gt;grade&lt;min-&gt;<span style="color: #000000;">grade)
</span><span style="color: #008080;">285</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">286</span>                 min = q;<span style="color: #008000;">//</span><span style="color: #008000;">标记最小</span>
<span style="color: #008080;">287</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">288</span>             q = q-&gt;<span style="color: #000000;">next;
</span><span style="color: #008080;">289</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">290</span>         <span style="color: #0000ff;">if</span> (min == NULL||min == p);<span style="color: #008000;">//</span><span style="color: #008000;">不需要交换</span>
<span style="color: #008080;">291</span>         <span style="color: #0000ff;">else</span> swap(p, min);<span style="color: #008000;">//</span><span style="color: #008000;">交换两个节点的数据</span>
<span style="color: #008080;">292</span>         p = p-&gt;<span style="color: #000000;">next;
</span><span style="color: #008080;">293</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">294</span> 
<span style="color: #008080;">295</span> 
<span style="color: #008080;">296</span> <span style="color: #000000;">}
</span><span style="color: #008080;">297</span> 
<span style="color: #008080;">298</span> <span style="color: #008000;">//</span><span style="color: #008000;">交换两个节点  写一个函数 </span>
<span style="color: #008080;">299</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> swap(PSTU a, PSTU b)
</span><span style="color: #008080;">300</span> <span style="color: #000000;">{
</span><span style="color: #008080;">301</span>     <span style="color: #0000ff;">char</span> stuNum[<span style="color: #800080;">12</span>];<span style="color: #008000;">//</span><span style="color: #008000;">学号</span>
<span style="color: #008080;">302</span>     <span style="color: #0000ff;">char</span> name[<span style="color: #800080;">20</span>];<span style="color: #008000;">//</span><span style="color: #008000;">名字</span>
<span style="color: #008080;">303</span>     <span style="color: #0000ff;">int</span> age;<span style="color: #008000;">//</span><span style="color: #008000;">年龄</span>
<span style="color: #008080;">304</span>     <span style="color: #0000ff;">float</span> grade;<span style="color: #008000;">//</span><span style="color: #008000;">成绩</span>
<span style="color: #008080;">305</span>     strcpy(stuNum, a-&gt;<span style="color: #000000;">stuNum);
</span><span style="color: #008080;">306</span>     strcpy(a-&gt;stuNum, b-&gt;<span style="color: #000000;">stuNum);
</span><span style="color: #008080;">307</span>     strcpy(b-&gt;<span style="color: #000000;">stuNum, stuNum);
</span><span style="color: #008080;">308</span>     strcpy(name, a-&gt;<span style="color: #000000;">name);
</span><span style="color: #008080;">309</span>     strcpy(a-&gt;name, b-&gt;<span style="color: #000000;">name);
</span><span style="color: #008080;">310</span>     strcpy(b-&gt;<span style="color: #000000;">name, name);
</span><span style="color: #008080;">311</span>     age = a-&gt;<span style="color: #000000;">age;
</span><span style="color: #008080;">312</span>     a-&gt;age = b-&gt;<span style="color: #000000;">age;
</span><span style="color: #008080;">313</span>     b-&gt;age =<span style="color: #000000;"> age;
</span><span style="color: #008080;">314</span>     grade = a-&gt;<span style="color: #000000;">grade;
</span><span style="color: #008080;">315</span>     a-&gt;grade = b-&gt;<span style="color: #000000;">grade;
</span><span style="color: #008080;">316</span>     b-&gt;grade =<span style="color: #000000;"> grade;
</span><span style="color: #008080;">317</span> <span style="color: #000000;">}
</span><span style="color: #008080;">318</span> 
<span style="color: #008080;">319</span> <span style="color: #008000;">//</span><span style="color: #008000;">文件操作   --&gt;数据存放文件中(保留数据)
</span><span style="color: #008080;">320</span> <span style="color: #008000;">//</span><span style="color: #008000;">读档</span>
<span style="color: #008080;">321</span> <span style="color: #0000ff;">void</span> insertFile(PSTU head)<span style="color: #008000;">//</span><span style="color: #008000;">从文件中读取内容</span>
<span style="color: #008080;">322</span> <span style="color: #000000;">{
</span><span style="color: #008080;">323</span>     FILE *fp = fopen(<span style="color: #800000;">"</span><span style="color: #800000;">student.txt</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">r</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">rwa  三选一
</span><span style="color: #008080;">324</span>     <span style="color: #008000;">//</span><span style="color: #008000;">r  文件不存在 打开失败
</span><span style="color: #008080;">325</span>     <span style="color: #008000;">//</span><span style="color: #008000;">w  文件不存在 创建文件  但是文件存在 清空文件内容</span>
<span style="color: #008080;">326</span>     <span style="color: #0000ff;">if</span> (fp ==<span style="color: #000000;"> NULL)
</span><span style="color: #008080;">327</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">328</span>         fp = fopen(<span style="color: #800000;">"</span><span style="color: #800000;">student.txt</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">w</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">创建新文件</span>
<span style="color: #008080;">329</span> <span style="color: #000000;">        fclose(fp);
</span><span style="color: #008080;">330</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;">;
</span><span style="color: #008080;">331</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">332</span>     <span style="color: #008000;">//</span><span style="color: #008000;">学号 名字 年龄 成绩</span>
<span style="color: #008080;">333</span>     STU temp, *<span style="color: #000000;">p;
</span><span style="color: #008080;">334</span>     <span style="color: #0000ff;">while</span> (<span style="color: #800080;">1</span>)<span style="color: #008000;">//</span><span style="color: #008000;">循环读取</span>
<span style="color: #008080;">335</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">336</span>         fscanf(fp, <span style="color: #800000;">"</span><span style="color: #800000;">%s %s %d %f</span><span style="color: #800000;">"</span>, temp.stuNum, temp.name, &amp;temp.age, &amp;temp.grade);<span style="color: #008000;">//</span><span style="color: #008000;">读取内容</span>
<span style="color: #008080;">337</span>         <span style="color: #0000ff;">if</span> (feof(fp)) <span style="color: #0000ff;">break</span>;<span style="color: #008000;">//</span><span style="color: #008000;">如果文件读到末尾  返回1
</span><span style="color: #008080;">338</span>         <span style="color: #008000;">//</span><span style="color: #008000;">feof  文件中有三个数据  当读完第三个数据的时候不会返回1
</span><span style="color: #008080;">339</span>         <span style="color: #008000;">//</span><span style="color: #008000;">读到第四个的时候有问题</span>
<span style="color: #008080;">340</span> 
<span style="color: #008080;">341</span>         p = (PSTU)<span style="color: #0000ff;">malloc</span>(<span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(STU));
</span><span style="color: #008080;">342</span>         *p = temp;<span style="color: #008000;">//</span><span style="color: #008000;">赋值
</span><span style="color: #008080;">343</span>         <span style="color: #008000;">//</span><span style="color: #008000;">将这个节点 连到链表上</span>
<span style="color: #008080;">344</span>         PSTU q =<span style="color: #000000;"> head;
</span><span style="color: #008080;">345</span>         <span style="color: #008000;">//</span><span style="color: #008000;">插入到合适的位置</span>
<span style="color: #008080;">346</span>         <span style="color: #0000ff;">while</span> (q-&gt;next !=<span style="color: #000000;"> NULL)
</span><span style="color: #008080;">347</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">348</span>             <span style="color: #0000ff;">if</span> (strcmp(q-&gt;next-&gt;stuNum, p-&gt;stuNum)&gt;<span style="color: #800080;">0</span>)<span style="color: #008000;">//</span><span style="color: #008000;">找到第一个比他大的元素</span>
<span style="color: #008080;">349</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">350</span>                 <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">351</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">352</span>             q = q-&gt;<span style="color: #000000;">next;
</span><span style="color: #008080;">353</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">354</span>         <span style="color: #008000;">//</span><span style="color: #008000;">如果temp-&gt;next==NULL  插入放在里面的话这个节点不会被插入到链表中  因此放在外面</span>
<span style="color: #008080;">355</span>         p-&gt;next = q-&gt;<span style="color: #000000;">next;
</span><span style="color: #008080;">356</span>         q-&gt;next = p;<span style="color: #008000;">//</span><span style="color: #008000;">插入</span>
<span style="color: #008080;">357</span> 
<span style="color: #008080;">358</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">359</span>     fclose(fp);<span style="color: #008000;">//</span><span style="color: #008000;">关闭文件</span>
<span style="color: #008080;">360</span> 
<span style="color: #008080;">361</span> <span style="color: #000000;">}
</span><span style="color: #008080;">362</span> 
<span style="color: #008080;">363</span> <span style="color: #008000;">//</span><span style="color: #008000;">存档</span>
<span style="color: #008080;">364</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> setFile(PSTU head)
</span><span style="color: #008080;">365</span> <span style="color: #000000;">{
</span><span style="color: #008080;">366</span>     <span style="color: #008000;">//</span><span style="color: #008000;">写入  w a</span>
<span style="color: #008080;">367</span>     FILE *fp = fopen(<span style="color: #800000;">"</span><span style="color: #800000;">student.txt</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">w</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清空原内容</span>
<span style="color: #008080;">368</span>     PSTU p = head-&gt;<span style="color: #000000;">next;
</span><span style="color: #008080;">369</span>     <span style="color: #0000ff;">while</span> (p !=<span style="color: #000000;"> NULL)
</span><span style="color: #008080;">370</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">371</span>         fprintf(fp,<span style="color: #800000;">"</span><span style="color: #800000;">%s %s %d %.2f\n</span><span style="color: #800000;">"</span>, p-&gt;stuNum, p-&gt;name, p-&gt;age, p-&gt;grade);<span style="color: #008000;">//</span><span style="color: #008000;">写入文件</span>
<span style="color: #008080;">372</span>         p = p-&gt;<span style="color: #000000;">next;
</span><span style="color: #008080;">373</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">374</span> <span style="color: #000000;">    fclose(fp);
</span><span style="color: #008080;">375</span> <span style="color: #000000;">}
</span><span style="color: #008080;">376</span> 
<span style="color: #008080;">377</span> <span style="color: #0000ff;">void</span> freeNode(PSTU head)<span style="color: #008000;">//</span><span style="color: #008000;">释放所有节点</span>
<span style="color: #008080;">378</span> <span style="color: #000000;">{
</span><span style="color: #008080;">379</span>     PSTU temp =<span style="color: #000000;"> head;
</span><span style="color: #008080;">380</span>     <span style="color: #0000ff;">while</span> (head !=<span style="color: #000000;"> NULL)
</span><span style="color: #008080;">381</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">382</span>         temp =<span style="color: #000000;"> head;
</span><span style="color: #008080;">383</span>         head = head-&gt;<span style="color: #000000;">next;
</span><span style="color: #008080;">384</span>         <span style="color: #0000ff;">free</span>(temp);<span style="color: #008000;">//</span><span style="color: #008000;">释放节点</span>
<span style="color: #008080;">385</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">386</span> <span style="color: #000000;">}
</span><span style="color: #008080;">387</span> 
<span style="color: #008080;">388</span> <span style="color: #008000;">//</span><span style="color: #008000;">通过成绩删除</span>
<span style="color: #008080;">389</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> deleStuByGrade(PSTU head)
</span><span style="color: #008080;">390</span> <span style="color: #000000;">{
</span><span style="color: #008080;">391</span>     PSTU arr[<span style="color: #800080;">10</span><span style="color: #000000;">];
</span><span style="color: #008080;">392</span>     <span style="color: #0000ff;">int</span> len = <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">393</span>     <span style="color: #0000ff;">int</span> size = <span style="color: #800080;">10</span><span style="color: #000000;">;
</span><span style="color: #008080;">394</span>     <span style="color: #008000;">//</span><span style="color: #008000;">准备数组</span>
<span style="color: #008080;">395</span>     <span style="color: #0000ff;">float</span><span style="color: #000000;"> Grade;
</span><span style="color: #008080;">396</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">输入的你要删除的学生的成绩</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">397</span>     scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%f</span><span style="color: #800000;">"</span>, &amp;Grade); <span style="color: #008000;">//</span><span style="color: #008000;">取地址</span>
<span style="color: #008080;">398</span>     PSTU p = head-&gt;<span style="color: #000000;">next;
</span><span style="color: #008080;">399</span>     <span style="color: #0000ff;">while</span> (p !=<span style="color: #000000;"> NULL)
</span><span style="color: #008080;">400</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">401</span>         <span style="color: #0000ff;">if</span> (p-&gt;grade &lt; Grade + <span style="color: #800080;">3</span> &amp;&amp; p-&gt;grade&gt;Grade - <span style="color: #800080;">3</span>)<span style="color: #008000;">//</span><span style="color: #008000;"> 浮点型 存的都是近似值  给一个区间</span>
<span style="color: #008080;">402</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">403</span>             <span style="color: #0000ff;">if</span> (len &lt; size) arr[len++] = p;<span style="color: #008000;">//</span><span style="color: #008000;">存放符合要求一个结点的位置</span>
<span style="color: #008080;">404</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">405</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">406</span>     <span style="color: #008000;">//</span><span style="color: #008000;">找到所有符合要求的节点</span>
<span style="color: #008080;">407</span>     <span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> i = <span style="color: #800080;">0</span>; i &lt; len; ++<span style="color: #000000;">i)
</span><span style="color: #008080;">408</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">409</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">编号%d---&gt;学号%s,姓名%s,年龄%d,成绩%.2f</span><span style="color: #800000;">"</span>,i, arr[i]-&gt;stuNum, arr[i]-&gt;name, arr[i]-&gt;age, arr[i]-&gt;<span style="color: #000000;">grade);
</span><span style="color: #008080;">410</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">411</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">输入你要删除的元素的编号</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">412</span>     <span style="color: #0000ff;">int</span><span style="color: #000000;"> choice;
</span><span style="color: #008080;">413</span>     scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span>, &amp;<span style="color: #000000;">choice);
</span><span style="color: #008080;">414</span>     <span style="color: #0000ff;">if</span> (choice &gt;= <span style="color: #800080;">0</span> &amp;&amp; choice &lt; len)<span style="color: #008000;">//</span><span style="color: #008000;">说明有删除的元素</span>
<span style="color: #008080;">415</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">416</span>         <span style="color: #008000;">//</span><span style="color: #008000;">找到结点并且删除就可以了
</span><span style="color: #008080;">417</span>         <span style="color: #008000;">//</span><span style="color: #008000;">arr[choice];</span><span style="color: #008000;">//</span><span style="color: #008000;">结点的地址
</span><span style="color: #008080;">418</span>         <span style="color: #008000;">//</span><span style="color: #008000;">找前面那个结点  然后删除</span>
<span style="color: #008080;">419</span>         PSTU temp =<span style="color: #000000;"> head;
</span><span style="color: #008080;">420</span>         <span style="color: #0000ff;">while</span> (temp!=<span style="color: #000000;">NULL)
</span><span style="color: #008080;">421</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">422</span>             <span style="color: #008000;">//</span><span style="color: #008000;">找要删除的前面那个结点的位置</span>
<span style="color: #008080;">423</span>             <span style="color: #0000ff;">if</span> (temp-&gt;next ==<span style="color: #000000;"> arr[choice])
</span><span style="color: #008080;">424</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">425</span>                 temp-&gt;next = arr[choice]-&gt;<span style="color: #000000;">next;
</span><span style="color: #008080;">426</span>                 <span style="color: #0000ff;">free</span><span style="color: #000000;">(arr[choice]);
</span><span style="color: #008080;">427</span>                 <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">428</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">429</span>             temp = temp-&gt;<span style="color: #000000;">next;
</span><span style="color: #008080;">430</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">431</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">432</span> <span style="color: #000000;">}
</span><span style="color: #008080;">433</span> <span style="color: #008000;">/*</span>
<span style="color: #008080;">434</span> <span style="color: #008000;">//指针申请内存  结构体
</span><span style="color: #008080;">435</span> <span style="color: #008000;">//数据结构部分
</span><span style="color: #008080;">436</span> <span style="color: #008000;">//排序
</span><span style="color: #008080;">437</span> 
<span style="color: #008080;">438</span> <span style="color: #008000;">time 函数
</span><span style="color: #008080;">439</span> <span style="color: #008000;">gettickcount
</span><span style="color: #008080;">440</span> 
<span style="color: #008080;">441</span> 
<span style="color: #008080;">442</span> <span style="color: #008000;">开始获取一次时间  结束的获取一次时间
</span><span style="color: #008080;">443</span> <span style="color: #008000;">时间差  ---&gt;运行时间
</span><span style="color: #008080;">444</span> 
<span style="color: #008080;">445</span> <span style="color: #008000;">//测试
</span><span style="color: #008080;">446</span> <span style="color: #008000;">DWORD time1 = GetTickCount();
</span><span style="color: #008080;">447</span> <span style="color: #008000;">Sleep(2000);
</span><span style="color: #008080;">448</span> <span style="color: #008000;">DWORD time2 = GetTickCount();
</span><span style="color: #008080;">449</span> <span style="color: #008000;">printf("%ld", time2 - time1);
</span><span style="color: #008080;">450</span> <span style="color: #008000;">getchar();
</span><span style="color: #008080;">451</span> 
<span style="color: #008080;">452</span> 
<span style="color: #008080;">453</span> 
<span style="color: #008080;">454</span> <span style="color: #008000;">1.算法优化 --&gt;排序 
</span><span style="color: #008080;">455</span> <span style="color: #008000;">2.存储优化  ---&gt;数组  单链表   双链表
</span><span style="color: #008080;">456</span> <span style="color: #008000;">    数组  省内存  中间插入 开头插入 比较麻烦  尾端插入效率高
</span><span style="color: #008080;">457</span> <span style="color: #008000;">            查找  访问从前往后 也可以从后往前
</span><span style="color: #008080;">458</span> <span style="color: #008000;">    单链表 插入很方便  内存不是很省  没有长度限制
</span><span style="color: #008080;">459</span> <span style="color: #008000;">            访问 不是很方便
</span><span style="color: #008080;">460</span> <span style="color: #008000;">    双链表  插入方便  内存不是很省  
</span><span style="color: #008080;">461</span> <span style="color: #008000;">            访问可以从前往后 也可以从后往前
</span><span style="color: #008080;">462</span> <span style="color: #008000;">3.计算  右移代替除以2 </span></pre>
</div>
<p>注：其中部分功能并没有实现，还有一些是需要补充的，等以后有时间再补充吧</p>
<p>部分成功展示：</p>
<p><img src="./images/C++学习（四十）（C语言部分）之 学生管理系统设计5.png" alt="" /></p>
<p><span style="font-family: 宋体; font-size: 18px;">2019-04-04&nbsp;&nbsp;10:19:07</span></p>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>