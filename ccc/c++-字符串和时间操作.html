<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修c++-字符串和时间操作' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>c++-字符串和时间操作</center></div><div class='banquan'>原文出处:本文由博客园博主跌倒的小黄瓜提供。<br/>
原文连接:https://www.cnblogs.com/ygjzs/p/12094000.html</div><br>
    <h2 id="c-字符串">C++ 字符串</h2>
<ul>
<li>C++ 提供了以下两种类型的字符串表示形式：
<ul>
<li>C 风格字符串</li>
<li>C++ 引入的 string 类类型</li>
</ul></li>
</ul>
<h3 id="c-风格字符串">C 风格字符串</h3>
<p>C 风格的字符串起源于 C 语言，并在 C++ 中继续得到支持。字符串实际上是使用 null 字符 '\0' 终止的一维字符数组。因此，一个以 null 结尾的字符串，包含了组成字符串的字符。</p>
<p>下面的声明和初始化创建了一个 &quot;Hello&quot; 字符串。由于在数组的末尾存储了空字符，所以字符数组的大小比单词 &quot;Hello&quot; 的字符数多一个。</p>
<p>char greeting[6] = {'H', 'e', 'l', 'l', 'o', '\0'};</p>
<p>依据数组初始化规则，您可以把上面的语句写成以下语句：</p>
<p>char greeting[] = &quot;Hello&quot;;</p>
<h3 id="cc-中定义的字符串">C/C++ 中定义的字符串</h3>
<p>不需要把 null 字符放在字符串常量的末尾。C++ 编译器会在初始化数组时，自动把 '\0' 放在字符串的末尾</p>
<p>实例</p>
<pre><code><code>#include &lt;iostream&gt;
 
using namespace std;
 
int main ()
{
   char greeting[6] = {&#39;H&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;o&#39;, &#39;\0&#39;};
 
   cout &lt;&lt; &quot;Greeting message: &quot;;
   cout &lt;&lt; greeting &lt;&lt; endl;
 
   return 0;
}
</code></pre>
<p>当上面的代码被编译和执行时，它会产生下列结果：</p>
<p><code>Greeting message: Hello</code></p>
<p>C++ 中有大量的函数用来操作以 null 结尾的字符串：</p>
<p>strcpy(s1, s2);----复制字符串 s2 到字符串 s1。</p>
<p>strcat(s1, s2);----连接字符串 s2 到字符串 s1 的末尾。</p>
<p>strlen(s1);----返回字符串 s1 的长度。</p>
<p>strcmp(s1, s2);----如果 s1 和 s2 是相同的，则返回 0；如果 s1&lt;s2 则返回值小于 0；如果 s1&gt;s2 则返回值大于 0。</p>
<p>strchr(s1, ch);----返回一个指针，指向字符串 s1 中字符 ch 的第一次出现的位置。</p>
<p>strstr(s1, s2);----返回一个指针，指向字符串 s1 中字符串 s2 的第一次出现的位置。</p>
<h3 id="c-中的-string-类">C++ 中的 String 类</h3>
<p>C++ 标准库提供了 string 类类型，支持上述所有的操作，另外还增加了其他更多的功能。我们将学习 C++ 标准库中的这个类，现在让我们先来看看下面这个实例：</p>
<p>现在您可能还无法透彻地理解这个实例，因为到目前为止我们还没有讨论类和对象。所以现在您可以只是粗略地看下这个实例，等理解了面向对象的概念之后再回头来理解这个实例。</p>
<p>实例</p>
<pre><code><code>#include &lt;iostream&gt;
#include &lt;string&gt;
 
using namespace std;
 
int main ()
{
   string str1 = &quot;Hello&quot;;
   string str2 = &quot;World&quot;;
   string str3;
   int  len ;
 
   // 复制 str1 到 str3
   str3 = str1;
   cout &lt;&lt; &quot;str3 : &quot; &lt;&lt; str3 &lt;&lt; endl;
 
   // 连接 str1 和 str2
   str3 = str1 + str2;
   cout &lt;&lt; &quot;str1 + str2 : &quot; &lt;&lt; str3 &lt;&lt; endl;
 
   // 连接后，str3 的总长度
   len = str3.size();
   cout &lt;&lt; &quot;str3.size() :  &quot; &lt;&lt; len &lt;&lt; endl;
 
   return 0;
}</code></pre>
<p>当上面的代码被编译和执行时，它会产生下列结果：</p>
<pre><code><code>str3 : Hello
str1 + str2 : HelloWorld
str3.size() :  10</code></pre>
<h2 id="学习日期函数">学习日期函数</h2>
<p>C++ 标准库没有提供所谓的日期类型。C++ 继承了 C 语言用于日期和时间操作的结构和函数。为了使用日期和时间相关的函数和结构，需要在 C++ 程序中引用 <ctime> 头文件。</p>
<p>有四个与时间相关的类型：clock_t、time_t、size_t 和 tm。类型 clock_t、size_t 和 time_t 能够把系统时间和日期表示为某种整数。</p>
<p>结构类型 tm 把日期和时间以 C 结构的形式保存，tm 结构的定义如下：</p>
<pre><code><code>struct tm {
  int tm_sec;   // 秒，正常范围从 0 到 59，但允许至 61
  int tm_min;   // 分，范围从 0 到 59
  int tm_hour;  // 小时，范围从 0 到 23
  int tm_mday;  // 一月中的第几天，范围从 1 到 31
  int tm_mon;   // 月，范围从 0 到 11
  int tm_year;  // 自 1900 年起的年数
  int tm_wday;  // 一周中的第几天，范围从 0 到 6，从星期日算起
  int tm_yday;  // 一年中的第几天，范围从 0 到 365，从 1 月 1 日算起
  int tm_isdst; // 夏令时
}
</code></pre>
<h3 id="当前日期和时间">当前日期和时间</h3>
<p>下面的实例获取当前系统的日期和时间，包括本地时间和协调世界时（UTC）。<br />
实例</p>
<pre><code><code>#include &lt;iostream&gt;
#include &lt;ctime&gt;
 
using namespace std;
 
int main( )
{
   // 基于当前系统的当前日期/时间
   time_t now = time(0);
   
   // 把 now 转换为字符串形式
   char* dt = ctime(&amp;now);
 
   cout &lt;&lt; &quot;本地日期和时间：&quot; &lt;&lt; dt &lt;&lt; endl;
 
   // 把 now 转换为 tm 结构
   tm *gmtm = gmtime(&amp;now);
   dt = asctime(gmtm);
   cout &lt;&lt; &quot;UTC 日期和时间：&quot;&lt;&lt; dt &lt;&lt; endl;
}
</code></pre>
<p>当上面的代码被编译和执行时，它会产生下列结果：</p>
<pre><code><code>
本地日期和时间：Sat Jan  8 20:07:41 2011

UTC 日期和时间：Sun Jan  9 03:07:41 2011</code></pre>
<h3 id="使用结构-tm-格式化时间">使用结构 tm 格式化时间</h3>
<p>tm 结构在 C/C++ 中处理日期和时间相关的操作时，显得尤为重要。tm 结构以 C 结构的形式保存日期和时间。大多数与时间相关的函数都使用了 tm 结构。下面的实例使用了 tm 结构和各种与日期和时间相关的函数。</p>
<p>在练习使用结构之前，需要对 C 结构有基本的了解，并懂得如何使用箭头 -&gt; 运算符来访问结构成员。<br />
实例</p>
<pre><code><code>#include &lt;iostream&gt;
#include &lt;ctime&gt;
 
using namespace std;
 
int main( )
{
   // 基于当前系统的当前日期/时间
   time_t now = time(0);
 
   cout &lt;&lt; &quot;1970 到目前经过秒数:&quot; &lt;&lt; now &lt;&lt; endl;
 
   tm *ltm = localtime(&amp;now);
 
   // 输出 tm 结构的各个组成部分
   cout &lt;&lt; &quot;年: &quot;&lt;&lt; 1900 + ltm-&gt;tm_year &lt;&lt; endl;
   cout &lt;&lt; &quot;月: &quot;&lt;&lt; 1 + ltm-&gt;tm_mon&lt;&lt; endl;
   cout &lt;&lt; &quot;日: &quot;&lt;&lt;  ltm-&gt;tm_mday &lt;&lt; endl;
   cout &lt;&lt; &quot;时间: &quot;&lt;&lt; ltm-&gt;tm_hour &lt;&lt; &quot;:&quot;;
   cout &lt;&lt; ltm-&gt;tm_min &lt;&lt; &quot;:&quot;;
   cout &lt;&lt; ltm-&gt;tm_sec &lt;&lt; endl;
}</code></pre>
<p>当上面的代码被编译和执行时，它会产生下列结果：</p>
<pre><code><code>1970 到目前时间:1503564157
年: 2017
月: 8
日: 24
时间: 16:42:37</code></pre>
<h3 id="时间的格式化">时间的格式化</h3>
<p>用到了<code>#include &lt;sstream&gt;</code><br />
<code>c++      int i,j,k;      stringstream s;//包含在sstream头文件里       s&lt;&lt;1234;      string ch = s.str();      cout&lt;&lt;ch&lt;&lt;endl;      while(1);      return 0;</code></p>

</div>
</div></div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>