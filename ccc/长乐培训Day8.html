<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修长乐培训Day8' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>长乐培训Day8</center></div><div class='banquan'>原文出处:本文由博客园博主Ra煞提供。<br/>
原文连接:https://www.cnblogs.com/I-Love-You-520/p/11266196.html</div><br>
    <h2>T1 远征</h2>
<h3>题目</h3>
<p>【题目描述】</p>
<p>寒枫将军将要带领他的部队去圣雪山消灭那里的冰龙。部队分成了若干个小队，属于同一个小队的人兵种相同。</p>
<p>寒枫将军有着杰出的指挥能力，在战斗的时候，寒枫将军能够让所有相同兵种的人互相配合，使t个相同兵种的人发挥出t<sup>2</sup>的战斗力；</p>
<p>寒枫将军还能让不同兵种的人互相配合，使整个部队的战斗力是所有兵种战斗力的和。</p>
<p>例如，部队中有3个小队，分别是5个人的步兵小队，3个人的步兵小队，3个人的骑兵小队。那么步兵战斗力为64，骑兵战斗力为9，部队总战斗力为73。</p>
<p>寒枫将军需要知道他的部队的战斗力是多少。</p>
<p>【输入格式】</p>
<p>第一行一个整数n，表示小队数。接下来n行，第i行有两个整数a<sub>i</sub>、b<sub>i</sub>，表示这个小队有a<sub>i</sub>个人，兵种为b<sub>i</sub>。</p>
<p>【输出格式】</p>
<p>一行一个整数，部队的战斗力。</p>
<p>【输入样例】</p>
<p>3</p>
<p>5 1</p>
<p>3 1</p>
<p>3 2</p>
<p>【输出样例】</p>
<p>73</p>
<p>【数据规模】</p>
<p>10%的数据，n=1</p>
<p>30%的数据，n&le;1000</p>
<p>另有20%的数据，a<sub>i</sub>=1</p>
<p>另有30%的数据，b<sub>i</sub>&le;1000</p>
<p>100%的数据，1&le;n&le;100000，1&le;a<sub>i</sub>&le;10000，1&le;b<sub>i</sub>&le;1,000,000,000</p>
<h3>解析</h3>
<p>T1依旧水，蒟蒻仍AC。</p>
<p>将a与b用结构体存储，再按b从小到大排序，如果i的b等于i-1的b，那就是相同兵种，令t累加上a，</p>
<p>如果不相等，那就是不同兵种，统计一下答案并把t清零，最后不要忘了再统计一次答案。</p>
<h3>Code</h3>
<div class="cnblogs_code" onclick="cnblogs_code_show('6520870b-1288-402c-b936-ecb7bbd7629b')"><img id="code_img_closed_6520870b-1288-402c-b936-ecb7bbd7629b" class="code_img_closed" src="./images/长乐培训Day80.png" alt="" /><img id="code_img_opened_6520870b-1288-402c-b936-ecb7bbd7629b" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('6520870b-1288-402c-b936-ecb7bbd7629b',event)" src="./images/长乐培训Day81.png" alt="" />
<div id="cnblogs_code_open_6520870b-1288-402c-b936-ecb7bbd7629b" class="cnblogs_code_hide">
<pre>#include &lt;algorithm&gt;<span style="color: #000000;">
#include </span>&lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;cstring&gt;<span style="color: #000000;">
#include </span>&lt;<span style="color: #0000ff;">string</span>&gt;<span style="color: #000000;">
#include </span>&lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;cmath&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> read()
{
    </span><span style="color: #0000ff;">int</span> num=<span style="color: #800080;">0</span>,w=<span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">char</span> ch=<span style="color: #000000;">getchar();
    </span><span style="color: #0000ff;">while</span>(ch&lt;<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>||ch&gt;<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span>(ch==<span style="color: #800000;">'</span><span style="color: #800000;">-</span><span style="color: #800000;">'</span>) w=-<span style="color: #800080;">1</span><span style="color: #000000;">;
        ch</span>=<span style="color: #000000;">getchar();
    }
    </span><span style="color: #0000ff;">while</span>(ch&gt;=<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>&amp;&amp;ch&lt;=<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        num</span>=(num&lt;&lt;<span style="color: #800080;">1</span>)+(num&lt;&lt;<span style="color: #800080;">3</span>)+ch-<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span><span style="color: #000000;">;
        ch</span>=<span style="color: #000000;">getchar();
    }
    </span><span style="color: #0000ff;">return</span> num*<span style="color: #000000;">w;
}
</span><span style="color: #0000ff;">struct</span><span style="color: #000000;"> rec{
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> a,b;
}ra[</span><span style="color: #800080;">100100</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> n;
</span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span><span style="color: #000000;"> ans,t;
</span><span style="color: #0000ff;">bool</span><span style="color: #000000;"> cmp(rec x,rec y)
{
    </span><span style="color: #0000ff;">return</span> x.b&lt;<span style="color: #000000;">y.b;
}
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("expedition.in","r",stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("expedition.out","w",stdout);</span>
    n=<span style="color: #000000;">read();
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=n;i++) ra[i].a=read(),ra[i].b=<span style="color: #000000;">read();
    sort(ra</span>+<span style="color: #800080;">1</span>,ra+n+<span style="color: #800080;">1</span><span style="color: #000000;">,cmp);
    t</span>=ra[<span style="color: #800080;">1</span><span style="color: #000000;">].a;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">2</span>;i&lt;=n;i++<span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span>(ra[i].b==ra[i-<span style="color: #800080;">1</span>].b) t+=<span style="color: #000000;">ra[i].a;
        </span><span style="color: #0000ff;">else</span><span style="color: #000000;">
        {
            ans</span>+=t*<span style="color: #000000;">t;
            t</span>=<span style="color: #000000;">ra[i].a;
        }
    }
    ans</span>+=t*<span style="color: #000000;">t;
    cout</span>&lt;&lt;<span style="color: #000000;">ans;
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fclose(stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fclose(stdout);</span>
}</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>T2 密码</h2>
<h3>题目</h3>
<p>【题目描述】</p>
<p>假发通过了不懈的努力，得到了将军家门锁的密码（一串小写英文字母）。但是假发被十四和猩猩他们盯上了，所以假发需要把密码传递出去。</p>
<p>因为假发不想十四他们发现几松门前贴的小纸条就是将军家的密码，所以他加密了密码（新八：听起来有点诡异）。加密方法如下：随机地，在密码中任意位置插入随机长度的小写字符串。</p>
<p>不过，假发相信银桑和他那么多年小学同学，一定能猜中密码是什么的（新八：银桑什么时候成攮夷志士了！！！）。</p>
<p>可是，写完了小纸条之后，假发觉得有点长，就想截去头和尾各一段（可以为空），让剩下的中间那一段依然包含真～密码。想着想着，假发就想知道有多少种可行方案。</p>
<p>结果在沉迷于稿纸之际，假发被投进了狱门岛（新八：&hellip;&hellip;）。于是，就由你计算了。&nbsp;</p>
<p>【输入格式】</p>
<p>两行非空字符串，纯小写英文字母，第一行是加密后的密码，第二行是原密码。</p>
<p>第一行长度不超过300000，第二行不超过200。</p>
<p>【输出格式】</p>
<p align="left">一行，有多少种方案。注意：不剪也是一种方案。</p>
<p>【输入样例】</p>
<p><span>abcabcabc</span></p>
<p><span>cba</span></p>
<p>【输出样例】</p>
<p>9</p>
<p>【数据规模】</p>
<p align="left">30%的数据满足第一行长度不超过1000。</p>
<p align="left">100%的数据满足第一行长度不超过300000，方案总数不超过10^18。</p>
<p align="left">第二行长度小于213</p>
<h3>解析</h3>
<p>感谢机房大佬们的教学！</p>
<p>我们设f[i][j](初值为-1)表示加密后密码的第i位与原密码的第j位匹配时，加密后密码与原密码匹配的第0位数在加密后密码的位上的左边共有多少位(从第0位开始)，</p>
<p>很绕对不对(<span style="text-decoration: line-through;">本蒟蒻也看不懂自己在写什么</span>)，举个例子，abcabcabc与cba这个样例，</p>
<p>f[2][0]=2(加密后密码第2位与原密码第0位都是c，匹配，而在原密码第0位c对应的加密后密码第2位的前面共有2位)，还是不懂？再多看几个例子，</p>
<p>f[3][1]=2(加密后密码第3位是a，而原密码第1位为b，不匹配，所以还是2)，</p>
<p>f[4][1]=2(加密后密码第4位与原密码第1位都是b，匹配)，</p>
<p>f[6][2]=2(加密后密码第6位与原密码第2位都是a，匹配，而在原密码第0位c对应的加密后密码的第2位的前面共有2位)。如果还不懂的话多看几遍、多试几遍。</p>
<p>然后状态转移即可，最后答案是所有f[i][原密码长度-1]+1的和(i从加密后密码长度-1枚举到原密码长度-1)。</p>
<h3>Code</h3>
<div class="cnblogs_code" onclick="cnblogs_code_show('73b117e7-fda0-4d27-9881-7ac16a591489')"><img id="code_img_closed_73b117e7-fda0-4d27-9881-7ac16a591489" class="code_img_closed" src="./images/长乐培训Day80.png" alt="" /><img id="code_img_opened_73b117e7-fda0-4d27-9881-7ac16a591489" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('73b117e7-fda0-4d27-9881-7ac16a591489',event)" src="./images/长乐培训Day81.png" alt="" />
<div id="cnblogs_code_open_73b117e7-fda0-4d27-9881-7ac16a591489" class="cnblogs_code_hide">
<pre>#include &lt;algorithm&gt;<span style="color: #000000;">
#include </span>&lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;cstring&gt;<span style="color: #000000;">
#include </span>&lt;<span style="color: #0000ff;">string</span>&gt;<span style="color: #000000;">
#include </span>&lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;cmath&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">int</span> f[<span style="color: #800080;">300100</span>][<span style="color: #800080;">220</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">string</span><span style="color: #000000;"> s1,s2;
</span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span><span style="color: #000000;"> ans;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("substring.in","r",stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("substring.out","w",stdout);</span>
    memset(f,-<span style="color: #800080;">1</span>,<span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(f));
    cin</span>&gt;&gt;s1&gt;&gt;<span style="color: #000000;">s2;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>;i&lt;s1.size();i++<span style="color: #000000;">)
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> j=<span style="color: #800080;">0</span>;j&lt;s2.size();j++<span style="color: #000000;">)
        {
            </span><span style="color: #0000ff;">if</span>(j==<span style="color: #800080;">0</span><span style="color: #000000;">)
            {
                </span><span style="color: #0000ff;">if</span>(s1[i]==s2[j]) f[i][<span style="color: #800080;">0</span>]=<span style="color: #000000;">i;
                </span><span style="color: #0000ff;">if</span>(s1[i]!=s2[j]&amp;&amp;i&gt;=<span style="color: #800080;">1</span>) f[i][<span style="color: #800080;">0</span>]=f[i-<span style="color: #800080;">1</span>][<span style="color: #800080;">0</span><span style="color: #000000;">];
            }
            </span><span style="color: #0000ff;">else</span><span style="color: #000000;">
            {
                </span><span style="color: #0000ff;">if</span>(s1[i]==s2[j]&amp;&amp;i&gt;=<span style="color: #800080;">1</span>) f[i][j]=f[i-<span style="color: #800080;">1</span>][j-<span style="color: #800080;">1</span><span style="color: #000000;">];
                </span><span style="color: #0000ff;">if</span>(s1[i]!=s2[j]&amp;&amp;i&gt;=<span style="color: #800080;">1</span>) f[i][j]=f[i-<span style="color: #800080;">1</span><span style="color: #000000;">][j];
            }
        }
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=s1.size()-<span style="color: #800080;">1</span>;i&gt;=s2.size()-<span style="color: #800080;">1</span>;i--) ans+=f[i][s2.size()-<span style="color: #800080;">1</span>]+<span style="color: #800080;">1</span><span style="color: #000000;">;
    cout</span>&lt;&lt;<span style="color: #000000;">ans;
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fclose(stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fclose(stdout);</span>
}</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>T3 独立集</h2>
<h3>题目</h3>
<p>【题目描述】</p>
<p>有一天，一个名叫顺旺基的程序员从石头里诞生了。又有一天，他学会了冒泡排序和独立集。在一个图里，独立集就是一个点集，满足任意两个点之间没有边。</p>
<p>于是他就想把这两个东西结合在一起。众所周知，独立集是需要一个图的。那么顺旺基同学创造了一个算法，从冒泡排序中产生一个无向图。</p>
<p>这个算法不标准的伪代码如下：</p>
<table border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td valign="top" width="284">
<p>Pascal版本</p>
</td>
<td valign="top" width="284">
<p>C/C++版本</p>
</td>
</tr>
<tr>
<td valign="top" width="284">
<p>procedure bubblesortgraph(n, a[]) ：</p>
<p>/*输入：点数n，1到n的全排列a。</p>
<p>输出：一个点数为n的无向图G。*/</p>
<p>创建一个有n个点，0条边的无向图G。</p>
<p>repeat</p>
<p>&nbsp;&nbsp; swapped = false</p>
<p>&nbsp;&nbsp; for i 从 1 到 n-1 ：</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if a[i] &gt; a[i + 1] ：</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 在G中连接点a[i]和点a[i + 1]</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 交换a[i]和a[i + 1]</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; swapped = true</p>
<p>until not swapped</p>
<p>输出图G。</p>
<p>//结束。</p>
</td>
<td valign="top" width="284">
<p>void bubblesortgraph(n,a[])</p>
<p>&nbsp; //输入：点数n，1到n的全排列a</p>
<p>&nbsp; //输出：一个点数为n的无向图G</p>
<p>{&nbsp; 创建一个有n个点，0条边的无向图G。</p>
<p>&nbsp;&nbsp; do{&nbsp; swapped=false</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for i 从1 到n-1</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(a[i]&gt;a[i+1])</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp; 在G中连接点a[i]和点a[i+1]</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 交换a[i]和a[i+1]</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;swapped =true</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;}</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; }while(swapped);</p>
<p>&nbsp;&nbsp; 输出图G。</p>
<p>}</p>
<p>//结束。</p>
</td>
</tr>
</tbody>
</table>
<p>那么我们要算出这个无向图G最大独立集的大小。但是事情不止于此。顺旺基同学有时候心情会不爽，这个时候他就会要求你再回答多一个问题：</p>
<p>最大独立集可能不是唯一的，但有些点是一定要选的，问哪些点一定会在最大独立集里。今天恰好他不爽，被他问到的同学就求助于你了。</p>
<p>【输入格式】</p>
<p>输入包含两行，第一行为N，第二行为1到N的一个全排列。</p>
<p>【输出格式】</p>
<p>输出包含两行，第一行输出最大独立集的大小，第二行从小到大输出一定在最大独立集的点的编号。</p>
<p>【输入样例】</p>
<p>3</p>
<p>3 1 2</p>
<p>【输出样例】</p>
<p>2</p>
<p>2 3</p>
<p>【数据规模】</p>
<p>30%的数据满足 N&lt;=16</p>
<p>60%的数据满足 N&lt;=1,000</p>
<p>100%的数据满足 N&lt;=100,000</p>
<h3>解析</h3>
<p>这题有点坑，刚看的时候想都没想，直接打了模拟，结果GG，后来想想才发现是最长上升子序列。</p>
<p>仔细看冒泡排序的代码，不难得出，只有两数为逆序对时才有边，反之没边，即上升子序列，而第一问显然就是最长上升子序列；</p>
<p>而第二问就可以转化为必定会在最长上升子序列的元素有哪些，我们可以正着求一遍最长上升子序列，再反向求一遍，</p>
<p>两个最长上升子序列都有的元素即为答案。</p>
<h3>Code</h3>
<div class="cnblogs_code" onclick="cnblogs_code_show('c853e589-120b-42ab-b749-346a8e9f1b96')"><img id="code_img_closed_c853e589-120b-42ab-b749-346a8e9f1b96" class="code_img_closed" src="./images/长乐培训Day80.png" alt="" /><img id="code_img_opened_c853e589-120b-42ab-b749-346a8e9f1b96" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('c853e589-120b-42ab-b749-346a8e9f1b96',event)" src="./images/长乐培训Day81.png" alt="" />
<div id="cnblogs_code_open_c853e589-120b-42ab-b749-346a8e9f1b96" class="cnblogs_code_hide">
<pre>#include &lt;algorithm&gt;<span style="color: #000000;">
#include </span>&lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;cstring&gt;<span style="color: #000000;">
#include </span>&lt;<span style="color: #0000ff;">string</span>&gt;<span style="color: #000000;">
#include </span>&lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;cmath&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> read()
{
    </span><span style="color: #0000ff;">int</span> num=<span style="color: #800080;">0</span>,w=<span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">char</span> ch=<span style="color: #000000;">getchar();
    </span><span style="color: #0000ff;">while</span>(ch&lt;<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>||ch&gt;<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span>(ch==<span style="color: #800000;">'</span><span style="color: #800000;">-</span><span style="color: #800000;">'</span>) w=-<span style="color: #800080;">1</span><span style="color: #000000;">;
        ch</span>=<span style="color: #000000;">getchar();
    }
    </span><span style="color: #0000ff;">while</span>(ch&gt;=<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>&amp;&amp;ch&lt;=<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        num</span>=(num&lt;&lt;<span style="color: #800080;">1</span>)+(num&lt;&lt;<span style="color: #800080;">3</span>)+ch-<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span><span style="color: #000000;">;
        ch</span>=<span style="color: #000000;">getchar();
    }
    </span><span style="color: #0000ff;">return</span> num*<span style="color: #000000;">w;
}
</span><span style="color: #0000ff;">const</span> <span style="color: #0000ff;">int</span> N=<span style="color: #800080;">100100</span><span style="color: #000000;">;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> n,a[N],k,maxn,f1[N],f2[N],d[N],b[N];
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("bubble.in","r",stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("bubble.out","w",stdout);</span>
    n=<span style="color: #000000;">read();
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=n;i++) a[i]=<span style="color: #000000;">read();
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=n;i++<span style="color: #000000;">)
    {
        k</span>=lower_bound(d,d+maxn+<span style="color: #800080;">1</span>,a[i])-<span style="color: #000000;">d;
        maxn</span>=<span style="color: #000000;">max(maxn,k);
        f1[i]</span>=<span style="color: #000000;">k;
        d[k]</span>=<span style="color: #000000;">a[i];
    }
    d[</span><span style="color: #800080;">0</span>]=<span style="color: #800080;">0xcfcfcfcf</span>,maxn=<span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=n;i&gt;=<span style="color: #800080;">1</span>;i--<span style="color: #000000;">)
    {
        k</span>=lower_bound(d,d+maxn+<span style="color: #800080;">1</span>,-a[i])-<span style="color: #000000;">d;
        maxn</span>=<span style="color: #000000;">max(maxn,k);
        f2[i]</span>=<span style="color: #000000;">k;
        d[k]</span>=-<span style="color: #000000;">a[i];
    }
    cout</span>&lt;&lt;maxn&lt;&lt;<span style="color: #000000;">endl;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=n;i++<span style="color: #000000;">)
        </span><span style="color: #0000ff;">if</span>(f1[i]+f2[i]-<span style="color: #800080;">1</span>==maxn) b[f1[i]]++<span style="color: #000000;">;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=n;i++<span style="color: #000000;">)
        </span><span style="color: #0000ff;">if</span>(f1[i]+f2[i]-<span style="color: #800080;">1</span>==maxn&amp;&amp;b[f1[i]]==<span style="color: #800080;">1</span>) cout&lt;&lt;i&lt;&lt;<span style="color: #800000;">"</span> <span style="color: #800000;">"</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fclose(stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fclose(stdout);</span>
}</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>T4 选修课</h2>
<h3>题目</h3>
<p>【题目描述】</p>
<p>温州中学开放了许多选修课，每节选修课都属于一种种类。精力旺盛的黄小龙同学想要尽可能多的参加选修课，但是他只能选择M种种类的课程。</p>
<p>当然，对于他所选的种类，他会去上所有该种类的课。现在他想知道他最多能上几节选修课，以及上最多选修课的方案数。</p>
<p>两种方案被认为不同当且仅当一种方案中存在另一种方案所没有的选修课。</p>
<p>【输入格式】</p>
<p>第一行一个只由小写字母组成，长度为N的字符串。表示有N节选修课，以及每节选修课的种类。</p>
<p>【输出格式】</p>
<p>输出一行，两个用空格隔开的正整数，分别表示最多选修课数量和方案数。</p>
<p>【输入样例】</p>
<p>abcde</p>
<p>1</p>
<p>【输出样例】</p>
<p>1 5</p>
<p>【数据规模】</p>
<p>对于30%的数据，M==1;</p>
<p>对于另外30%的数据，每种种类的选修课最多只有一节;</p>
<p>对于100%的数据1&lt;=M&lt;=26、1&lt;=N&lt;=100000;</p>
<h3>解析</h3>
<p>惊！某蒟蒻AC了T4！</p>
<p>今天的T4居然挺简单，有点不可思议。</p>
<p>因为字母总共只有26个，所以我们可以开一个a数组存储每个字母出现的次数，</p>
<p>再用贪心思想，把a数组从大到小排序，取前m个数累加就是第一问；</p>
<p>第二问得分两种情况，如果m&ge;所有字母种类，直接输出1即可；</p>
<p>如果m＜所有字母种类的话，其实就是在求组合数，举个例子，</p>
<p>aaaabbbbcccdddeeffz(这些是字母出现次数，别问我为什么这么规则，反正只要记录出现次数就可以了(<span style="text-decoration: line-through;">其实是懒</span>))，</p>
<p>很显然，a4次，b4次，c3次，d3次，e2次，f2次，z1次。</p>
<p>如果m为1，在a和b两个中选一个即可，方案数为2；</p>
<p>如果m为2，很显然，取a和b这两个出现次数最多的即可，方案数为1,；</p>
<p>如果m为3呢？很显然，a和b这两个字母肯定必选，那么剩下的一个肯定得选c或d，方案数为2，是不是和m为1时类似？</p>
<p>如果m为4，选a，b，c，d，方案数为1；</p>
<p>如果m为5，a，b，c，d，这四个数肯定还是要选，那么剩下的一个就是e或f，方案数为2；</p>
<p>剩下的以此类推，本蒟蒻便不分别说了。</p>
<p>仔细分析上面的例子，不难发现，在m增加的过程中，我们每次都会选在m较小时所选的数以及剩下的数中最大的，</p>
<p>如果当前有多个最大的，那么就是在求最大的数的种类数中选择x个数（x为m剩下的未选择的次数），这不就是组合数吗？</p>
<p>思路想通了，代码也就不难了，具体在操作上面的步骤时，用递归就可以了。</p>
<h3>Code</h3>
<div class="cnblogs_code" onclick="cnblogs_code_show('bb1393e2-1a90-445c-a2bc-1ffbcee4ea99')"><img id="code_img_closed_bb1393e2-1a90-445c-a2bc-1ffbcee4ea99" class="code_img_closed" src="./images/长乐培训Day80.png" alt="" /><img id="code_img_opened_bb1393e2-1a90-445c-a2bc-1ffbcee4ea99" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('bb1393e2-1a90-445c-a2bc-1ffbcee4ea99',event)" src="./images/长乐培训Day81.png" alt="" />
<div id="cnblogs_code_open_bb1393e2-1a90-445c-a2bc-1ffbcee4ea99" class="cnblogs_code_hide">
<pre>#include &lt;algorithm&gt;<span style="color: #000000;">
#include </span>&lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;cstring&gt;<span style="color: #000000;">
#include </span>&lt;<span style="color: #0000ff;">string</span>&gt;<span style="color: #000000;">
#include </span>&lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;cmath&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> read()
{
    </span><span style="color: #0000ff;">int</span> num=<span style="color: #800080;">0</span>,w=<span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">char</span> ch=<span style="color: #000000;">getchar();
    </span><span style="color: #0000ff;">while</span>(ch&lt;<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>||ch&gt;<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span>(ch==<span style="color: #800000;">'</span><span style="color: #800000;">-</span><span style="color: #800000;">'</span>) w=-<span style="color: #800080;">1</span><span style="color: #000000;">;
        ch</span>=<span style="color: #000000;">getchar();
    }
    </span><span style="color: #0000ff;">while</span>(ch&gt;=<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>&amp;&amp;ch&lt;=<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        num</span>=(num&lt;&lt;<span style="color: #800080;">1</span>)+(num&lt;&lt;<span style="color: #800080;">3</span>)+ch-<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span><span style="color: #000000;">;
        ch</span>=<span style="color: #000000;">getchar();
    }
    </span><span style="color: #0000ff;">return</span> num*<span style="color: #000000;">w;
}
</span><span style="color: #0000ff;">int</span> m,a[<span style="color: #800080;">27</span>],temp,ans,sum,f[<span style="color: #800080;">27</span>][<span style="color: #800080;">27</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">string</span><span style="color: #000000;"> s;
</span><span style="color: #0000ff;">bool</span> cmp(<span style="color: #0000ff;">int</span> x,<span style="color: #0000ff;">int</span><span style="color: #000000;"> y)
{
    </span><span style="color: #0000ff;">return</span> x&gt;<span style="color: #000000;">y;
}
</span><span style="color: #0000ff;">void</span> work(<span style="color: #0000ff;">int</span> last,<span style="color: #0000ff;">int</span><span style="color: #000000;"> x)
{
    </span><span style="color: #0000ff;">int</span> num=<span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=last+<span style="color: #800080;">1</span>;i&lt;=<span style="color: #800080;">26</span>;i++<span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span>(a[i]==<span style="color: #800080;">0</span>) <span style="color: #0000ff;">break</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">if</span>(a[i]==a[last+<span style="color: #800080;">1</span>]) num++<span style="color: #000000;">;
        </span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">break</span><span style="color: #000000;">;
    }
    </span><span style="color: #0000ff;">if</span>(num&gt;=x)<span style="color: #008000;">//</span><span style="color: #008000;">从num个数中选x个数 </span>
<span style="color: #000000;">    {
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=num;i++<span style="color: #000000;">)
            </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> j=<span style="color: #800080;">0</span>;j&lt;=i;j++) f[i][j]=f[i-<span style="color: #800080;">1</span>][j]+f[i-<span style="color: #800080;">1</span>][j-<span style="color: #800080;">1</span><span style="color: #000000;">];
        cout</span>&lt;&lt;<span style="color: #000000;">f[num][x];
    }
    </span><span style="color: #0000ff;">else</span> work(last+num,x-<span style="color: #000000;">num);
}
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("course.in","r",stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("course.out","w",stdout);</span>
    cin&gt;&gt;<span style="color: #000000;">s;
    m</span>=<span style="color: #000000;">read();
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>;i&lt;s.size();i++) a[s[i]-<span style="color: #800000;">'</span><span style="color: #800000;">a</span><span style="color: #800000;">'</span>+<span style="color: #800080;">1</span>]++<span style="color: #000000;">;
    sort(a</span>+<span style="color: #800080;">1</span>,a+<span style="color: #800080;">27</span><span style="color: #000000;">,cmp);
    f[</span><span style="color: #800080;">0</span>][<span style="color: #800080;">0</span>]=<span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=<span style="color: #800080;">26</span>;i++<span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span>(a[i]==<span style="color: #800080;">0</span>) <span style="color: #0000ff;">break</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">else</span> sum++<span style="color: #000000;">;
        </span><span style="color: #0000ff;">if</span>(temp&lt;<span style="color: #000000;">m)
        {
            ans</span>+=<span style="color: #000000;">a[i];
            temp</span>++<span style="color: #000000;">;
        }
    }
    cout</span>&lt;&lt;ans&lt;&lt;<span style="color: #800000;">"</span> <span style="color: #800000;">"</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">if</span>(m&gt;=sum) cout&lt;&lt;<span style="color: #800000;">"</span><span style="color: #800000;">1</span><span style="color: #800000;">"</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">else</span> work(<span style="color: #800080;">0</span><span style="color: #000000;">,m);
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fclose(stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fclose(stdout);</span>
}</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>