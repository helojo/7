<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修memset' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>memset</center></div><div class='banquan'>原文出处:本文由博客园博主Luke_Hatch0718提供。<br/>
原文连接:https://www.cnblogs.com/LukeHatch/p/10924480.html</div><br>
    <p><span style="font-size: 15px;" lang="EN-US">第一次随笔，有错误指正。谢谢。</span></p>
<p><span style="font-size: 15px;" lang="EN-US">C++中<span lang="EN-US">memset用来初始化整个&ldquo;内存块&rdquo;的值。</span></span></p>
<p><span style="font-size: 15px;" lang="EN-US">1.引用</span></p>
<p><span style="font-size: 15px;" lang="EN-US">C++中，<span lang="EN-US">memset通常包含在头<span lang="EN-US">&lt;cstring&gt;中。</span></span></span></p>
<div class="cnblogs_code">
<pre><code><span style="font-size: 15px;">#include &lt;cstring&gt;</span><br /><span style="font-size: 15px;">#include &lt;cstdio&gt;</span><br /><span style="font-size: 15px;">using namespace std;</span><br /><span style="font-size: 15px;">int map[10];</span><br /><span style="font-size: 15px;">int main()</span><br /><span style="font-size: 15px;">{</span><br /><span style="font-size: 15px;">　　memset(map,0x3f3f3f3f, sizeof(map));</span><br /><span style="font-size: 15px;">　　for (int i=0;i&lt;=9;i++)</span><br /><span style="font-size: 15px;">　　{</span><br /><span style="font-size: 15px;">　　　　printf("%d",map[i]);</span><br /><span style="font-size: 15px;">　　}</span><br /><span style="font-size: 15px;">　　return 0;</span><br /><span style="font-size: 15px;">}</span></pre>
</div>
<p><span style="font-size: 15px;">2.原型</span></p>
<div class="cnblogs_code">
<pre><code><span style="font-size: 15px;"><span style="color: #0000ff;">void</span>*<span style="color: #000000;"> __cdecl memset(
    _Out_writes_bytes_all_(_Size) </span><span style="color: #0000ff;">void</span>*<span style="color: #000000;">  _Dst,
    _In_                          </span><span style="color: #0000ff;">int</span><span style="color: #000000;">    _Val,
    _In_                          size_t _Size
    );</span></span></pre>
</div>
<p><span style="font-size: 15px;">第一个参是指针变量，指向任何类型的数据</span></p>
<p><span style="font-size: 15px;">第二个参是赋值量，表示要初始化的值（int类型）</span></p>
<p><span style="font-size: 15px;">第三个参是赋值内存的大小</span></p>
<p><span style="font-size: 15px;">合起来就是:将指针变量所指向的前 n 字节的内存单元用一个&ldquo;整数&rdquo;替换</span></p>
<p><span style="font-size: 15px;">3.应用</span></p>
<p><span style="font-size: 15px;">（1）bool类赋值</span></p>
<div class="cnblogs_code">
<pre><code><span style="font-size: 15px;">memset(a,<span style="color: #800080;">0</span>,<span style="color: #0000ff;">sizeof</span>(a))；<span style="color: #008000;">//</span><span style="color: #008000;">0是false 1是true</span></span></pre>
</div>
<p><span style="font-size: 15px;">（2）char数组类赋值</span></p>
<div class="cnblogs_code">
<pre><code><span style="font-size: 15px;">memset(ch,&lsquo;I&rsquo;,<span style="color: #0000ff;">sizeof</span>(ch)); //初始化为对应字符</span><br /><span style="font-size: 15px;">memset(ch,65,<span data-mce-="">sizeof(ch)); //直接用ascll码初始化</span></span></pre>
</div>
<p><span style="font-size: 15px;">（3）int类赋值</span></p>
<div class="cnblogs_code">
<pre><code><span style="font-size: 15px;"><span style="color: #0000ff;">int</span> num[<span style="color: #800080;">10</span><span style="color: #000000;">];
memset(num,</span><span style="color: #800080;">0</span>,<span style="color: #0000ff;">sizeof</span>(num));</span></pre>
</div>
<p><span style="font-size: 15px;">仅在初始化的值的最后8位为11111111（255）或00000000（0）时能够正确进行初始化。也就是说仅能初始化为-1和0。</span></p>
<p><span style="font-size: 15px;">memset函数在做初始化的时候是以字节为单位的，但一个int4个字节，是32位二进制数。在用memset初始化时会将4个用于初始化的字符组合成一个int型的值。</span></p>
<p><span style="font-size: 15px;">00000001=1</span></p>
<p><span style="font-size: 15px;">00000001 00000001 00000001 00000001=16843009</span></p>
<p><span lang="EN-US"><span lang="EN-US"><span lang="EN-US">（4）无穷大赋值</span></span></span></p>
<p><span lang="EN-US"><span lang="EN-US"><span lang="EN-US">用0x3f3f3f3f最好。0x3f3f3f3f是十六进制数（0x代表是十六进制），0x3f3f3f3f+0x3f3f3f3f不会越界。广泛用于图论最短路等需要给数组赋初值的地方，比如松弛边的时候不会越界。</span></span></span></p>
<p><span lang="EN-US"><span lang="EN-US"><span lang="EN-US">4.效率</span></span></span></p>
<p>比for略快，在oi中使用影响不大，不要滥用。</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>