<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修长乐培训Day2' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>长乐培训Day2</center></div><div class='banquan'>原文出处:本文由博客园博主Ra煞提供。<br/>
原文连接:https://www.cnblogs.com/I-Love-You-520/p/11233472.html</div><br>
    <h2>T1 足球联赛</h2>
<h3><a title="足球联赛" href="https://www.luogu.org/problemnew/show/T89335" target="_blank">题目</a></h3>
<p>【题目描述】</p>
<p>巴蜀中学新一季的足球联赛开幕了。足球联赛有n只球队参赛，每赛季，每只球队要与其他球队各赛两场，主客各一场，赢一场得3分，输一场不得分，平局两只队伍各得一分。</p>
<p>英勇无畏的小鸿是机房的主力前锋，她总能在关键时刻踢出一些匪夷所思的妙球。但是很可惜，她过早的燃烧完了她的职业生涯，不过作为一个能够Burning的girl，</p>
<p>她的能力不止如此，她还能预测这个赛季所有球队的比赛结果。虽然她能准确预测所有比赛的结果，但是其实她不怎么厉害，Mr.Gao上数学课时她总是在sleep，因此她的脑里只有整数没有实数，</p>
<p>而且，她只会10以内非负整数的加法运算，因此她只有结果却无法知道谁会获得联赛的冠军。</p>
<p>小鸿想给冠军队伍的所有队员一个拥抱，所以她把计算结果的任务交给了你：</p>
<p>现在，给你一个 n*n 的矩阵表示比赛情况。第 i 行第 j 列的字母表示在第 i 只队伍在主场迎战第j只队伍的比赛情况，W 表示主队赢，L 表示主队输，D 表示平局。</p>
<p>现在需要你给出最后能得到小鸿拥抱的队伍编号，如有多支队伍分数最高，按字典序输出编号。</p>
<p>【输入格式】</p>
<p>第一行一个整数 n。</p>
<p>接下来 n 行,每行 n 个字符，表示输赢情况。</p>
<p>第 i 行第 i 列为 - ,因为一只队伍不可能与自己比赛。</p>
<p>【输出格式】</p>
<p>输出得分最高的队伍编号。如有多个在一行中输出，用一个空格分开。</p>
<p>【输入样例】</p>
<p>3</p>
<p>-WW</p>
<p>W-W</p>
<p>WW-</p>
<p>【输出样例】</p>
<p>1 2 3</p>
<p>【数据规模】</p>
<p>对于40%的数据，满足N&lt;=20</p>
<p>对于100%的数据，满足N&lt;=50</p>
<h3>解析</h3>
<p>纯模拟题，直接模拟就行了，没什么好说的，就是输出时要记得判断最高成绩相同的都要输出。</p>
<h3>Code</h3>
<div class="cnblogs_code" onclick="cnblogs_code_show('c1053220-2436-460a-8faf-4164262457f5')"><img id="code_img_closed_c1053220-2436-460a-8faf-4164262457f5" class="code_img_closed" src="./images/长乐培训Day20.png" alt="" /><img id="code_img_opened_c1053220-2436-460a-8faf-4164262457f5" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('c1053220-2436-460a-8faf-4164262457f5',event)" src="./images/长乐培训Day21.png" alt="" />
<div id="cnblogs_code_open_c1053220-2436-460a-8faf-4164262457f5" class="cnblogs_code_hide">
<pre>#include &lt;algorithm&gt;<span style="color: #000000;">
#include </span>&lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;cstring&gt;<span style="color: #000000;">
#include </span>&lt;<span style="color: #0000ff;">string</span>&gt;<span style="color: #000000;">
#include </span>&lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;cmath&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> read()
{
    </span><span style="color: #0000ff;">int</span> num=<span style="color: #800080;">0</span>,w=<span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">char</span> ch=<span style="color: #000000;">getchar();
    </span><span style="color: #0000ff;">while</span>(ch&lt;<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>||ch&gt;<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span>(ch==<span style="color: #800000;">'</span><span style="color: #800000;">-</span><span style="color: #800000;">'</span>) w=-<span style="color: #800080;">1</span><span style="color: #000000;">;
        ch</span>=<span style="color: #000000;">getchar();
    }
    </span><span style="color: #0000ff;">while</span>(ch&gt;=<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>&amp;&amp;ch&lt;=<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        num</span>=(num&lt;&lt;<span style="color: #800080;">1</span>)+(num&lt;&lt;<span style="color: #800080;">3</span>)+ch-<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span><span style="color: #000000;">;
        ch</span>=<span style="color: #000000;">getchar();
    }
    </span><span style="color: #0000ff;">return</span> num*<span style="color: #000000;">w;
}
</span><span style="color: #0000ff;">int</span> n,ans[<span style="color: #800080;">51</span>],maxn,temp,ra[<span style="color: #800080;">51</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">char</span><span style="color: #000000;"> s;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("soccer.in","r",stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("soccer.out","w",stdout);</span>
    n=<span style="color: #000000;">read();
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=n;i++<span style="color: #000000;">)
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> j=<span style="color: #800080;">1</span>;j&lt;=n;j++<span style="color: #000000;">)
        {
            cin</span>&gt;&gt;<span style="color: #000000;">s;
            </span><span style="color: #0000ff;">if</span>(s==<span style="color: #800000;">'</span><span style="color: #800000;">W</span><span style="color: #800000;">'</span>) ans[i]+=<span style="color: #800080;">3</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(s==<span style="color: #800000;">'</span><span style="color: #800000;">L</span><span style="color: #800000;">'</span>) ans[j]+=<span style="color: #800080;">3</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(s==<span style="color: #800000;">'</span><span style="color: #800000;">D</span><span style="color: #800000;">'</span><span style="color: #000000;">)
            {
                ans[i]</span>+=<span style="color: #800080;">1</span><span style="color: #000000;">;
                ans[j]</span>+=<span style="color: #800080;">1</span><span style="color: #000000;">;
            }
        }
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=n;i++<span style="color: #000000;">)
        </span><span style="color: #0000ff;">if</span>(ans[i]&gt;<span style="color: #000000;">maxn)
        {
            maxn</span>=<span style="color: #000000;">ans[i];
            temp</span>=<span style="color: #800080;">1</span><span style="color: #000000;">;
            ra[temp]</span>=<span style="color: #000000;">i;
        }
        </span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(ans[i]==maxn) ra[++temp]=<span style="color: #000000;">i;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=temp;i++) cout&lt;&lt;ra[i]&lt;&lt;<span style="color: #800000;">"</span> <span style="color: #800000;">"</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fclose(stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fclose(stdout);</span>
}</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>T2 生产</h2>
<h3><a title="生产" href="https://www.luogu.org/problemnew/show/T89336" target="_blank">题目</a></h3>
<p>【题目描述】</p>
<p>工厂为了生产一种复杂的产品，给各个生产部门制定了详细的生产计划。那么，就经常会有生产部门要把产品送到另一个生产部门作为原料。</p>
<p>这是一个注重产品质量的工厂，所以每当有产品要从A部门运到B部门时，都要先从A部门送到质量检验处，检验合格后再从质量检验处运到B部门。</p>
<p>有些部门之间有传送带连接，厂长想知道每次将产品从一个部门运送到另一个部门最少需要多长时间。</p>
<p>【输入格式】</p>
<p>第一行两个整数n、m，n表示部门数量，m表示传送带数量。出于方便，1号部门是质量检验处。</p>
<p>接下来m行，每行三个整数u、v、w，表示有一条从u部门到v部门的传送带，传送过去需要w个单位时间。注意传送带是单向的。</p>
<p>接下来一个整数q，表示有q次运送。</p>
<p>接下来q行，每行两个数a、b，表示这一次要将产品从a部门运送到b部门。</p>
<p>【输出格式】</p>
<p>输出q行，每行一个整数，表示这次运送最少需要的时间。若没有传送方案，输出-1。</p>
<p>【输入样例】</p>
<p>5 5</p>
<p>1 2 3</p>
<p>1 3 5</p>
<p>4 1 7</p>
<p>5 4 1</p>
<p>5 3 1</p>
<p>3</p>
<p>4 2</p>
<p>5 3</p>
<p>2 3</p>
<p>【输出样例】</p>
<p>10</p>
<p>13</p>
<p>-1</p>
<p>【数据规模】</p>
<p>30%的数据，n&le;100，m&le;500，w=1</p>
<p>60%的数据，n&le;100，m&le;5000</p>
<p>另20%的数据，q=1</p>
<p>100%的数据，2&le;n&le;3000，m&le;100000，2&le;a,b&le;n，</p>
<p>q&le;100000，1&le;u,v&le;n，1&le;w&le;10000</p>
<p>有些部门之间可能有多条传送带。</p>
<p>工厂的员工都非常尽职尽责，他们的认真和热情决定了产品的完美，所以不必考虑产品不合格的情况。</p>
<h3>解析</h3>
<p>很容易看得出来这题是最短路，只不过是两条最短路：</p>
<p>一条是从a到1，另一条是从1到b，只需要做两遍最短路即可。</p>
<p>最短路推荐用dijkstra，如果用SPFA的话数据大一点、出题人卡一下就炸了。</p>
<h3>Code</h3>
<div class="cnblogs_code" onclick="cnblogs_code_show('68a54f89-1ad5-4dd4-8463-969bccff0705')"><img id="code_img_closed_68a54f89-1ad5-4dd4-8463-969bccff0705" class="code_img_closed" src="./images/长乐培训Day20.png" alt="" /><img id="code_img_opened_68a54f89-1ad5-4dd4-8463-969bccff0705" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('68a54f89-1ad5-4dd4-8463-969bccff0705',event)" src="./images/长乐培训Day21.png" alt="" />
<div id="cnblogs_code_open_68a54f89-1ad5-4dd4-8463-969bccff0705" class="cnblogs_code_hide">
<pre>#include &lt;algorithm&gt;<span style="color: #000000;">
#include </span>&lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;cstring&gt;<span style="color: #000000;">
#include </span>&lt;<span style="color: #0000ff;">string</span>&gt;<span style="color: #000000;">
#include </span>&lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;cmath&gt;<span style="color: #000000;">
#include </span>&lt;queue&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> read()
{
    </span><span style="color: #0000ff;">int</span> num=<span style="color: #800080;">0</span>,w=<span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">char</span> ch=<span style="color: #000000;">getchar();
    </span><span style="color: #0000ff;">while</span>(ch&lt;<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>||ch&gt;<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span>(ch==<span style="color: #800000;">'</span><span style="color: #800000;">-</span><span style="color: #800000;">'</span>) w=-<span style="color: #800080;">1</span><span style="color: #000000;">;
        ch</span>=<span style="color: #000000;">getchar();
    }
    </span><span style="color: #0000ff;">while</span>(ch&gt;=<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>&amp;&amp;ch&lt;=<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        num</span>=(num&lt;&lt;<span style="color: #800080;">1</span>)+(num&lt;&lt;<span style="color: #800080;">3</span>)+ch-<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span><span style="color: #000000;">;
        ch</span>=<span style="color: #000000;">getchar();
    }
    </span><span style="color: #0000ff;">return</span> num*<span style="color: #000000;">w;
}
</span><span style="color: #0000ff;">const</span> <span style="color: #0000ff;">int</span> N=<span style="color: #800080;">3001</span><span style="color: #000000;">;
</span><span style="color: #0000ff;">const</span> <span style="color: #0000ff;">int</span> M=<span style="color: #800080;">100001</span><span style="color: #000000;">;
priority_queue</span>&lt; pair&lt;<span style="color: #0000ff;">int</span>,<span style="color: #0000ff;">int</span>&gt; &gt;<span style="color: #000000;"> q;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> n,m,qq,tot1,tot2,head1[N],ver1[M],edge1[M],next1[M],head2[N],ver2[M],edge2[M],next2[M];
</span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span><span style="color: #000000;"> d1[N],d2[N];
</span><span style="color: #0000ff;">bool</span><span style="color: #000000;"> vist[N];
</span><span style="color: #0000ff;">void</span> add1(<span style="color: #0000ff;">int</span> x,<span style="color: #0000ff;">int</span> y,<span style="color: #0000ff;">int</span><span style="color: #000000;"> z)
{
    ver1[</span>++tot1]=<span style="color: #000000;">y;
    edge1[tot1]</span>=<span style="color: #000000;">z;
    next1[tot1]</span>=<span style="color: #000000;">head1[x];
    head1[x]</span>=<span style="color: #000000;">tot1;
}
</span><span style="color: #0000ff;">void</span> add2(<span style="color: #0000ff;">int</span> x,<span style="color: #0000ff;">int</span> y,<span style="color: #0000ff;">int</span><span style="color: #000000;"> z)
{
    ver2[</span>++tot2]=<span style="color: #000000;">y;
    edge2[tot2]</span>=<span style="color: #000000;">z;
    next2[tot2]</span>=<span style="color: #000000;">head2[x];
    head2[x]</span>=<span style="color: #000000;">tot2;
}
</span><span style="color: #0000ff;">void</span><span style="color: #000000;"> dijkstra1()
{
    memset(d1,</span><span style="color: #800080;">0x7f7f7f7f</span>,<span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(d1));
    memset(vist,</span><span style="color: #0000ff;">false</span>,<span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(vist));
    d1[</span><span style="color: #800080;">1</span>]=<span style="color: #800080;">0</span><span style="color: #000000;">;
    q.push(make_pair(</span><span style="color: #800080;">0</span>,<span style="color: #800080;">1</span><span style="color: #000000;">));
    </span><span style="color: #0000ff;">while</span><span style="color: #000000;">(q.size())
    {
        </span><span style="color: #0000ff;">int</span> x=<span style="color: #000000;">q.top().second;
        q.pop();
        </span><span style="color: #0000ff;">if</span>(vist[x]) <span style="color: #0000ff;">continue</span><span style="color: #000000;">;
        vist[x]</span>=<span style="color: #0000ff;">true</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=head1[x];i;i=<span style="color: #000000;">next1[i])
        {
            </span><span style="color: #0000ff;">int</span> y=ver1[i],z=<span style="color: #000000;">edge1[i];
            </span><span style="color: #0000ff;">if</span>(d1[y]&gt;d1[x]+<span style="color: #000000;">z)
            {
                d1[y]</span>=d1[x]+<span style="color: #000000;">z;
                q.push(make_pair(</span>-<span style="color: #000000;">d1[y],y));
            }
        }
    }
}
</span><span style="color: #0000ff;">void</span><span style="color: #000000;"> dijkstra2()
{
    memset(d2,</span><span style="color: #800080;">0x7f7f7f7f</span>,<span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(d2));
    memset(vist,</span><span style="color: #0000ff;">false</span>,<span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(vist));
    d2[</span><span style="color: #800080;">1</span>]=<span style="color: #800080;">0</span><span style="color: #000000;">;
    q.push(make_pair(</span><span style="color: #800080;">0</span>,<span style="color: #800080;">1</span><span style="color: #000000;">));
    </span><span style="color: #0000ff;">while</span><span style="color: #000000;">(q.size())
    {
        </span><span style="color: #0000ff;">int</span> x=<span style="color: #000000;">q.top().second;
        q.pop();
        </span><span style="color: #0000ff;">if</span>(vist[x]) <span style="color: #0000ff;">continue</span><span style="color: #000000;">;
        vist[x]</span>=<span style="color: #0000ff;">true</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=head2[x];i;i=<span style="color: #000000;">next2[i])
        {
            </span><span style="color: #0000ff;">int</span> y=ver2[i],z=<span style="color: #000000;">edge2[i];
            </span><span style="color: #0000ff;">if</span>(d2[y]&gt;d2[x]+<span style="color: #000000;">z)
            {
                d2[y]</span>=d2[x]+<span style="color: #000000;">z;
                q.push(make_pair(</span>-<span style="color: #000000;">d2[y],y));
            }
        }
    }
}
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("production.in","r",stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("production.out","w",stdout);</span>
    <span style="color: #0000ff;">int</span><span style="color: #000000;"> u,v,w,a,b;
    n</span>=read(),m=<span style="color: #000000;">read();
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=m;i++<span style="color: #000000;">)
    {
        u</span>=read(),v=read(),w=<span style="color: #000000;">read();
        add1(u,v,w);
        add2(v,u,w);
    }
    dijkstra1();
    dijkstra2();
    qq</span>=<span style="color: #000000;">read();
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=qq;i++<span style="color: #000000;">)
    {
        a</span>=read(),b=<span style="color: #000000;">read();
        </span><span style="color: #0000ff;">if</span>(d2[a]&gt;=<span style="color: #800080;">0x3f3f3f3f</span>||d1[b]&gt;=<span style="color: #800080;">0x3f3f3f3f</span>) cout&lt;&lt;<span style="color: #800000;">"</span><span style="color: #800000;">-1</span><span style="color: #800000;">"</span>&lt;&lt;<span style="color: #000000;">endl;
        </span><span style="color: #0000ff;">else</span> cout&lt;&lt;d2[a]+d1[b]&lt;&lt;<span style="color: #000000;">endl;
    }
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fclose(stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fclose(stdout);</span>
}</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>T3 最短路径</h2>
<h3><a title="最短路径" href="https://www.luogu.org/problemnew/show/T89337" target="_blank">题目</a></h3>
<p>【题目描述】</p>
<p>平面内给出 n 个点，记横坐标最小的点为 A，最大的点为 B，现在小Y想要知道在每个点经过一次（A 点两次）的情况下从 A 走到 B，再回到 A 的最短路径。</p>
<p>但他是个强迫症患者，他有许多奇奇怪怪的要求与限制条件：</p>
<p>1.从 A 走到 B 时，只能由横坐标小的点走到大的点。</p>
<p>2.由 B 回到 A 时，只能由横坐标大的点走到小的点。</p>
<p>3.有两个特殊点 b1 和 b2， b1 在 0 到 n-1 的路上，b2 在 n-1 到 0 的路上。</p>
<p>请你帮他解决这个问题助他治疗吧！</p>
<p>【输入格式】</p>
<p>第一行三个整数 n,b1,b2,( 0 &lt; b1，b2 &lt; n-1 且 b1 &ne; b2)。n 表示点数，从 0 到 n-1 编号，b1 和 b2 为两个特殊点的编号。</p>
<p>以下 n 行，每行两个整数 x、y 表示该点的坐标(0 &lt;= x，y &lt;= 2000)，从 0 号点顺序给出。Doctor Gao为了方便他的治疗，已经将给出的点按 x 增序排好了。</p>
<p>【输出格式】</p>
<p><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman';">输出仅一行，即最短路径长度（精确到小数点后面</span><span lang="EN-US"> 2 </span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman';">位）</span></p>
<p>【输入样例】</p>
<p>5 1 3</p>
<p>1 3</p>
<p>3 4</p>
<p>4 1</p>
<p>7 5</p>
<p>8 3</p>
<p>【输出样例】</p>
<p>18.18</p>
<p>【数据规模】</p>
<p class="MsoNormal"><span lang="EN-US">20%</span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman';">的数据</span><span lang="EN-US">n&lt;=20</span></p>
<p class="MsoNormal"><span lang="EN-US">60%</span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman';">的数据</span><span lang="EN-US">n&lt;=300</span></p>
<p class="MsoNormal"><span lang="EN-US">100%</span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman';">的数据</span><span lang="EN-US">n&lt;=1000</span></p>
<h3 class="MsoNormal"><span lang="EN-US">解析</span></h3>
<p><span lang="EN-US">这道题本蒟蒻做的时候写了个暴力，果不其然，TLE...</span></p>
<p><span lang="EN-US">后来才知道原来这题是DP。</span></p>
<p><span lang="EN-US">他是从A走到B再走回A，所以我们可以将问题转化为求两条和最小的不相交线段。</span></p>
<p><span lang="EN-US">令f[i][j]表示从A到B的线段走到了i点，从B到A的线段走到了j点。</span></p>
<p><span lang="EN-US">边界为：f[0][0]=0。</span></p>
<p><span lang="EN-US">状态转移方程：（k=max(i,j)）</span></p>
<p><span lang="EN-US">k!=n-1时，</span></p>
<p><span lang="EN-US">1、f[i][k]=min(f[i][k],f[i][j]+d(j,k));（k!=b1）</span></p>
<p><span lang="EN-US">2、f[k][j]=min(f[k][j],f[i][j]+d(i,k));（k!=b2）</span></p>
<p><span lang="EN-US">k==n-1时，</span></p>
<p><span lang="EN-US">3、f[n-1][n-1]=min(f[n-1][n-1],f[i][n-1]+d(i,n-1));（i!=n-1）</span></p>
<p><span lang="EN-US">4、f[n-1][n-1]=min(f[n-1][n-1],f[n-1][j]+d(j,n-1));（j!=n-1）</span></p>
<p><span lang="EN-US">PS:由于是从0开始编号，所以最后一个点为n-1，当然，也可以全部+1从1开始编号（会更美观），主要看个人喜好。</span></p>
<h3><span lang="EN-US">Code</span></h3>
<div class="cnblogs_code" onclick="cnblogs_code_show('77832718-73cb-4212-8e0e-1765135b3505')"><img id="code_img_closed_77832718-73cb-4212-8e0e-1765135b3505" class="code_img_closed" src="./images/长乐培训Day20.png" alt="" /><img id="code_img_opened_77832718-73cb-4212-8e0e-1765135b3505" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('77832718-73cb-4212-8e0e-1765135b3505',event)" src="./images/长乐培训Day21.png" alt="" />
<div id="cnblogs_code_open_77832718-73cb-4212-8e0e-1765135b3505" class="cnblogs_code_hide">
<pre>#include &lt;algorithm&gt;<span style="color: #000000;">
#include </span>&lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;cstring&gt;<span style="color: #000000;">
#include </span>&lt;<span style="color: #0000ff;">string</span>&gt;<span style="color: #000000;">
#include </span>&lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;cmath&gt;<span style="color: #000000;">
#include </span>&lt;queue&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> read()
{
    </span><span style="color: #0000ff;">int</span> num=<span style="color: #800080;">0</span>,w=<span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">char</span> ch=<span style="color: #000000;">getchar();
    </span><span style="color: #0000ff;">while</span>(ch&lt;<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>||ch&gt;<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span>(ch==<span style="color: #800000;">'</span><span style="color: #800000;">-</span><span style="color: #800000;">'</span>) w=-<span style="color: #800080;">1</span><span style="color: #000000;">;
        ch</span>=<span style="color: #000000;">getchar();
    }
    </span><span style="color: #0000ff;">while</span>(ch&gt;=<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>&amp;&amp;ch&lt;=<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        num</span>=(num&lt;&lt;<span style="color: #800080;">1</span>)+(num&lt;&lt;<span style="color: #800080;">3</span>)+ch-<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span><span style="color: #000000;">;
        ch</span>=<span style="color: #000000;">getchar();
    }
    </span><span style="color: #0000ff;">return</span> num*<span style="color: #000000;">w;
}
</span><span style="color: #0000ff;">const</span> <span style="color: #0000ff;">int</span> N=<span style="color: #800080;">1005</span><span style="color: #000000;">;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> n,b1,b2,k;
</span><span style="color: #0000ff;">double</span><span style="color: #000000;"> f[N][N],x[N],y[N];
</span><span style="color: #0000ff;">double</span> d(<span style="color: #0000ff;">int</span> i,<span style="color: #0000ff;">int</span><span style="color: #000000;"> j)
{
    </span><span style="color: #0000ff;">return</span> sqrt((x[i]-x[j])*(x[i]-x[j])+(y[i]-y[j])*(y[i]-<span style="color: #000000;">y[j]));
}
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("paths.in","r",stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("paths.out","w",stdout);</span>
    memset(f,<span style="color: #800080;">0x7f7f7f7f</span>,<span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(f));
    f[</span><span style="color: #800080;">0</span>][<span style="color: #800080;">0</span>]=<span style="color: #800080;">0</span><span style="color: #000000;">;
    n</span>=read(),b1=read(),b2=<span style="color: #000000;">read();
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>;i&lt;n;i++) x[i]=read(),y[i]=<span style="color: #000000;">read();
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>;i&lt;n;i++<span style="color: #000000;">)
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> j=<span style="color: #800080;">0</span>;j&lt;n;j++<span style="color: #000000;">)
        {
            k</span>=<span style="color: #000000;">max(i,j);
            </span><span style="color: #0000ff;">if</span>(k!=n-<span style="color: #800080;">1</span><span style="color: #000000;">)
            {
                k</span>++<span style="color: #000000;">;
                </span><span style="color: #0000ff;">if</span>(k!=b1) f[i][k]=min(f[i][k],f[i][j]+<span style="color: #000000;">d(j,k));
                </span><span style="color: #0000ff;">if</span>(k!=b2) f[k][j]=min(f[k][j],f[i][j]+<span style="color: #000000;">d(i,k));
            }
            </span><span style="color: #0000ff;">else</span><span style="color: #000000;">
            {
                </span><span style="color: #0000ff;">if</span>(i!=n-<span style="color: #800080;">1</span>) f[n-<span style="color: #800080;">1</span>][n-<span style="color: #800080;">1</span>]=min(f[n-<span style="color: #800080;">1</span>][n-<span style="color: #800080;">1</span>],f[i][n-<span style="color: #800080;">1</span>]+d(i,n-<span style="color: #800080;">1</span><span style="color: #000000;">));
                </span><span style="color: #0000ff;">if</span>(j!=n-<span style="color: #800080;">1</span>) f[n-<span style="color: #800080;">1</span>][n-<span style="color: #800080;">1</span>]=min(f[n-<span style="color: #800080;">1</span>][n-<span style="color: #800080;">1</span>],f[n-<span style="color: #800080;">1</span>][j]+d(j,n-<span style="color: #800080;">1</span><span style="color: #000000;">));
            }
        }
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%.2lf</span><span style="color: #800000;">"</span>,f[n-<span style="color: #800080;">1</span>][n-<span style="color: #800080;">1</span><span style="color: #000000;">]);
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fclose(stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fclose(stdout);</span>
}</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2><span lang="EN-US">T4 简单的序列</span></h2>
<h3><a title="简单的序列" href="https://www.luogu.org/problemnew/show/T89338" target="_blank"><span lang="EN-US">题目</span></a></h3>
<p><span lang="EN-US">【题目描述】</span></p>
<p><span lang="EN-US">从前有个括号序列s，满足|s|=m。你需要统计括号序列对(p,q)的数量。</span></p>
<p><span lang="EN-US">其中(p,q)满足|p|+|s|+|q|=n，且p+s+q是一个合法的括号序列。</span></p>
<p><span lang="EN-US">【输入格式】</span></p>
<p><span lang="EN-US">第一行两个正整数n,m。</span></p>
<p><span lang="EN-US">第二行一个长度为m的括号序列，表示s。</span></p>
<p><span lang="EN-US">【输出格式】</span></p>
<p><span lang="EN-US">输出一行一个整数，表示符合条件的(p,q)的数量对10^9+7取模的值。</span></p>
<p><span lang="EN-US">【输入样例】</span></p>
<p><span lang="EN-US">4 1</span></p>
<p><span lang="EN-US">(</span></p>
<p><span lang="EN-US">【输出样例】</span></p>
<p><span lang="EN-US">4</span></p>
<p><span lang="EN-US">【数据规模】</span></p>
<p><span lang="EN-US">对于10%的数据，n&le;20；</span></p>
<p>对于25%的数据，n&le;200；</p>
<p>对于另外5%的数据，n=m；</p>
<p>对于55%的数据，n-m&le;200；</p>
<p>对于100%的数据，1&le;m&le;n&le;10^5，n-m&le;2000。</p>
<h3>解析</h3>
<p>这题有点意思，其实是一道DP题。</p>
<p>将'('转换为1，')'转换为-1。</p>
<p>令f[i][j]表示前i个括号总值为j（边界：f[0][0]=f[1][1]=1）。</p>
<p>而这里的j是一定不为负数的。为什么？因为若j为负数，就意味着当前右括号比左括号多，</p>
<p>这种情况即使后面加入左括号，就会变成&ldquo;)(&rdquo;这种情况，即右括号在左，左括号在右，很显然是不合法的。</p>
<p>所以初始赋值时，令f[i][0]=f[i-1][1]，因为如果是f[i][0]=f[i-1][-1]的话就成了上面说的情况，不合法。</p>
<p>梳理了这么多，可以轻易推出状态转移方程：</p>
<p>1、f[i][j]=f[i-1][j-1]（添加左括号）。</p>
<p>2、f[i][j]=f[i-1][j+1]（添加右括号）。</p>
<h3>Code</h3>
<div class="cnblogs_code" onclick="cnblogs_code_show('7ccbf406-a3ff-4274-a290-d88b6cd65d36')"><img id="code_img_closed_7ccbf406-a3ff-4274-a290-d88b6cd65d36" class="code_img_closed" src="./images/长乐培训Day20.png" alt="" /><img id="code_img_opened_7ccbf406-a3ff-4274-a290-d88b6cd65d36" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('7ccbf406-a3ff-4274-a290-d88b6cd65d36',event)" src="./images/长乐培训Day21.png" alt="" />
<div id="cnblogs_code_open_7ccbf406-a3ff-4274-a290-d88b6cd65d36" class="cnblogs_code_hide">
<pre>#include &lt;algorithm&gt;<span style="color: #000000;">
#include </span>&lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;cstring&gt;<span style="color: #000000;">
#include </span>&lt;<span style="color: #0000ff;">string</span>&gt;<span style="color: #000000;">
#include </span>&lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;cmath&gt;<span style="color: #000000;">
#include </span>&lt;queue&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> read()
{
    </span><span style="color: #0000ff;">int</span> num=<span style="color: #800080;">0</span>,w=<span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">char</span> ch=<span style="color: #000000;">getchar();
    </span><span style="color: #0000ff;">while</span>(ch&lt;<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>||ch&gt;<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span>(ch==<span style="color: #800000;">'</span><span style="color: #800000;">-</span><span style="color: #800000;">'</span>) w=-<span style="color: #800080;">1</span><span style="color: #000000;">;
        ch</span>=<span style="color: #000000;">getchar();
    }
    </span><span style="color: #0000ff;">while</span>(ch&gt;=<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>&amp;&amp;ch&lt;=<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        num</span>=(num&lt;&lt;<span style="color: #800080;">1</span>)+(num&lt;&lt;<span style="color: #800080;">3</span>)+ch-<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span><span style="color: #000000;">;
        ch</span>=<span style="color: #000000;">getchar();
    }
    </span><span style="color: #0000ff;">return</span> num*<span style="color: #000000;">w;
}
</span><span style="color: #0000ff;">const</span> <span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span> mod=<span style="color: #800080;">1000000007</span><span style="color: #000000;">;
</span><span style="color: #0000ff;">int</span> n,m,temp,a[<span style="color: #800080;">100100</span>],minn=<span style="color: #800080;">0x7f7f7f7f</span><span style="color: #000000;">,ans;
</span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span> f[<span style="color: #800080;">2010</span>][<span style="color: #800080;">2010</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">char</span><span style="color: #000000;"> s;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("bracket.in","r",stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("bracket.out","w",stdout);</span>
    n=read(),m=<span style="color: #000000;">read();
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=m;i++<span style="color: #000000;">)
    {
        cin</span>&gt;&gt;<span style="color: #000000;">s;
        </span><span style="color: #0000ff;">if</span>(s==<span style="color: #800000;">'</span><span style="color: #800000;">(</span><span style="color: #800000;">'</span>) a[++temp]=<span style="color: #800080;">1</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">else</span> a[++temp]=-<span style="color: #800080;">1</span><span style="color: #000000;">;
    }
    f[</span><span style="color: #800080;">0</span>][<span style="color: #800080;">0</span>]=f[<span style="color: #800080;">1</span>][<span style="color: #800080;">1</span>]=<span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">2</span>;i&lt;=n-m;i++<span style="color: #000000;">)
    {
        f[i][</span><span style="color: #800080;">0</span>]=f[i-<span style="color: #800080;">1</span>][<span style="color: #800080;">1</span><span style="color: #000000;">];
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> j=<span style="color: #800080;">1</span>;j&lt;=n-m;j++) f[i][j]=(f[i-<span style="color: #800080;">1</span>][j-<span style="color: #800080;">1</span>]+f[i-<span style="color: #800080;">1</span>][j+<span style="color: #800080;">1</span>])%<span style="color: #000000;">mod;
    }
    temp</span>=<span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=m;i++<span style="color: #000000;">)
    {
        temp</span>+=<span style="color: #000000;">a[i];
        minn</span>=<span style="color: #000000;">min(minn,temp);
    }
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=-minn;i&lt;=n-m;i++<span style="color: #000000;">)
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> j=-minn;j&lt;=i;j++<span style="color: #000000;">)
        {
            </span><span style="color: #0000ff;">int</span> l=n-m-i,b=temp+<span style="color: #000000;">j;
            </span><span style="color: #0000ff;">if</span>(b&gt;=<span style="color: #800080;">0</span>) ans=(<span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span>)(f[l][b]*f[i][j]+ans)%<span style="color: #000000;">mod;
        }
    cout</span>&lt;&lt;<span style="color: #000000;">ans;
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fclose(stdin);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">fclose(stdout);</span>
}</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>