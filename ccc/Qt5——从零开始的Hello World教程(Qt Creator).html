<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Qt5——从零开始的Hello World教程(Qt Creator)' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Qt5——从零开始的Hello World教程(Qt Creator)</center></div><div class='banquan'>原文出处:本文由博客园博主suvvm提供。<br/>
原文连接:https://www.cnblogs.com/suvvm/p/10643826.html</div><br>
    <h2 style="text-align: center;">简单Qt教程</h2>
<h3>一、打开Qt Creator</h3>
<p>　　本次的目的是用Qt Creator建立一个Hello World项目，在安装Qt之后，首先要打开Qt&nbsp;Creator。</p>
<p><img src="./images/Qt5——从零开始的Hello World教程(Qt Creator)0.png" alt="" width="283" height="63" /></p>
<p>　　就是它啦，打开后会显示如下页面。</p>
<p><img src="./images/Qt5——从零开始的Hello World教程(Qt Creator)1.png" alt="" width="411" height="239" /></p>
<h3>二、建立新项目</h3>
<p>　　点击文件&mdash;&mdash;新建文件或项目 或者使用快捷键Ctrl+N便可以打开新建项目菜单。</p>
<p><img src="./images/Qt5——从零开始的Hello World教程(Qt Creator)2.png" alt="" width="449" height="282" /></p>
<p>　　这里选择其他项目&mdash;&mdash;Empty qmake Project创建一个空的qt项目&nbsp;HelloWorld_Qt。</p>
<p><img src="./images/Qt5——从零开始的Hello World教程(Qt Creator)3.png" alt="" width="443" height="277" /></p>
<p>　　一路下一步到完成之后就可以看到已经成功建立的项目HelloWorld_Qt。</p>
<p><img src="./images/Qt5——从零开始的Hello World教程(Qt Creator)4.png" alt="" width="192" height="69" /></p>
<p>　　这个生成的新项目包含两个文件。</p>
<p>&nbsp;<img src="./images/Qt5——从零开始的Hello World教程(Qt Creator)5.png" alt="" /></p>
<p>　　HelloWorld_Qt.pro是qt的工程文件，HelloWorld_Qt.pro.user是用于记录该次编译所用的打开工程的路径，编译器、构建的工具链、生成目录、打开工程的qt-creator的版本等的文件，更换编译环境是需删除。</p>
<p>　　这样建立Qt项目便完成了。</p>
<p>　　由于这里建立的是一个空项目，我们需要添加文件来编写代码，右击项目HelloWorld_Qt点击Add New，选择C++中的C++ Source File添加一个c++源代码文件，起名叫main一路下一步到完成。</p>
<p><img src="./images/Qt5——从零开始的Hello World教程(Qt Creator)6.png" alt="" /></p>
<p>　　这样就有了一个可以用来编写代码的main.cpp</p>
<h3>三、编写代码</h3>
<p>　　打开main.cpp在其中编写代码我们需要建立一个Qt应用程序，需要引入Qt应用程序类QApplication所以我们引用它</p>
<div class="cnblogs_code">
<pre>#include&lt;QApplication&gt;</pre>
</div>
<p>&nbsp;</p>
<p><img src="./images/Qt5——从零开始的Hello World教程(Qt Creator)7.png" alt="" width="413" height="24" /></p>
<p>　　但是这里报错了，编译器告诉我们&lsquo;QApplication&rsquo;类文件没有找到，这是因为没有连接Qt Widgets库，打开HelloWorld_Qt.pro引入Qt Widgets库，添加一句QT += widgets按下Ctrl+S保存，之后回到main.cpp</p>
<p><img src="./images/Qt5——从零开始的Hello World教程(Qt Creator)8.png" alt="" width="131" height="61" /></p>
<p><img src="./images/Qt5——从零开始的Hello World教程(Qt Creator)9.png" alt="" width="321" height="29" /></p>
<p>　　果然，错误消失了。</p>
<p>　　继续编写代码，我们还需要有一个窗体，需要引入QWidget类</p>
<p>　　</p>
<div class="cnblogs_code">
<pre>#include&lt;QWidget&gt;</pre>
</div>
<p>　　之后便可以开始设计主函数了。</p>
<div class="cnblogs_code">
<pre>#include&lt;QApplication&gt;<span style="color: #000000;">
#include</span>&lt;QWidget&gt;
<span style="color: #0000ff;">int</span> main(<span style="color: #0000ff;">int</span> argc, <span style="color: #0000ff;">char</span>*<span style="color: #000000;"> argv[]){
    </span><span style="color: #008000;">//</span><span style="color: #008000;">在程序编译完成后会生成一个.exe后缀的可执行文件
    </span><span style="color: #008000;">//</span><span style="color: #008000;">argc是命令行参数个数
    </span><span style="color: #008000;">//</span><span style="color: #008000;">argv[0]记录程序名
    </span><span style="color: #008000;">//</span><span style="color: #008000;">argv[1]~argv[argc-1]记录的输入参数
    </span><span style="color: #008000;">//</span><span style="color: #008000;">argc argv是标识符，可以修改名称
    </span><span style="color: #008000;">//</span><span style="color: #008000;">main()函数有argc和argv或没有，即int main() 或void main，都是合法的。</span>
<span style="color: #000000;">    QApplication app(argc, argv);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">应用程序抽象类
    </span><span style="color: #008000;">//</span><span style="color: #008000;">使用在argv中的argc个命令行参数构造一个名为app的QApplication对象。
    </span><span style="color: #008000;">//</span><span style="color: #008000;">QApplication 类管理图形用户界面应用程序的控制流和主要设置
    </span><span style="color: #008000;">//</span><span style="color: #008000;">任何一个使用Qt的图形用户界面应用程序，都存在一个QApplication对象</span>
<span style="color: #000000;">
    QWidget w;
    </span><span style="color: #008000;">//</span><span style="color: #008000;">QWidget类是所有用户界面对象的基类
    </span><span style="color: #008000;">//</span><span style="color: #008000;">在这里可以把它看作一个窗口，构造了一个窗口对象</span>
    w.setWindowTitle(<span style="color: #800000;">"</span><span style="color: #800000;">Hello World!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">将窗口的标题设为Hello World!</span>
<span style="color: #000000;">    w.show();
    </span><span style="color: #008000;">//</span><span style="color: #008000;">显示窗体</span>
    <span style="color: #0000ff;">return</span><span style="color: #000000;"> app.exec();
    </span><span style="color: #008000;">//</span><span style="color: #008000;">exec()函数有一个消息循环，在调用之后，程序就被锁定。等待窗口的关闭</span>
}</pre>
</div>
<p>　　执行一下</p>
<p><img src="./images/Qt5——从零开始的Hello World教程(Qt Creator)10.png" alt="" width="44" height="97" /></p>
<p><img src="./images/Qt5——从零开始的Hello World教程(Qt Creator)11.png" alt="" width="374" height="309" /></p>
<p>　　成功显示HelloWorld窗口。&nbsp;</p>
<p>　　窗口建好之后我们便可以向窗口中添加控件了，现在需要在窗体中显示Hello World！，我们可以通过QLabel标签实现，要向窗体中添加QLabel标签则同样需要引入QLabel类。</p>
<div class="cnblogs_code">
<pre>#include &lt;QLabel&gt;</pre>
</div>
<p>　　之后构造一个标签对象</p>
<div class="cnblogs_code">
<pre>    textLabel.resize(<span style="color: #800080;">100</span>,<span style="color: #800080;">15</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">设定标签宽40高15</span>
    textLabel.move(<span style="color: #800080;">150</span>, <span style="color: #800080;">170</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">将标签移动到距离左上角水平100px垂直130px的位置</span>
    textLabel.setText(<span style="color: #800000;">"</span><span style="color: #800000;">Hello World!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">标签的初始显示字符串NULL</span>
    textLabel.setParent(&amp;w);</pre>
</div>
<p>　　标签QLabel也是一个窗体，它继承自QFrame，而QFrame又继承自QWidget，若想让他显示在我们构造的窗口w中就需要将QLabel对象textLabel的父对象设为w。</p>
<p>　　在这个程序中w是主窗口，主窗口是指没有父对象的窗口。</p>
<p>　　若在此处不使用textLable.setParent(w),text标签将单独弹出一个窗口。</p>
<p>　　这就说明了，所有最终继承至QFrame的控件如果不把控件的父对象设置为当前主窗口，控件将单独作为一另个主窗口弹出。</p>
<p>　　<img src="./images/Qt5——从零开始的Hello World教程(Qt Creator)12.png" alt="" width="344" height="260" /></p>
<p>　　注释textLable.setParent(w),text后的效果</p>
<p>　　<img src="./images/Qt5——从零开始的Hello World教程(Qt Creator)13.png" alt="" width="348" height="375" /></p>
<p>　　正确效果</p>
<p>　　源代码：</p>
<div class="cnblogs_code">
<pre>#include &lt;QApplication&gt;<span style="color: #000000;">
#include </span>&lt;QWidget&gt;<span style="color: #000000;">
#include </span>&lt;QLabel&gt;

<span style="color: #0000ff;">int</span> main(<span style="color: #0000ff;">int</span> argc, <span style="color: #0000ff;">char</span>*<span style="color: #000000;"> argv[]){
    </span><span style="color: #008000;">//</span><span style="color: #008000;">在程序编译完成后会生成一个.exe后缀的可执行文件
    </span><span style="color: #008000;">//</span><span style="color: #008000;">argc是命令行参数个数
    </span><span style="color: #008000;">//</span><span style="color: #008000;">argv[0]记录程序名
    </span><span style="color: #008000;">//</span><span style="color: #008000;">argv[1]~argv[argc-1]记录的输入参数
    </span><span style="color: #008000;">//</span><span style="color: #008000;">argc argv是标识符，可以修改名称
    </span><span style="color: #008000;">//</span><span style="color: #008000;">main()函数有argc和argv或没有，即int main() 或void main，都是合法的。</span>
<span style="color: #000000;">    QApplication app(argc, argv);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">应用程序抽象类
    </span><span style="color: #008000;">//</span><span style="color: #008000;">使用在argv中的argc个命令行参数构造一个名为app的QApplication对象。
    </span><span style="color: #008000;">//</span><span style="color: #008000;">QApplication 类管理图形用户界面应用程序的控制流和主要设置
    </span><span style="color: #008000;">//</span><span style="color: #008000;">任何一个使用Qt的图形用户界面应用程序，都存在一个QApplication对象</span>
<span style="color: #000000;">    QWidget w;
    w.resize(</span><span style="color: #800080;">400</span>, <span style="color: #800080;">400</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">QWidget类是所有用户界面对象的基类
    </span><span style="color: #008000;">//</span><span style="color: #008000;">在这里可以把它看作一个窗口，构造了一个窗口对象</span>
    w.setWindowTitle(<span style="color: #800000;">"</span><span style="color: #800000;">Hello World!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">将窗口的标题设为Hello World!</span>
<span style="color: #000000;">    QLabel textLabel;
    </span><span style="color: #008000;">//</span><span style="color: #008000;">构造一个标签</span>
    textLabel.resize(<span style="color: #800080;">100</span>,<span style="color: #800080;">15</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">设定标签宽40高15</span>
    textLabel.move(<span style="color: #800080;">150</span>, <span style="color: #800080;">170</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">将标签移动到距离左上角水平100px垂直130px的位置</span>
    textLabel.setText(<span style="color: #800000;">"</span><span style="color: #800000;">Hello World!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">标签的初始显示字符串NULL</span>
    textLabel.setParent(&amp;<span style="color: #000000;">w);
    textLabel.show();
    w.show();
    </span><span style="color: #008000;">//</span><span style="color: #008000;">显示窗体</span>
    <span style="color: #0000ff;">return</span><span style="color: #000000;"> app.exec();
    </span><span style="color: #008000;">//</span><span style="color: #008000;">exec()函数有一个消息循环，在调用之后，程序就被锁定。等待窗口的关闭</span>
}</pre>
</div>
<h3>&nbsp;四、Hello New World!</h3>
<p>　　在成功完成上述项目后我们已经不能满足于单单在窗口中显示Hello World！了，这次我们希望用一个按钮来将Hello World！改为 Hello New World！。</p>
<p>　　新建一个空的Qt项目，名为Hello New World。</p>
<p><img src="./images/Qt5——从零开始的Hello World教程(Qt Creator)14.png" alt="" width="420" height="264" /></p>
<p><img src="./images/Qt5——从零开始的Hello World教程(Qt Creator)15.png" alt="" width="423" height="265" /></p>
<p>　　一路下一步到完成，打开HelloNewWorld.pro引入Qt Widgets库，添加一句QT += widgets。</p>
<p><img src="./images/Qt5——从零开始的Hello World教程(Qt Creator)16.png" alt="" width="222" height="71" /></p>
<p>　　这次我们不像上一个项目一样一个main函数到底，我们添加一个C++类作为主窗口框架。</p>
<p>&nbsp;　　右击HelloNewWorld选择Add New添加一个C++ Class</p>
<p><img src="./images/Qt5——从零开始的Hello World教程(Qt Creator)17.png" alt="" width="386" height="121" /></p>
<p>　　我们想让这个类作为我们主窗口的对象类型，我们将其命名为MainWidget，既然MainWidget是一个窗口，我们就让MainWidget作为QWidget的一个子类。</p>
<p><img src="./images/Qt5——从零开始的Hello World教程(Qt Creator)18.png" alt="" width="453" height="263" /></p>
<p>　　将MainWidget的基类设为QWidget。</p>
<p>　　一路下一步到结束。</p>
<p>　　可以发现项目中多了两个文件，mainwidget.h 与 mainwidget.cpp。</p>
<p><strong><img src="./images/Qt5——从零开始的Hello World教程(Qt Creator)19.png" alt="" width="143" height="84" /></strong></p>
<p>　　我们的MainWidget类就声明在mainwidget.h中</p>
<p>mainwidget.h:</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">#ifndef MAINWIDGET_H
</span><span style="color: #0000ff;">#define</span> MAINWIDGET_H<span style="color: #000000;">

#include </span>&lt;QWidget&gt;

<span style="color: #0000ff;">class</span> MainWidget : <span style="color: #0000ff;">public</span> QWidget   <span style="color: #008000;">//</span><span style="color: #008000;">MainWidget的声明</span>
<span style="color: #000000;">{
    Q_OBJECT
</span><span style="color: #0000ff;">public</span><span style="color: #000000;">:
    </span><span style="color: #0000ff;">explicit</span> MainWidget(QWidget *parent =<span style="color: #000000;"> nullptr);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">MainWidget类的构造函数 因为使用了explicit所以为显式构造函数
    </span><span style="color: #008000;">//</span><span style="color: #008000;">c++ 类构造函数默认情况下即声明为implicit(隐式)
    </span><span style="color: #008000;">//</span><span style="color: #008000;">关于显示与隐式的区别这里就不介绍了，诸位若不知道可以搜索</span>
<span style="color: #000000;">signals:
    </span><span style="color: #008000;">//</span><span style="color: #008000;">这里可以用来声明信号函数</span>
<span style="color: #0000ff;">public</span><span style="color: #000000;"> slots:
    </span><span style="color: #008000;">//</span><span style="color: #008000;">这里可以用来声明槽函数</span>
<span style="color: #000000;">};

</span><span style="color: #0000ff;">#endif</span> <span style="color: #008000;">//</span><span style="color: #008000;"> MAINWIDGET_H</span></pre>
</div>
<p>mainwidget.cpp:</p>
<div class="cnblogs_code">
<pre>#include <span style="color: #800000;">"</span><span style="color: #800000;">mainwidget.h</span><span style="color: #800000;">"</span><span style="color: #000000;">

MainWidget::MainWidget(QWidget </span>*<span style="color: #000000;">parent) : QWidget(parent)
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">显示调用MainWidget构造函数
    </span><span style="color: #008000;">//</span><span style="color: #008000;">调用顺序是先调用父类QWidget的构造函数，再调用派生类的构造函数
    </span><span style="color: #008000;">//</span><span style="color: #008000;">具体可以看https:</span><span style="color: #008000;">//</span><span style="color: #008000;">www.cnblogs.com/findumars/p/9231742.html这篇博客</span>
}</pre>
</div>
<p>　　之后便可以设计一下我们的主窗口了，根据本次的要求，我们希望主窗口中有一个标签来显示我们的Hello World与Hello New World，有一个按钮来实现点击按钮转换文字，这样就可以确定我们的MainWidget中会有两个成员控件，一个QLabel一个QPushButton。</p>
<p>　　在MainWidget的声明中添加它们。</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">#ifndef MAINWIDGET_H
</span><span style="color: #0000ff;">#define</span> MAINWIDGET_H<span style="color: #000000;">

#include </span>&lt;QWidget&gt;
<span style="color: #008000;">//</span><span style="color: #008000;">添加成员变量QPushButton与QLabel标签需要引入QPushButton与QLabel类。</span>
#include &lt;QPushButton&gt;<span style="color: #000000;">
#include </span>&lt;QLabel&gt;

<span style="color: #0000ff;">class</span> MainWidget : <span style="color: #0000ff;">public</span><span style="color: #000000;"> QWidget
{
    Q_OBJECT
</span><span style="color: #0000ff;">public</span><span style="color: #000000;">:
    </span><span style="color: #0000ff;">explicit</span> MainWidget(QWidget *parent =<span style="color: #000000;"> nullptr);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">MainWidget类的构造函数 因为使用了explicit所以为显式构造函数
    </span><span style="color: #008000;">//</span><span style="color: #008000;">c++ 类构造函数默认情况下即声明为implicit(隐式)
    </span><span style="color: #008000;">//</span><span style="color: #008000;">关于显示与隐式的区别这里就不介绍了，诸位若不知道可以搜索</span>
<span style="color: #000000;">
    QPushButton</span>* button;    <span style="color: #008000;">//</span><span style="color: #008000;">成员控件按钮</span>
    QLabel* label;  <span style="color: #008000;">//</span><span style="color: #008000;">成员控件标签</span>
<span style="color: #000000;">
signals:
    </span><span style="color: #008000;">//</span><span style="color: #008000;">这里可以用来声明信号函数</span>
<span style="color: #0000ff;">public</span><span style="color: #000000;"> slots:
    </span><span style="color: #008000;">//</span><span style="color: #008000;">这里可以用来声明槽函数</span>
<span style="color: #000000;">};

</span><span style="color: #0000ff;">#endif</span> <span style="color: #008000;">//</span><span style="color: #008000;"> MAINWIDGET_H</span></pre>
</div>
<p>　　之后便可以在mainwidget.cpp中编写代码了，我们希望将主窗口设计为一个400*400，文字和按钮显示在中间，文字在按钮上方，在mainwidget.cpp中，MainWidget构造函数处做如下更改 。</p>
<div class="cnblogs_code">
<pre>MainWidget::MainWidget(QWidget *<span style="color: #000000;">parent) : QWidget(parent)
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">显示调用MainWidget构造函数
    </span><span style="color: #008000;">//</span><span style="color: #008000;">调用顺序是先调用父类QWidget的构造函数，再调用派生类的构造函数
    </span><span style="color: #008000;">//</span><span style="color: #008000;">具体可以看https:</span><span style="color: #008000;">//</span><span style="color: #008000;">www.cnblogs.com/findumars/p/9231742.html这篇博客</span>
    resize(<span style="color: #800080;">400</span>, <span style="color: #800080;">400</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">设置窗口大小为400px * 400px</span>
    label = <span style="color: #0000ff;">new</span> QLabel(<span style="color: #800000;">"</span><span style="color: #800000;">Hello World!</span><span style="color: #800000;">"</span>, <span style="color: #0000ff;">this</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">初始化控件lable文字显示为Hello World!， 父对象为当前MainWidget窗口对象</span>
    label-&gt;setGeometry(<span style="color: #800080;">150</span>, <span style="color: #800080;">100</span>, <span style="color: #800080;">130</span>, <span style="color: #800080;">50</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">lable的位置在x = 150px y = 100px 宽为100px高为50px</span>
    button = <span style="color: #0000ff;">new</span> QPushButton(<span style="color: #800000;">"</span><span style="color: #800000;">change</span><span style="color: #800000;">"</span>, <span style="color: #0000ff;">this</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">初始化控件button文字显示为change， 父对象为当前MainWidget窗口对象</span>
    button-&gt;setGeometry(<span style="color: #800080;">150</span>, <span style="color: #800080;">175</span>, <span style="color: #800080;">130</span>, <span style="color: #800080;">50</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">button的位置在x = 150px y = 175px 宽为100px高为50px</span>
}</pre>
</div>
<p>　　之后设计主函数，在主函数中构建一个MainWidget窗口w，将它显示出来。</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">int</span> main(<span style="color: #0000ff;">int</span> argc, <span style="color: #0000ff;">char</span>*<span style="color: #000000;"> argv[]){
    QApplication app(argc, argv);

    MainWidget w;   </span><span style="color: #008000;">//</span><span style="color: #008000;">构建一个MainWidget窗口w</span><span style="color: #000000;">
    w.show();   </span><span style="color: #008000;">//</span><span style="color: #008000;">显示w</span>

    <span style="color: #0000ff;">return</span><span style="color: #000000;"> app.exec();
}</span></pre>
</div>
<p>　　不要忘记引入QApplication。</p>
<h3>　　以下为当前mainwidget.cpp的全部代码</h3>
<p>　　</p>
<div class="cnblogs_code">
<pre>#include <span style="color: #800000;">"</span><span style="color: #800000;">mainwidget.h</span><span style="color: #800000;">"</span><span style="color: #000000;">
#include</span>&lt;QApplication&gt;<span style="color: #000000;">

MainWidget::MainWidget(QWidget </span>*<span style="color: #000000;">parent) : QWidget(parent)
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">显示调用MainWidget构造函数
    </span><span style="color: #008000;">//</span><span style="color: #008000;">调用顺序是先调用父类QWidget的构造函数，再调用派生类的构造函数
    </span><span style="color: #008000;">//</span><span style="color: #008000;">具体可以看https:</span><span style="color: #008000;">//</span><span style="color: #008000;">www.cnblogs.com/findumars/p/9231742.html这篇博客</span>
    resize(<span style="color: #800080;">400</span>, <span style="color: #800080;">400</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">设置窗口大小为400px * 400px</span>
    label = <span style="color: #0000ff;">new</span> QLabel(<span style="color: #800000;">"</span><span style="color: #800000;">Hello World!</span><span style="color: #800000;">"</span>, <span style="color: #0000ff;">this</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">初始化控件lable文字显示为Hello World!， 父对象为当前MainWidget窗口对象</span>
    label-&gt;setGeometry(<span style="color: #800080;">150</span>, <span style="color: #800080;">100</span>, <span style="color: #800080;">130</span>, <span style="color: #800080;">50</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">lable的位置在x = 150px y = 100px 宽为100px高为50px</span>
    button = <span style="color: #0000ff;">new</span> QPushButton(<span style="color: #800000;">"</span><span style="color: #800000;">change</span><span style="color: #800000;">"</span>, <span style="color: #0000ff;">this</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">初始化控件button文字显示为change， 父对象为当前MainWidget窗口对象</span>
    button-&gt;setGeometry(<span style="color: #800080;">150</span>, <span style="color: #800080;">175</span>, <span style="color: #800080;">130</span>, <span style="color: #800080;">50</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">button的位置在x = 150px y = 175px 宽为100px高为50px</span>
<span style="color: #000000;">}
</span><span style="color: #0000ff;">int</span> main(<span style="color: #0000ff;">int</span> argc, <span style="color: #0000ff;">char</span>*<span style="color: #000000;"> argv[]){
    QApplication app(argc, argv);

    MainWidget w;   </span><span style="color: #008000;">//</span><span style="color: #008000;">构建一个MainWidget窗口w</span>
    w.show();   <span style="color: #008000;">//</span><span style="color: #008000;">显示w</span>

    <span style="color: #0000ff;">return</span><span style="color: #000000;"> app.exec();
}</span></pre>
</div>
<p>　　运行一下</p>
<p>　　<img src="./images/Qt5——从零开始的Hello World教程(Qt Creator)20.png" alt="" width="264" height="292" /></p>
<p>　　一个符合我们设计要求的窗口已经完成了。</p>
<p>　　之后就要开始完成点击按钮更换文字的功能了，这里就用到了信号和槽的知识。</p>
<p>　　在QObject类中有一个connect函数其中要求传入四个参数，第一个参数为被用户操作的对象（发出信号的对象当前为我们的change按钮），第二个参数是一个被操作信号（当前为按钮被点击clicked()），第三个参数是我们要进行操作的对象（接受信号的对象当前为我们的主窗体w），第四个参数为对应的槽函数（这就需要我们自己设计一个槽函数了，我们将这个槽函数命名为changeText）。</p>
<p>　　</p>
<div class="cnblogs_code">
<pre> QObject::connect(w.button, SIGNAL(clicked()), &amp;w, SLOT(changeText()));</pre>
</div>
<p>　　当然，Qt中QObject是绝大多数类的基类，包括QWidget，而我们的MainWidget又是QWidget的子类，所以如下写法依然正确。</p>
<div class="cnblogs_code">
<pre>MainWidget::connect(w.button, SIGNAL(clicked()), &amp;w, SLOT(changeText()));</pre>
</div>
<p>　　之后我们就要在MainWidget的声明中去声明和定义槽函数了（可以只声明，在mainwidget.cpp中定义）。</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">public</span><span style="color: #000000;"> slots:
    </span><span style="color: #008000;">//</span><span style="color: #008000;">这里可以用来声明槽函数</span>
    <span style="color: #0000ff;">void</span><span style="color: #000000;"> changeText(){
        label</span>-&gt;setText(<span style="color: #800000;">"</span><span style="color: #800000;">Hello New World!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    }
};</span></pre>
</div>
<p>　　运行一下</p>
<p><img src="./images/Qt5——从零开始的Hello World教程(Qt Creator)21.png" alt="" width="238" height="257" /></p>
<p>　　点击change</p>
<p><img src="./images/Qt5——从零开始的Hello World教程(Qt Creator)22.png" alt="" width="243" height="252" /></p>
<p>　　完整代码：</p>
<p>　　HelloNewWorld.pro:</p>
<div class="cnblogs_code">
<pre>QT +=<span style="color: #000000;"> widgets

HEADERS </span>+=<span style="color: #000000;"> \
    mainwidget.h

SOURCES </span>+=<span style="color: #000000;"> \
    mainwidget.cpp</span></pre>
</div>
<p>　　mainwidget.h:</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">#ifndef MAINWIDGET_H
</span><span style="color: #0000ff;">#define</span> MAINWIDGET_H<span style="color: #000000;">

#include </span>&lt;QWidget&gt;
<span style="color: #008000;">//</span><span style="color: #008000;">添加成员变量QPushButton与QLabel标签需要引入QPushButton与QLabel类。</span>
#include &lt;QPushButton&gt;<span style="color: #000000;">
#include </span>&lt;QLabel&gt;

<span style="color: #0000ff;">class</span> MainWidget : <span style="color: #0000ff;">public</span> QWidget   <span style="color: #008000;">//</span><span style="color: #008000;">MainWidget的声明</span>
<span style="color: #000000;">{
    Q_OBJECT
</span><span style="color: #0000ff;">public</span><span style="color: #000000;">:
    </span><span style="color: #0000ff;">explicit</span> MainWidget(QWidget *parent =<span style="color: #000000;"> nullptr);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">MainWidget类的构造函数 因为使用了explicit所以为显式构造函数
    </span><span style="color: #008000;">//</span><span style="color: #008000;">c++ 类构造函数默认情况下即声明为implicit(隐式)
    </span><span style="color: #008000;">//</span><span style="color: #008000;">关于显示与隐式的区别这里就不介绍了，诸位若不知道可以搜索</span>
<span style="color: #000000;">
    QPushButton</span>* button;    <span style="color: #008000;">//</span><span style="color: #008000;">成员控件按钮</span>
    QLabel* label;  <span style="color: #008000;">//</span><span style="color: #008000;">成员控件标签</span>
<span style="color: #000000;">
signals:
    </span><span style="color: #008000;">//</span><span style="color: #008000;">这里可以用来声明信号函数</span>
<span style="color: #0000ff;">public</span><span style="color: #000000;"> slots:
    </span><span style="color: #008000;">//</span><span style="color: #008000;">这里可以用来声明槽函数</span>
    <span style="color: #0000ff;">void</span><span style="color: #000000;"> changeText(){
        label</span>-&gt;setText(<span style="color: #800000;">"</span><span style="color: #800000;">Hello New World!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    }
};

</span><span style="color: #0000ff;">#endif</span> <span style="color: #008000;">//</span><span style="color: #008000;"> MAINWIDGET_H</span></pre>
</div>
<p>　　mainwidget.cpp:</p>
<div class="cnblogs_code">
<pre>#include <span style="color: #800000;">"</span><span style="color: #800000;">mainwidget.h</span><span style="color: #800000;">"</span><span style="color: #000000;">
#include</span>&lt;QApplication&gt;<span style="color: #000000;">

MainWidget::MainWidget(QWidget </span>*<span style="color: #000000;">parent) : QWidget(parent)
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">显示调用MainWidget构造函数
    </span><span style="color: #008000;">//</span><span style="color: #008000;">调用顺序是先调用父类QWidget的构造函数，再调用派生类的构造函数
    </span><span style="color: #008000;">//</span><span style="color: #008000;">具体可以看https:</span><span style="color: #008000;">//</span><span style="color: #008000;">www.cnblogs.com/findumars/p/9231742.html这篇博客</span>
    resize(<span style="color: #800080;">400</span>, <span style="color: #800080;">400</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">设置窗口大小为400px * 400px</span>
    label = <span style="color: #0000ff;">new</span> QLabel(<span style="color: #800000;">"</span><span style="color: #800000;">Hello World!</span><span style="color: #800000;">"</span>, <span style="color: #0000ff;">this</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">初始化控件lable文字显示为Hello World!， 父对象为当前MainWidget窗口对象</span>
    label-&gt;setGeometry(<span style="color: #800080;">150</span>, <span style="color: #800080;">100</span>, <span style="color: #800080;">130</span>, <span style="color: #800080;">50</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">lable的位置在x = 150px y = 100px 宽为100px高为50px</span>
    button = <span style="color: #0000ff;">new</span> QPushButton(<span style="color: #800000;">"</span><span style="color: #800000;">change</span><span style="color: #800000;">"</span>, <span style="color: #0000ff;">this</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">初始化控件button文字显示为change， 父对象为当前MainWidget窗口对象</span>
    button-&gt;setGeometry(<span style="color: #800080;">150</span>, <span style="color: #800080;">175</span>, <span style="color: #800080;">130</span>, <span style="color: #800080;">50</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">button的位置在x = 150px y = 175px 宽为100px高为50px</span>
<span style="color: #000000;">}
</span><span style="color: #0000ff;">int</span> main(<span style="color: #0000ff;">int</span> argc, <span style="color: #0000ff;">char</span>*<span style="color: #000000;"> argv[]){
    QApplication app(argc, argv);

    MainWidget w;   </span><span style="color: #008000;">//</span><span style="color: #008000;">构建一个MainWidget窗口w</span>
    w.show();   <span style="color: #008000;">//</span><span style="color: #008000;">显示w</span>
<span style="color: #000000;">
    QObject::connect(w.button, SIGNAL(clicked()), </span>&amp;<span style="color: #000000;">w, SLOT(changeText()));

    </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> app.exec();
}</span></pre>
</div>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>