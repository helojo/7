<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修C语言实现-航空订票系统（飞机订票系统）' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>C语言实现-航空订票系统（飞机订票系统）</center></div><div class='banquan'>原文出处:本文由博客园博主Love丶伊卡洛斯提供。<br/>
原文连接:https://www.cnblogs.com/ikaros-521/p/11180065.html</div><br>
    <p>开发环境：CodeBlocks</p>
<p>开发语言：C</p>
<p>实现功能：登录，订票，退票</p>
<p>数据存储：文本读写</p>
<p>涉及文件：</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="2"><img class="has cke_widget_element" src="./images/C语言实现-航空订票系统（飞机订票系统）0.png" alt="" width="615" height="169" data-cke-saved-src="./images/C语言实现-航空订票系统（飞机订票系统）0.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/C语言实现-航空订票系统（飞机订票系统）0.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;615&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;169&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /><span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /><span class="cke_image_resizer" title="点击并拖拽以改变尺寸">​</span></span></span></p>
<p>相关文件下载：</p>
<p>码云：<a href="https://gitee.com/ikaros-521/c_project/tree/master/%E9%A3%9E%E6%9C%BA%E8%AE%A2%E7%A5%A8%E7%B3%BB%E7%BB%9F%EF%BC%88%E8%88%AA%E7%A9%BA%E8%AE%A2%E7%A5%A8%E7%B3%BB%E7%BB%9F%EF%BC%89" target="_blank">传送门</a>&nbsp;GitHub：<a href="https://github.com/Ikaros-521/Airline_Reservation_System" data-cke-saved-href="https://github.com/Ikaros-521/Airline_Reservation_System">传送门</a><a href="https://gitee.com/ikaros-521/c_project/tree/master/%E9%A3%9E%E6%9C%BA%E8%AE%A2%E7%A5%A8%E7%B3%BB%E7%BB%9F%EF%BC%88%E8%88%AA%E7%A9%BA%E8%AE%A2%E7%A5%A8%E7%B3%BB%E7%BB%9F%EF%BC%89" data-cke-saved-href="https://gitee.com/ikaros-521/c_project/tree/master/%E9%A3%9E%E6%9C%BA%E8%AE%A2%E7%A5%A8%E7%B3%BB%E7%BB%9F%EF%BC%88%E8%88%AA%E7%A9%BA%E8%AE%A2%E7%A5%A8%E7%B3%BB%E7%BB%9F%EF%BC%89"><br /></a></p>
<p><strong>相关图片（仅供参考）：程序是没有涉及旅行社的</strong></p>
<p>ER图：</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="8"><img class="has cke_widget_element" src="./images/C语言实现-航空订票系统（飞机订票系统）2.png" alt="" width="552" height="322" data-cke-saved-src="./images/C语言实现-航空订票系统（飞机订票系统）2.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/C语言实现-航空订票系统（飞机订票系统）2.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;552&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;322&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /><span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /><span class="cke_image_resizer" title="点击并拖拽以改变尺寸">​</span></span></span></p>
<p>数据库：</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="7"><img class="has cke_widget_element" src="./images/C语言实现-航空订票系统（飞机订票系统）4.png" alt="" width="582" height="342" data-cke-saved-src="./images/C语言实现-航空订票系统（飞机订票系统）4.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/C语言实现-航空订票系统（飞机订票系统）4.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;582&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;342&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /><span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /><span class="cke_image_resizer" title="点击并拖拽以改变尺寸">​</span></span></span></p>
<p>类图：</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="6"><img class="has cke_widget_element" src="./images/C语言实现-航空订票系统（飞机订票系统）6.png" alt="" width="838" height="408" data-cke-saved-src="./images/C语言实现-航空订票系统（飞机订票系统）6.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/C语言实现-航空订票系统（飞机订票系统）6.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;838&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;408&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /><span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /><span class="cke_image_resizer" title="点击并拖拽以改变尺寸">​</span></span></span></p>
<p>用例图：</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="5"><img class="has cke_widget_element" src="./images/C语言实现-航空订票系统（飞机订票系统）8.png" alt="" width="741" height="487" data-cke-saved-src="./images/C语言实现-航空订票系统（飞机订票系统）8.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/C语言实现-航空订票系统（飞机订票系统）8.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;741&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;487&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /><span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /><span class="cke_image_resizer" title="点击并拖拽以改变尺寸">​</span></span></span></p>
<p>订票顺序图：</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="4"><img class="has cke_widget_element" src="./images/C语言实现-航空订票系统（飞机订票系统）10.png" alt="" width="887" height="685" data-cke-saved-src="./images/C语言实现-航空订票系统（飞机订票系统）10.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/C语言实现-航空订票系统（飞机订票系统）10.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;887&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;685&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /><span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /><span class="cke_image_resizer" title="点击并拖拽以改变尺寸">​</span></span></span></p>
<p>订票状态图：</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="3"><img class="has cke_widget_element" src="./images/C语言实现-航空订票系统（飞机订票系统）12.png" alt="" width="965" height="583" data-cke-saved-src="./images/C语言实现-航空订票系统（飞机订票系统）12.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/C语言实现-航空订票系统（飞机订票系统）12.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;965&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;583&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /><span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /><span class="cke_image_resizer" title="点击并拖拽以改变尺寸">​</span></span></span></p>
<p>登录活动图：</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="2"><img class="has cke_widget_element" src="./images/C语言实现-航空订票系统（飞机订票系统）14.png" alt="" width="710" height="749" data-cke-saved-src="./images/C语言实现-航空订票系统（飞机订票系统）14.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/C语言实现-航空订票系统（飞机订票系统）14.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;710&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;749&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /><span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /><span class="cke_image_resizer" title="点击并拖拽以改变尺寸">​</span></span></span></p>
<p><em>以上图片仅供参考，请自行斟酌</em></p>
<p>程序主界面：</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="1"><img class="has cke_widget_element" src="./images/C语言实现-航空订票系统（飞机订票系统）16.png" alt="" width="977" height="512" data-cke-saved-src="./images/C语言实现-航空订票系统（飞机订票系统）16.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/C语言实现-航空订票系统（飞机订票系统）16.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;977&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;512&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /><span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /><span class="cke_image_resizer" title="点击并拖拽以改变尺寸">​</span></span></span></p>
<p>源码如下：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">  1</span> #include &lt;stdio.h&gt;
<span style="color: #008080;">  2</span> #include &lt;stdlib.h&gt;
<span style="color: #008080;">  3</span> #include &lt;<span style="color: #0000ff;">string</span>.h&gt;
<span style="color: #008080;">  4</span> #include &lt;stdbool.h&gt;
<span style="color: #008080;">  5</span> <span style="color: #008000;">//</span><span style="color: #008000;">#include "getch.h"</span>
<span style="color: #008080;">  6</span> #include &lt;conio.h&gt;
<span style="color: #008080;">  7</span> <span style="color: #0000ff;">#define</span> MAX_Flight 50
<span style="color: #008080;">  8</span> <span style="color: #0000ff;">#define</span> MAX_Passenger 20
<span style="color: #008080;">  9</span> <span style="color: #0000ff;">#define</span> MAX_Order 50
<span style="color: #008080;"> 10</span> 
<span style="color: #008080;"> 11</span> typedef <span style="color: #0000ff;">struct</span><span style="color: #000000;"> Flight
</span><span style="color: #008080;"> 12</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 13</span>     <span style="color: #0000ff;">char</span> fid[<span style="color: #800080;">20</span>];         <span style="color: #008000;">//</span><span style="color: #008000;">航班号</span>
<span style="color: #008080;"> 14</span>     <span style="color: #0000ff;">char</span> fname[<span style="color: #800080;">20</span>];    <span style="color: #008000;">//</span><span style="color: #008000;">航班名称</span>
<span style="color: #008080;"> 15</span>     <span style="color: #0000ff;">char</span> start[<span style="color: #800080;">10</span>];  <span style="color: #008000;">//</span><span style="color: #008000;">起点</span>
<span style="color: #008080;"> 16</span>     <span style="color: #0000ff;">char</span> end[<span style="color: #800080;">10</span>];     <span style="color: #008000;">//</span><span style="color: #008000;">终点</span>
<span style="color: #008080;"> 17</span>     <span style="color: #0000ff;">int</span> fnum;    <span style="color: #008000;">//</span><span style="color: #008000;">票数</span>
<span style="color: #008080;"> 18</span> <span style="color: #000000;">}Flight;
</span><span style="color: #008080;"> 19</span> 
<span style="color: #008080;"> 20</span> typedef <span style="color: #0000ff;">struct</span><span style="color: #000000;"> Passenger
</span><span style="color: #008080;"> 21</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 22</span>     <span style="color: #0000ff;">char</span> pid[<span style="color: #800080;">20</span>];    <span style="color: #008000;">//</span><span style="color: #008000;">身份证</span>
<span style="color: #008080;"> 23</span>     <span style="color: #0000ff;">char</span> pname[<span style="color: #800080;">10</span>];    <span style="color: #008000;">//</span><span style="color: #008000;">姓名</span>
<span style="color: #008080;"> 24</span>     <span style="color: #0000ff;">char</span> password[<span style="color: #800080;">20</span>];    <span style="color: #008000;">//</span><span style="color: #008000;">密码</span>
<span style="color: #008080;"> 25</span>     <span style="color: #0000ff;">char</span> tell[<span style="color: #800080;">20</span>];    <span style="color: #008000;">//</span><span style="color: #008000;">电话</span>
<span style="color: #008080;"> 26</span> <span style="color: #000000;">}Passenger;
</span><span style="color: #008080;"> 27</span> 
<span style="color: #008080;"> 28</span> typedef <span style="color: #0000ff;">struct</span><span style="color: #000000;"> Order
</span><span style="color: #008080;"> 29</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 30</span>     <span style="color: #0000ff;">char</span> pid[<span style="color: #800080;">20</span>];    <span style="color: #008000;">//</span><span style="color: #008000;">身份证</span>
<span style="color: #008080;"> 31</span>     <span style="color: #0000ff;">char</span> fid[<span style="color: #800080;">20</span>];    <span style="color: #008000;">//</span><span style="color: #008000;">航班号</span>
<span style="color: #008080;"> 32</span>     <span style="color: #0000ff;">int</span> num;    <span style="color: #008000;">//</span><span style="color: #008000;">票数</span>
<span style="color: #008080;"> 33</span> <span style="color: #000000;">}Order;
</span><span style="color: #008080;"> 34</span> 
<span style="color: #008080;"> 35</span> Flight *<span style="color: #000000;">FLI;
</span><span style="color: #008080;"> 36</span> Passenger *<span style="color: #000000;">PAS;
</span><span style="color: #008080;"> 37</span> Order *<span style="color: #000000;">ORD;
</span><span style="color: #008080;"> 38</span> 
<span style="color: #008080;"> 39</span> <span style="color: #0000ff;">char</span> start[<span style="color: #800080;">10</span>]; <span style="color: #008000;">//</span><span style="color: #008000;">起点</span>
<span style="color: #008080;"> 40</span> <span style="color: #0000ff;">char</span> end[<span style="color: #800080;">10</span>];   <span style="color: #008000;">//</span><span style="color: #008000;">终点</span>
<span style="color: #008080;"> 41</span> <span style="color: #0000ff;">char</span> search_fid[<span style="color: #800080;">50</span>][<span style="color: #800080;">20</span>];    <span style="color: #008000;">//</span><span style="color: #008000;">符合条件的航班号</span>
<span style="color: #008080;"> 42</span> <span style="color: #0000ff;">int</span> search_fnum[<span style="color: #800080;">50</span>];    <span style="color: #008000;">//</span><span style="color: #008000;">符合条件的航班票数</span>
<span style="color: #008080;"> 43</span> <span style="color: #0000ff;">int</span> online = <span style="color: #800080;">0</span>; <span style="color: #008000;">//</span><span style="color: #008000;">是否登录的变量</span>
<span style="color: #008080;"> 44</span> <span style="color: #0000ff;">char</span> online_pid[<span style="color: #800080;">20</span>];    <span style="color: #008000;">//</span><span style="color: #008000;">在线用户的身份证</span>
<span style="color: #008080;"> 45</span> <span style="color: #0000ff;">int</span> search_num = <span style="color: #800080;">0</span>;    <span style="color: #008000;">//</span><span style="color: #008000;">符合条件的航班数</span>
<span style="color: #008080;"> 46</span> 
<span style="color: #008080;"> 47</span> <span style="color: #0000ff;">void</span> init_sys(<span style="color: #0000ff;">void</span>);    <span style="color: #008000;">//</span><span style="color: #008000;"> 系统初始化</span>
<span style="color: #008080;"> 48</span> <span style="color: #0000ff;">void</span> show_flight(<span style="color: #0000ff;">void</span>);    <span style="color: #008000;">//</span><span style="color: #008000;"> 显示航班表</span>
<span style="color: #008080;"> 49</span> <span style="color: #0000ff;">void</span> start_sys(<span style="color: #0000ff;">void</span>);    <span style="color: #008000;">//</span><span style="color: #008000;"> 系统开始运行</span>
<span style="color: #008080;"> 50</span> <span style="color: #0000ff;">void</span> exit_sys(<span style="color: #0000ff;">void</span>);    <span style="color: #008000;">//</span><span style="color: #008000;"> 退出系统</span>
<span style="color: #008080;"> 51</span> <span style="color: #0000ff;">void</span> menu(<span style="color: #0000ff;">void</span>);        <span style="color: #008000;">//</span><span style="color: #008000;"> 生成主菜单</span>
<span style="color: #008080;"> 52</span> <span style="color: #0000ff;">void</span> login(<span style="color: #0000ff;">void</span>);       <span style="color: #008000;">//</span><span style="color: #008000;"> 登录</span>
<span style="color: #008080;"> 53</span> <span style="color: #0000ff;">void</span> logout(<span style="color: #0000ff;">void</span>);  <span style="color: #008000;">//</span><span style="color: #008000;">用户登出</span>
<span style="color: #008080;"> 54</span> <span style="color: #0000ff;">void</span> passenger_info(<span style="color: #0000ff;">void</span>);  <span style="color: #008000;">//</span><span style="color: #008000;">查询旅客信息</span>
<span style="color: #008080;"> 55</span> <span style="color: #0000ff;">bool</span> change_pas_info(<span style="color: #0000ff;">void</span>); <span style="color: #008000;">//</span><span style="color: #008000;">修改旅客信息</span>
<span style="color: #008080;"> 56</span> <span style="color: #0000ff;">void</span> search_start(<span style="color: #0000ff;">void</span>);    <span style="color: #008000;">//</span><span style="color: #008000;"> 生成查询页面</span>
<span style="color: #008080;"> 57</span> <span style="color: #0000ff;">bool</span> search(<span style="color: #0000ff;">void</span>);    <span style="color: #008000;">//</span><span style="color: #008000;"> 查询航班</span>
<span style="color: #008080;"> 58</span> <span style="color: #0000ff;">void</span> order_list(<span style="color: #0000ff;">void</span>);    <span style="color: #008000;">//</span><span style="color: #008000;"> 生成订单表</span>
<span style="color: #008080;"> 59</span> <span style="color: #0000ff;">void</span> del_order(<span style="color: #0000ff;">void</span>);    <span style="color: #008000;">//</span><span style="color: #008000;"> 退票</span>
<span style="color: #008080;"> 60</span> <span style="color: #0000ff;">void</span> clear_stdin(<span style="color: #0000ff;">void</span>);    <span style="color: #008000;">//</span><span style="color: #008000;"> 清除输入缓冲区</span>
<span style="color: #008080;"> 61</span> <span style="color: #0000ff;">char</span>* get_str(<span style="color: #0000ff;">char</span>* str,size_t len);  <span style="color: #008000;">//</span><span style="color: #008000;"> 获取字符串</span>
<span style="color: #008080;"> 62</span> <span style="color: #0000ff;">char</span> get_cmd(<span style="color: #0000ff;">char</span> start,<span style="color: #0000ff;">char</span> end);    <span style="color: #008000;">//</span><span style="color: #008000;"> 获取cmd命令</span>
<span style="color: #008080;"> 63</span> 
<span style="color: #008080;"> 64</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
</span><span style="color: #008080;"> 65</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 66</span> <span style="color: #000000;">    init_sys();
</span><span style="color: #008080;"> 67</span> <span style="color: #000000;">    start_sys();
</span><span style="color: #008080;"> 68</span> <span style="color: #000000;">    exit_sys();
</span><span style="color: #008080;"> 69</span>     <span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 70</span> <span style="color: #000000;">}
</span><span style="color: #008080;"> 71</span> 
<span style="color: #008080;"> 72</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 系统初始化</span>
<span style="color: #008080;"> 73</span> <span style="color: #0000ff;">void</span> init_sys(<span style="color: #0000ff;">void</span><span style="color: #000000;">)
</span><span style="color: #008080;"> 74</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 75</span>     <span style="color: #008000;">//</span><span style="color: #008000;"> 申请堆内存、加载数据</span>
<span style="color: #008080;"> 76</span>     FLI = <span style="color: #0000ff;">calloc</span>(MAX_Flight,<span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(Flight));
</span><span style="color: #008080;"> 77</span>     PAS = <span style="color: #0000ff;">calloc</span>(MAX_Passenger,<span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(Passenger));
</span><span style="color: #008080;"> 78</span>     ORD = <span style="color: #0000ff;">calloc</span>(MAX_Order,<span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(Order));
</span><span style="color: #008080;"> 79</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">system_init...\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 80</span> 
<span style="color: #008080;"> 81</span>     FILE* ofrp = fopen(<span style="color: #800000;">"</span><span style="color: #800000;">order.txt</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">r</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 82</span>     <span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 83</span>     <span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>; i&lt;MAX_Order; i++)    <span style="color: #008000;">//</span><span style="color: #008000;">读取文本中的数据到内存</span>
<span style="color: #008080;"> 84</span>     {    <span style="color: #0000ff;">int</span> num = <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 85</span>         num = fscanf(ofrp,<span style="color: #800000;">"</span><span style="color: #800000;">%s %s %d\n</span><span style="color: #800000;">"</span>,ORD[i].pid,ORD[i].fid,&amp;<span style="color: #000000;">ORD[i].num);
</span><span style="color: #008080;"> 86</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 87</span> 
<span style="color: #008080;"> 88</span>     FILE* ffrp = fopen(<span style="color: #800000;">"</span><span style="color: #800000;">flight.txt</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">r</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 89</span>     <span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>; i&lt;MAX_Flight; i++<span style="color: #000000;">)
</span><span style="color: #008080;"> 90</span> <span style="color: #000000;">    {
</span><span style="color: #008080;"> 91</span>         <span style="color: #0000ff;">int</span> num = <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 92</span>         num = fscanf(ffrp,<span style="color: #800000;">"</span><span style="color: #800000;">%s %s %s %s %d\n</span><span style="color: #800000;">"</span>,FLI[i].fid,FLI[i].fname,FLI[i].start,FLI[i].end,&amp;<span style="color: #000000;">FLI[i].fnum);
</span><span style="color: #008080;"> 93</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 94</span> 
<span style="color: #008080;"> 95</span>     FILE* pfrp = fopen(<span style="color: #800000;">"</span><span style="color: #800000;">passenger.txt</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">r</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 96</span>     <span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>; i&lt;MAX_Passenger; i++<span style="color: #000000;">)
</span><span style="color: #008080;"> 97</span> <span style="color: #000000;">    {
</span><span style="color: #008080;"> 98</span>         <span style="color: #0000ff;">int</span> num = <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 99</span>         num = fscanf(pfrp,<span style="color: #800000;">"</span><span style="color: #800000;">%s %s %s %s\n</span><span style="color: #800000;">"</span><span style="color: #000000;">,PAS[i].pid,PAS[i].pname,PAS[i].password,PAS[i].tell);
</span><span style="color: #008080;">100</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">101</span> <span style="color: #000000;">}
</span><span style="color: #008080;">102</span> 
<span style="color: #008080;">103</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 显示航班表</span>
<span style="color: #008080;">104</span> <span style="color: #0000ff;">void</span> show_flight(<span style="color: #0000ff;">void</span><span style="color: #000000;">)
</span><span style="color: #008080;">105</span> <span style="color: #000000;">{
</span><span style="color: #008080;">106</span>     <span style="color: #0000ff;">int</span> i = <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">107</span>     <span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>; i&lt;MAX_Flight; i++<span style="color: #000000;">)
</span><span style="color: #008080;">108</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">109</span>         <span style="color: #0000ff;">if</span>(strlen(FLI[i].fid) != <span style="color: #800080;">0</span><span style="color: #000000;">)
</span><span style="color: #008080;">110</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">111</span>             printf(<span style="color: #800000;">"</span><span style="color: #800000;">id:%s name:%s start:%s end:%s fnum:%d\n</span><span style="color: #800000;">"</span><span style="color: #000000;">,FLI[i].fid,FLI[i].fname,FLI[i].start,FLI[i].end,FLI[i].fnum);
</span><span style="color: #008080;">112</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">113</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">114</span> <span style="color: #000000;">}
</span><span style="color: #008080;">115</span> 
<span style="color: #008080;">116</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 系统开始运行</span>
<span style="color: #008080;">117</span> <span style="color: #0000ff;">void</span> start_sys(<span style="color: #0000ff;">void</span><span style="color: #000000;">)
</span><span style="color: #008080;">118</span> <span style="color: #000000;">{
</span><span style="color: #008080;">119</span>     <span style="color: #008000;">//</span><span style="color: #008000;"> 进入系统的业务流程控制
</span><span style="color: #008080;">120</span>     <span style="color: #008000;">//</span><span style="color: #008000;">printf("系统开始运行...\n");
</span><span style="color: #008080;">121</span>     <span style="color: #008000;">//</span><span style="color: #008000;">show_flight();</span>
<span style="color: #008080;">122</span>     <span style="color: #0000ff;">while</span>(<span style="color: #0000ff;">true</span><span style="color: #000000;">)
</span><span style="color: #008080;">123</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">124</span> <span style="color: #000000;">        menu();
</span><span style="color: #008080;">125</span>         <span style="color: #0000ff;">switch</span>(get_cmd(<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">7</span><span style="color: #800000;">'</span><span style="color: #000000;">))
</span><span style="color: #008080;">126</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">127</span>         <span style="color: #0000ff;">case</span> <span style="color: #800000;">'</span><span style="color: #800000;">1</span><span style="color: #800000;">'</span>: search_start(); <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">128</span>         <span style="color: #0000ff;">case</span> <span style="color: #800000;">'</span><span style="color: #800000;">2</span><span style="color: #800000;">'</span>: order_list(); <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">129</span>         <span style="color: #0000ff;">case</span> <span style="color: #800000;">'</span><span style="color: #800000;">3</span><span style="color: #800000;">'</span>: del_order(); <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">130</span>         <span style="color: #0000ff;">case</span> <span style="color: #800000;">'</span><span style="color: #800000;">4</span><span style="color: #800000;">'</span>: passenger_info(); <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">131</span>         <span style="color: #0000ff;">case</span> <span style="color: #800000;">'</span><span style="color: #800000;">5</span><span style="color: #800000;">'</span>: change_pas_info(); <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">132</span>         <span style="color: #0000ff;">case</span> <span style="color: #800000;">'</span><span style="color: #800000;">6</span><span style="color: #800000;">'</span>: login(); <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">133</span>         <span style="color: #0000ff;">case</span> <span style="color: #800000;">'</span><span style="color: #800000;">7</span><span style="color: #800000;">'</span>: logout(); <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">134</span>         <span style="color: #0000ff;">case</span> <span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>: <span style="color: #0000ff;">return</span><span style="color: #000000;">;
</span><span style="color: #008080;">135</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">136</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">137</span> <span style="color: #000000;">}
</span><span style="color: #008080;">138</span> 
<span style="color: #008080;">139</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 系统结束</span>
<span style="color: #008080;">140</span> <span style="color: #0000ff;">void</span> exit_sys(<span style="color: #0000ff;">void</span><span style="color: #000000;">)
</span><span style="color: #008080;">141</span> <span style="color: #000000;">{
</span><span style="color: #008080;">142</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">data insert...\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">143</span>     FILE* ofwp = fopen(<span style="color: #800000;">"</span><span style="color: #800000;">order.txt</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">w</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">144</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">ready insert order.txt\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">145</span>     <span style="color: #0000ff;">int</span> i= <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">146</span>     <span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>; i&lt;MAX_Order; i++)    <span style="color: #008000;">//</span><span style="color: #008000;">数据存储回本地</span>
<span style="color: #008080;">147</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">148</span>         <span style="color: #0000ff;">int</span> num = <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">149</span>         <span style="color: #0000ff;">if</span>(strlen(ORD[i].pid) != <span style="color: #800080;">0</span><span style="color: #000000;">)
</span><span style="color: #008080;">150</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">151</span>             num = fprintf(ofwp,<span style="color: #800000;">"</span><span style="color: #800000;">%s %s %d\n</span><span style="color: #800000;">"</span><span style="color: #000000;">,ORD[i].pid,ORD[i].fid,ORD[i].num);
</span><span style="color: #008080;">152</span>             <span style="color: #008000;">//</span><span style="color: #008000;">printf("insert order.txt success\n");</span>
<span style="color: #008080;">153</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">154</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">155</span> 
<span style="color: #008080;">156</span>     FILE* ffwp = fopen(<span style="color: #800000;">"</span><span style="color: #800000;">flight.txt</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">w</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">157</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">insert flight.txt\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">158</span>     <span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>; i&lt;MAX_Flight; i++<span style="color: #000000;">)
</span><span style="color: #008080;">159</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">160</span>         <span style="color: #0000ff;">int</span> num = <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">161</span>         <span style="color: #0000ff;">if</span>(strlen(FLI[i].fid) != <span style="color: #800080;">0</span><span style="color: #000000;">)
</span><span style="color: #008080;">162</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">163</span>             num = fprintf(ffwp,<span style="color: #800000;">"</span><span style="color: #800000;">%s %s %s %s %d\n</span><span style="color: #800000;">"</span><span style="color: #000000;">,FLI[i].fid,FLI[i].fname,FLI[i].start,FLI[i].end,FLI[i].fnum);
</span><span style="color: #008080;">164</span>             <span style="color: #008000;">//</span><span style="color: #008000;">printf("insert flight.txt success\n");</span>
<span style="color: #008080;">165</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">166</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">167</span> 
<span style="color: #008080;">168</span>     FILE* pfwp = fopen(<span style="color: #800000;">"</span><span style="color: #800000;">passenger.txt</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">w</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">169</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">insert passenger.txt\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">170</span>     <span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>; i&lt;MAX_Passenger; i++<span style="color: #000000;">)
</span><span style="color: #008080;">171</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">172</span>         <span style="color: #0000ff;">int</span> num = <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">173</span>         <span style="color: #0000ff;">if</span>(strlen(PAS[i].pid) != <span style="color: #800080;">0</span><span style="color: #000000;">)
</span><span style="color: #008080;">174</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">175</span>             num = fprintf(pfwp,<span style="color: #800000;">"</span><span style="color: #800000;">%s %s %s %s\n</span><span style="color: #800000;">"</span><span style="color: #000000;">,PAS[i].pid,PAS[i].pname,PAS[i].password,PAS[i].tell);
</span><span style="color: #008080;">176</span>             <span style="color: #008000;">//</span><span style="color: #008000;">printf("insert passenger.txt success\n");</span>
<span style="color: #008080;">177</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">178</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">179</span>     <span style="color: #008000;">//</span><span style="color: #008000;"> 释放内存、保存数据</span>
<span style="color: #008080;">180</span>     <span style="color: #0000ff;">free</span><span style="color: #000000;">(FLI);
</span><span style="color: #008080;">181</span>     <span style="color: #0000ff;">free</span><span style="color: #000000;">(PAS);
</span><span style="color: #008080;">182</span>     <span style="color: #0000ff;">free</span><span style="color: #000000;">(ORD);
</span><span style="color: #008080;">183</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">exit...\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">184</span> <span style="color: #000000;">}
</span><span style="color: #008080;">185</span> 
<span style="color: #008080;">186</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 生成主菜单</span>
<span style="color: #008080;">187</span> <span style="color: #0000ff;">void</span> menu(<span style="color: #0000ff;">void</span><span style="color: #000000;">)
</span><span style="color: #008080;">188</span> <span style="color: #000000;">{
</span><span style="color: #008080;">189</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">190</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">********************************\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">191</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">|                              |\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">192</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">|      flight order system     |\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">193</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">*      1.search_flight         *\n</span><span style="color: #800000;">"</span>);  <span style="color: #008000;">//</span><span style="color: #008000;">查询航班</span>
<span style="color: #008080;">194</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">|      2.order_list            |\n</span><span style="color: #800000;">"</span>);   <span style="color: #008000;">//</span><span style="color: #008000;">查询订票信息</span>
<span style="color: #008080;">195</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">*      3.del_order             *\n</span><span style="color: #800000;">"</span>);    <span style="color: #008000;">//</span><span style="color: #008000;">退订</span>
<span style="color: #008080;">196</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">|      4.passenger_info        |\n</span><span style="color: #800000;">"</span>);   <span style="color: #008000;">//</span><span style="color: #008000;">查询旅客信息</span>
<span style="color: #008080;">197</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">*      5.change_pas_info       *\n</span><span style="color: #800000;">"</span>);  <span style="color: #008000;">//</span><span style="color: #008000;">修改旅客信息</span>
<span style="color: #008080;">198</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">|      6.login                 |\n</span><span style="color: #800000;">"</span>);  <span style="color: #008000;">//</span><span style="color: #008000;">用户登录</span>
<span style="color: #008080;">199</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">*      7.logout                *\n</span><span style="color: #800000;">"</span>);    <span style="color: #008000;">//</span><span style="color: #008000;">用户登出</span>
<span style="color: #008080;">200</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">|      0.exit_sys              |\n</span><span style="color: #800000;">"</span>);   <span style="color: #008000;">//</span><span style="color: #008000;">退出系统</span>
<span style="color: #008080;">201</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">|                              |\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">202</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">********************************\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">203</span>     <span style="color: #008000;">//</span><span style="color: #008000;">printf("\n");</span>
<span style="color: #008080;">204</span> <span style="color: #000000;">}
</span><span style="color: #008080;">205</span> 
<span style="color: #008080;">206</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 登录</span>
<span style="color: #008080;">207</span> <span style="color: #0000ff;">void</span> login(<span style="color: #0000ff;">void</span><span style="color: #000000;">)
</span><span style="color: #008080;">208</span> <span style="color: #000000;">{
</span><span style="color: #008080;">209</span>     <span style="color: #0000ff;">if</span>(online == <span style="color: #800080;">0</span>)    <span style="color: #008000;">//</span><span style="color: #008000;">如果没有登录</span>
<span style="color: #008080;">210</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">211</span>         <span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">212</span>         <span style="color: #0000ff;">int</span> time = <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">213</span>         <span style="color: #0000ff;">while</span>(time&lt;<span style="color: #800080;">3</span><span style="color: #000000;">)
</span><span style="color: #008080;">214</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">215</span>             <span style="color: #0000ff;">char</span> entry_pid[<span style="color: #800080;">20</span>]; <span style="color: #008000;">//</span><span style="color: #008000;">临时变量身份证</span>
<span style="color: #008080;">216</span>             <span style="color: #0000ff;">char</span> entry_pw[<span style="color: #800080;">20</span>];  <span style="color: #008000;">//</span><span style="color: #008000;">临时变量密码</span>
<span style="color: #008080;">217</span>             printf(<span style="color: #800000;">"</span><span style="color: #800000;">please login!\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">218</span>             printf(<span style="color: #800000;">"</span><span style="color: #800000;">please entry pid:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">219</span>             get_str(entry_pid,<span style="color: #800080;">20</span><span style="color: #000000;">);
</span><span style="color: #008080;">220</span>             printf(<span style="color: #800000;">"</span><span style="color: #800000;">please entry password:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">221</span>             get_str(entry_pw,<span style="color: #800080;">20</span><span style="color: #000000;">);
</span><span style="color: #008080;">222</span>             <span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>; i&lt;MAX_Passenger; i++<span style="color: #000000;">)
</span><span style="color: #008080;">223</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">224</span>                 <span style="color: #0000ff;">if</span>(strlen(entry_pid)==<span style="color: #800080;">0</span> || strlen(entry_pw)==<span style="color: #800080;">0</span><span style="color: #000000;">)
</span><span style="color: #008080;">225</span> <span style="color: #000000;">                {
</span><span style="color: #008080;">226</span>                     printf(<span style="color: #800000;">"</span><span style="color: #800000;">pid or password can't be empty\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">227</span>                     time++<span style="color: #000000;">;
</span><span style="color: #008080;">228</span>                     <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">229</span> <span style="color: #000000;">                }
</span><span style="color: #008080;">230</span>                 <span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(strcmp(PAS[i].pid,entry_pid) == <span style="color: #800080;">0</span> &amp;&amp; strcmp(PAS[i].password,entry_pw) == <span style="color: #800080;">0</span><span style="color: #000000;">)
</span><span style="color: #008080;">231</span> <span style="color: #000000;">                {
</span><span style="color: #008080;">232</span>                     printf(<span style="color: #800000;">"</span><span style="color: #800000;">login success!\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">233</span> <span style="color: #000000;">                    strcpy(online_pid,entry_pid);
</span><span style="color: #008080;">234</span>                     online = <span style="color: #800080;">1</span><span style="color: #000000;">;
</span><span style="color: #008080;">235</span>                     <span style="color: #0000ff;">return</span><span style="color: #000000;">;
</span><span style="color: #008080;">236</span> <span style="color: #000000;">                }
</span><span style="color: #008080;">237</span>                 <span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(i==MAX_Passenger-<span style="color: #800080;">1</span><span style="color: #000000;">)
</span><span style="color: #008080;">238</span> <span style="color: #000000;">                {
</span><span style="color: #008080;">239</span>                     printf(<span style="color: #800000;">"</span><span style="color: #800000;">pid or password error\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">240</span>                     time++<span style="color: #000000;">;
</span><span style="color: #008080;">241</span> <span style="color: #000000;">                }
</span><span style="color: #008080;">242</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">243</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">244</span>         online = -<span style="color: #800080;">1</span><span style="color: #000000;">;
</span><span style="color: #008080;">245</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">you have been locked,you can use this system now\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">246</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">247</span>     <span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(online ==<span style="color: #800080;">1</span><span style="color: #000000;">)
</span><span style="color: #008080;">248</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">249</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">you have been login\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">250</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">251</span>     <span style="color: #0000ff;">else</span>
<span style="color: #008080;">252</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">253</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">you have been locked,you can use this system now\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">254</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">255</span> 
<span style="color: #008080;">256</span> <span style="color: #000000;">}
</span><span style="color: #008080;">257</span> 
<span style="color: #008080;">258</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 用户登出</span>
<span style="color: #008080;">259</span> <span style="color: #0000ff;">void</span> logout(<span style="color: #0000ff;">void</span><span style="color: #000000;">)
</span><span style="color: #008080;">260</span> <span style="color: #000000;">{
</span><span style="color: #008080;">261</span>     <span style="color: #0000ff;">if</span>(online == <span style="color: #800080;">1</span>)    <span style="color: #008000;">//</span><span style="color: #008000;">如果已经登录</span>
<span style="color: #008080;">262</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">263</span>         online = <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">264</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">logout success\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">265</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">266</span>     <span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(online == -<span style="color: #800080;">1</span><span style="color: #000000;">)
</span><span style="color: #008080;">267</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">268</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">you have been locked,you can use this system now\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">269</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">270</span>     <span style="color: #0000ff;">else</span>
<span style="color: #008080;">271</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">272</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">you have not login\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">273</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">274</span> <span style="color: #000000;">}
</span><span style="color: #008080;">275</span> 
<span style="color: #008080;">276</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 查询旅客信息</span>
<span style="color: #008080;">277</span> <span style="color: #0000ff;">void</span> passenger_info(<span style="color: #0000ff;">void</span><span style="color: #000000;">)
</span><span style="color: #008080;">278</span> <span style="color: #000000;">{
</span><span style="color: #008080;">279</span>     <span style="color: #0000ff;">if</span>(online == <span style="color: #800080;">1</span>)    <span style="color: #008000;">//</span><span style="color: #008000;">如果已经登录</span>
<span style="color: #008080;">280</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">281</span>         <span style="color: #008000;">//</span><span style="color: #008000;">printf("online_pid:");
</span><span style="color: #008080;">282</span>         <span style="color: #008000;">//</span><span style="color: #008000;">puts(online_pid);</span>
<span style="color: #008080;">283</span>         <span style="color: #0000ff;">int</span> i = <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">284</span>         <span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>; i&lt;MAX_Passenger; i++<span style="color: #000000;">)
</span><span style="color: #008080;">285</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">286</span>             <span style="color: #0000ff;">if</span>(strcmp(online_pid,PAS[i].pid)==<span style="color: #800080;">0</span><span style="color: #000000;">)
</span><span style="color: #008080;">287</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">288</span>                 printf(<span style="color: #800000;">"</span><span style="color: #800000;">pid:%s, pname:%s, password:%s, tell:%s\n</span><span style="color: #800000;">"</span><span style="color: #000000;">,PAS[i].pid,PAS[i].pname,PAS[i].password,PAS[i].tell);
</span><span style="color: #008080;">289</span>                 <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">290</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">291</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">292</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">293</span>     <span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(online == -<span style="color: #800080;">1</span><span style="color: #000000;">)
</span><span style="color: #008080;">294</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">295</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">you have been locked,you can use this system now\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">296</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">297</span>     <span style="color: #0000ff;">else</span>
<span style="color: #008080;">298</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">299</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">you have not login\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">300</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">301</span> <span style="color: #000000;">}
</span><span style="color: #008080;">302</span> 
<span style="color: #008080;">303</span> <span style="color: #008000;">//</span><span style="color: #008000;">修改旅客信息</span>
<span style="color: #008080;">304</span> <span style="color: #0000ff;">bool</span> change_pas_info(<span style="color: #0000ff;">void</span><span style="color: #000000;">)
</span><span style="color: #008080;">305</span> <span style="color: #000000;">{
</span><span style="color: #008080;">306</span>     <span style="color: #0000ff;">if</span>(online == <span style="color: #800080;">1</span>)    <span style="color: #008000;">//</span><span style="color: #008000;">如果已经登录</span>
<span style="color: #008080;">307</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">308</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">your old info:\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">309</span>         <span style="color: #0000ff;">int</span> i = <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">310</span>         <span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>; i&lt;MAX_Passenger; i++<span style="color: #000000;">)
</span><span style="color: #008080;">311</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">312</span>             <span style="color: #0000ff;">if</span>(strcmp(online_pid,ORD[i].pid)==<span style="color: #800080;">0</span><span style="color: #000000;">)
</span><span style="color: #008080;">313</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">314</span>                 printf(<span style="color: #800000;">"</span><span style="color: #800000;">pid:%s, pname:%s\npassword:%s, tell:%s\n</span><span style="color: #800000;">"</span><span style="color: #000000;">,PAS[i].pid,PAS[i].pname,PAS[i].password,PAS[i].tell);
</span><span style="color: #008080;">315</span>                 <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">316</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">317</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">318</span>         <span style="color: #0000ff;">char</span> new_pid[<span style="color: #800080;">20</span><span style="color: #000000;">];
</span><span style="color: #008080;">319</span>         <span style="color: #0000ff;">char</span> new_pname[<span style="color: #800080;">10</span><span style="color: #000000;">];
</span><span style="color: #008080;">320</span>         <span style="color: #0000ff;">char</span> new_password[<span style="color: #800080;">20</span><span style="color: #000000;">];
</span><span style="color: #008080;">321</span>         <span style="color: #0000ff;">char</span> new_tell[<span style="color: #800080;">20</span><span style="color: #000000;">];
</span><span style="color: #008080;">322</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">please entry new pid:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">323</span>         get_str(new_pid,<span style="color: #800080;">20</span><span style="color: #000000;">);
</span><span style="color: #008080;">324</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">please entry new pname:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">325</span>         get_str(new_pname,<span style="color: #800080;">10</span><span style="color: #000000;">);
</span><span style="color: #008080;">326</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">please entry new password:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">327</span>         get_str(new_password,<span style="color: #800080;">20</span><span style="color: #000000;">);
</span><span style="color: #008080;">328</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">please entry new tell:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">329</span>         get_str(new_tell,<span style="color: #800080;">20</span><span style="color: #000000;">);
</span><span style="color: #008080;">330</span> <span style="color: #000000;">        strcpy(PAS[i].pid,new_pid);
</span><span style="color: #008080;">331</span> <span style="color: #000000;">        strcpy(PAS[i].pname,new_pname);
</span><span style="color: #008080;">332</span> <span style="color: #000000;">        strcpy(PAS[i].password,new_password);
</span><span style="color: #008080;">333</span> <span style="color: #000000;">        strcpy(PAS[i].tell,new_tell);
</span><span style="color: #008080;">334</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">change success\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">335</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">336</span>     <span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(online == -<span style="color: #800080;">1</span><span style="color: #000000;">)
</span><span style="color: #008080;">337</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">338</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">you have been locked,you can use this system now\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">339</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">340</span>     <span style="color: #0000ff;">else</span>
<span style="color: #008080;">341</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">342</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">you have not login\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">343</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">344</span> <span style="color: #000000;">}
</span><span style="color: #008080;">345</span> 
<span style="color: #008080;">346</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 开始查询航班</span>
<span style="color: #008080;">347</span> <span style="color: #0000ff;">void</span> search_start(<span style="color: #0000ff;">void</span><span style="color: #000000;">)
</span><span style="color: #008080;">348</span> <span style="color: #000000;">{
</span><span style="color: #008080;">349</span>     <span style="color: #0000ff;">if</span><span style="color: #000000;">(search())
</span><span style="color: #008080;">350</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">351</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">1.order\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">352</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">0.back\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">353</span>         <span style="color: #0000ff;">char</span> cmd = get_cmd(<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">1</span><span style="color: #800000;">'</span><span style="color: #000000;">);
</span><span style="color: #008080;">354</span>         <span style="color: #0000ff;">if</span>(cmd == <span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">355</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">356</span>             <span style="color: #0000ff;">return</span><span style="color: #000000;">;
</span><span style="color: #008080;">357</span>             <span style="color: #008000;">//</span><span style="color: #008000;">start_sys();</span>
<span style="color: #008080;">358</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">359</span>         <span style="color: #0000ff;">else</span>
<span style="color: #008080;">360</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">361</span>             <span style="color: #0000ff;">char</span> fid[<span style="color: #800080;">20</span>];   <span style="color: #008000;">//</span><span style="color: #008000;"> 选择的航班号</span>
<span style="color: #008080;">362</span>             <span style="color: #0000ff;">if</span>(online == <span style="color: #800080;">1</span>) <span style="color: #008000;">//</span><span style="color: #008000;"> 如果已经登录</span>
<span style="color: #008080;">363</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">364</span>                 printf(<span style="color: #800000;">"</span><span style="color: #800000;">please entry fid:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">365</span>                 get_str(fid,<span style="color: #800080;">20</span><span style="color: #000000;">);
</span><span style="color: #008080;">366</span>                 <span style="color: #0000ff;">if</span>(<span style="color: #800080;">0</span> ==<span style="color: #000000;"> strlen(fid))
</span><span style="color: #008080;">367</span> <span style="color: #000000;">                {
</span><span style="color: #008080;">368</span>                     printf(<span style="color: #800000;">"</span><span style="color: #800000;">fid is empty\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">369</span> <span style="color: #000000;">                }
</span><span style="color: #008080;">370</span>                 <span style="color: #0000ff;">int</span> i = <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">371</span>                 <span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>; i&lt;search_num; i++<span style="color: #000000;">)
</span><span style="color: #008080;">372</span> <span style="color: #000000;">                {
</span><span style="color: #008080;">373</span>                     <span style="color: #008000;">//</span><span style="color: #008000;">printf("fid:%s s_fid:%s num:%d\n",fid,search_fid[i],search_fnum[i]);</span>
<span style="color: #008080;">374</span>                     <span style="color: #0000ff;">if</span>(strcmp(fid,search_fid[i])==<span style="color: #800080;">0</span> &amp;&amp; search_fnum[i]&gt;<span style="color: #800080;">0</span>)    <span style="color: #008000;">//</span><span style="color: #008000;">查询到对应航班</span>
<span style="color: #008080;">375</span> <span style="color: #000000;">                    {
</span><span style="color: #008080;">376</span>                         printf(<span style="color: #800000;">"</span><span style="color: #800000;">order success\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">377</span>                         <span style="color: #0000ff;">int</span> j=<span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">378</span>                         <span style="color: #0000ff;">for</span>(j=<span style="color: #800080;">0</span>; j&lt;MAX_Flight; j++) <span style="color: #008000;">//</span><span style="color: #008000;"> 遍历航班表</span>
<span style="color: #008080;">379</span> <span style="color: #000000;">                        {
</span><span style="color: #008080;">380</span>                             <span style="color: #0000ff;">if</span>(strcmp(fid,FLI[j].fid)==<span style="color: #800080;">0</span><span style="color: #000000;">)
</span><span style="color: #008080;">381</span> <span style="color: #000000;">                            {
</span><span style="color: #008080;">382</span>                                 FLI[j].fnum--;    <span style="color: #008000;">//</span><span style="color: #008000;">票数减1</span>
<span style="color: #008080;">383</span>                                 <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">384</span> <span style="color: #000000;">                            }
</span><span style="color: #008080;">385</span> <span style="color: #000000;">                        }
</span><span style="color: #008080;">386</span>                         <span style="color: #0000ff;">int</span> k=<span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">387</span>                         <span style="color: #0000ff;">for</span>(k=<span style="color: #800080;">0</span>; k&lt;MAX_Order; k++)  <span style="color: #008000;">//</span><span style="color: #008000;"> 遍历订票表</span>
<span style="color: #008080;">388</span> <span style="color: #000000;">                        {
</span><span style="color: #008080;">389</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">printf("ready insert...\n");</span>
<span style="color: #008080;">390</span>                             <span style="color: #0000ff;">if</span>(strlen(ORD[k].pid) == <span style="color: #800080;">0</span>) <span style="color: #008000;">//</span><span style="color: #008000;"> 在空位置插入数据</span>
<span style="color: #008080;">391</span> <span style="color: #000000;">                            {
</span><span style="color: #008080;">392</span>                                 strcpy(ORD[k].pid,online_pid);  <span style="color: #008000;">//</span><span style="color: #008000;"> 插入当前用户身份证</span>
<span style="color: #008080;">393</span>                                 strcpy(ORD[k].fid,search_fid[i]);   <span style="color: #008000;">//</span><span style="color: #008000;"> 插入当前选择的航班号</span>
<span style="color: #008080;">394</span>                                 ORD[k].num = <span style="color: #800080;">1</span><span style="color: #000000;">;
</span><span style="color: #008080;">395</span>                                 printf(<span style="color: #800000;">"</span><span style="color: #800000;">insert_to_order success\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">396</span>                                 <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">397</span> <span style="color: #000000;">                            }
</span><span style="color: #008080;">398</span> <span style="color: #000000;">                        }
</span><span style="color: #008080;">399</span>                         <span style="color: #0000ff;">return</span><span style="color: #000000;">;
</span><span style="color: #008080;">400</span> <span style="color: #000000;">                    }
</span><span style="color: #008080;">401</span>                     <span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(strcmp(fid,search_fid[i])==<span style="color: #800080;">0</span> &amp;&amp; search_fnum[i] == <span style="color: #800080;">0</span><span style="color: #000000;">)
</span><span style="color: #008080;">402</span> <span style="color: #000000;">                    {
</span><span style="color: #008080;">403</span>                         printf(<span style="color: #800000;">"</span><span style="color: #800000;">no ticket\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">404</span> <span style="color: #000000;">                        search_start();
</span><span style="color: #008080;">405</span> <span style="color: #000000;">                    }
</span><span style="color: #008080;">406</span>                     <span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(i==MAX_Flight-<span style="color: #800080;">1</span><span style="color: #000000;">)
</span><span style="color: #008080;">407</span> <span style="color: #000000;">                    {
</span><span style="color: #008080;">408</span>                         printf(<span style="color: #800000;">"</span><span style="color: #800000;">don't have this fid\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">409</span> <span style="color: #000000;">                        search_start();
</span><span style="color: #008080;">410</span> <span style="color: #000000;">                    }
</span><span style="color: #008080;">411</span> <span style="color: #000000;">                }
</span><span style="color: #008080;">412</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">413</span>             <span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(online == -<span style="color: #800080;">1</span><span style="color: #000000;">)
</span><span style="color: #008080;">414</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">415</span>                 printf(<span style="color: #800000;">"</span><span style="color: #800000;">you have been locked,you can use this system now\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">416</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">417</span>             <span style="color: #0000ff;">else</span>
<span style="color: #008080;">418</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">419</span> <span style="color: #000000;">                login();
</span><span style="color: #008080;">420</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">421</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">422</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">423</span> <span style="color: #000000;">}
</span><span style="color: #008080;">424</span> 
<span style="color: #008080;">425</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 查询航班</span>
<span style="color: #008080;">426</span> <span style="color: #0000ff;">bool</span> search(<span style="color: #0000ff;">void</span><span style="color: #000000;">)
</span><span style="color: #008080;">427</span> <span style="color: #000000;">{
</span><span style="color: #008080;">428</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">start: \n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">429</span>     get_str(start,<span style="color: #800080;">10</span><span style="color: #000000;">);
</span><span style="color: #008080;">430</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">end: \n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">431</span>     get_str(end,<span style="color: #800080;">10</span><span style="color: #000000;">);
</span><span style="color: #008080;">432</span>     <span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">433</span>     search_num = <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">434</span>     <span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>; i&lt;MAX_Flight; i++<span style="color: #000000;">)
</span><span style="color: #008080;">435</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">436</span>         <span style="color: #0000ff;">if</span>(strlen(start) == <span style="color: #800080;">0</span> || strlen(end) == <span style="color: #800080;">0</span><span style="color: #000000;">)
</span><span style="color: #008080;">437</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">438</span>             printf(<span style="color: #800000;">"</span><span style="color: #800000;">start or end can't be empty\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">439</span>             <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">false</span><span style="color: #000000;">;
</span><span style="color: #008080;">440</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">441</span>         <span style="color: #0000ff;">if</span>(strcmp(FLI[i].start,start)==<span style="color: #800080;">0</span> &amp;&amp; strcmp(FLI[i].end,end)==<span style="color: #800080;">0</span><span style="color: #000000;">)
</span><span style="color: #008080;">442</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">443</span>             printf(<span style="color: #800000;">"</span><span style="color: #800000;">fid:%s, ticket_num:%d\n</span><span style="color: #800000;">"</span><span style="color: #000000;">,FLI[i].fid,FLI[i].fnum);
</span><span style="color: #008080;">444</span> <span style="color: #000000;">            strcpy(search_fid[search_num],FLI[i].fid);
</span><span style="color: #008080;">445</span>             search_fnum[search_num] =<span style="color: #000000;"> FLI[i].fnum;
</span><span style="color: #008080;">446</span>             <span style="color: #008000;">//</span><span style="color: #008000;">printf("search_fid[%d]:%s, search_fun[%d]:%d\n",search_num,search_fid[search_num],search_num,search_fnum[search_num]);</span>
<span style="color: #008080;">447</span>             ++<span style="color: #000000;">search_num;
</span><span style="color: #008080;">448</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">449</span>         <span style="color: #0000ff;">if</span>(<span style="color: #800080;">0</span> == search_num &amp;&amp; i == MAX_Flight-<span style="color: #800080;">1</span><span style="color: #000000;">)
</span><span style="color: #008080;">450</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">451</span>             printf(<span style="color: #800000;">"</span><span style="color: #800000;">no flight\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">452</span>             <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">false</span><span style="color: #000000;">;
</span><span style="color: #008080;">453</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">454</span>         <span style="color: #0000ff;">if</span>(search_num &gt; <span style="color: #800080;">0</span> &amp;&amp; i == MAX_Flight-<span style="color: #800080;">1</span><span style="color: #000000;">)
</span><span style="color: #008080;">455</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">456</span>             <span style="color: #008000;">//</span><span style="color: #008000;">show_flight();</span>
<span style="color: #008080;">457</span>             <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">true</span><span style="color: #000000;">;
</span><span style="color: #008080;">458</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">459</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">460</span> <span style="color: #000000;">}
</span><span style="color: #008080;">461</span> 
<span style="color: #008080;">462</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 输出订单信息</span>
<span style="color: #008080;">463</span> <span style="color: #0000ff;">void</span> order_list(<span style="color: #0000ff;">void</span><span style="color: #000000;">)
</span><span style="color: #008080;">464</span> <span style="color: #000000;">{
</span><span style="color: #008080;">465</span>     <span style="color: #0000ff;">if</span>(online == <span style="color: #800080;">1</span><span style="color: #000000;">)
</span><span style="color: #008080;">466</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">467</span>         <span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">468</span>         <span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>; i&lt;MAX_Order; i++<span style="color: #000000;">)
</span><span style="color: #008080;">469</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">470</span>             <span style="color: #0000ff;">if</span>(strcmp(online_pid,ORD[i].pid)==<span style="color: #800080;">0</span><span style="color: #000000;">)
</span><span style="color: #008080;">471</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">472</span>                 <span style="color: #008000;">//</span><span style="color: #008000;">printf("online_pid:%s\n",online_pid);</span>
<span style="color: #008080;">473</span>                 printf(<span style="color: #800000;">"</span><span style="color: #800000;">fid:%s, pid:%s, ticket:%d\n</span><span style="color: #800000;">"</span><span style="color: #000000;">,ORD[i].fid,ORD[i].pid,ORD[i].num);
</span><span style="color: #008080;">474</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">475</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">476</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">477</span>     <span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(online == -<span style="color: #800080;">1</span><span style="color: #000000;">)
</span><span style="color: #008080;">478</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">479</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">you have been locked,you can use this system now\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">480</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">481</span>     <span style="color: #0000ff;">else</span>
<span style="color: #008080;">482</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">483</span> <span style="color: #000000;">        login();
</span><span style="color: #008080;">484</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">485</span> <span style="color: #000000;">}
</span><span style="color: #008080;">486</span> 
<span style="color: #008080;">487</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 删除订单</span>
<span style="color: #008080;">488</span> <span style="color: #0000ff;">void</span> del_order(<span style="color: #0000ff;">void</span><span style="color: #000000;">)
</span><span style="color: #008080;">489</span> <span style="color: #000000;">{
</span><span style="color: #008080;">490</span>     <span style="color: #0000ff;">if</span>(online == <span style="color: #800080;">1</span><span style="color: #000000;">)
</span><span style="color: #008080;">491</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">492</span>         <span style="color: #0000ff;">char</span> fid[<span style="color: #800080;">20</span><span style="color: #000000;">];
</span><span style="color: #008080;">493</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">order_list:\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">494</span> <span style="color: #000000;">        order_list();
</span><span style="color: #008080;">495</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">please entry del_order fid:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">496</span>         get_str(fid,<span style="color: #800080;">20</span><span style="color: #000000;">);
</span><span style="color: #008080;">497</span>         <span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">498</span>         <span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>; i&lt;MAX_Order; i++<span style="color: #000000;">)
</span><span style="color: #008080;">499</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">500</span>             <span style="color: #0000ff;">if</span>(strlen(fid)==<span style="color: #800080;">0</span>)  <span style="color: #008000;">//</span><span style="color: #008000;">判空</span>
<span style="color: #008080;">501</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">502</span>                 printf(<span style="color: #800000;">"</span><span style="color: #800000;">del_order fid can't be empty\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">503</span>                 <span style="color: #0000ff;">return</span><span style="color: #000000;">;
</span><span style="color: #008080;">504</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">505</span>             <span style="color: #0000ff;">if</span>(strcmp(fid,ORD[i].fid)==<span style="color: #800080;">0</span><span style="color: #000000;">)
</span><span style="color: #008080;">506</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">507</span>                 memset(ORD[i].pid,<span style="color: #800000;">'</span><span style="color: #800000;">\0</span><span style="color: #800000;">'</span>,<span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(ORD[i].pid));
</span><span style="color: #008080;">508</span>                 <span style="color: #0000ff;">int</span> j=<span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">509</span>                 <span style="color: #0000ff;">for</span>(j=<span style="color: #800080;">0</span>; j&lt;MAX_Flight; j++<span style="color: #000000;">)
</span><span style="color: #008080;">510</span> <span style="color: #000000;">                {
</span><span style="color: #008080;">511</span>                     <span style="color: #0000ff;">if</span>(strcmp(fid,FLI[j].fid)==<span style="color: #800080;">0</span><span style="color: #000000;">)
</span><span style="color: #008080;">512</span> <span style="color: #000000;">                    {
</span><span style="color: #008080;">513</span>                         FLI[j].fnum++;  <span style="color: #008000;">//</span><span style="color: #008000;"> 返还飞机票</span>
<span style="color: #008080;">514</span>                         <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">515</span> <span style="color: #000000;">                    }
</span><span style="color: #008080;">516</span> <span style="color: #000000;">                }
</span><span style="color: #008080;">517</span>                 printf(<span style="color: #800000;">"</span><span style="color: #800000;">delete success\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">518</span>                 <span style="color: #0000ff;">return</span><span style="color: #000000;">;
</span><span style="color: #008080;">519</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">520</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">521</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">522</span>     <span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(online == -<span style="color: #800080;">1</span><span style="color: #000000;">)
</span><span style="color: #008080;">523</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">524</span>         printf(<span style="color: #800000;">"</span><span style="color: #800000;">you have been locked,you can use this system now\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">525</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">526</span>     <span style="color: #0000ff;">else</span>
<span style="color: #008080;">527</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">528</span> <span style="color: #000000;">        login();
</span><span style="color: #008080;">529</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">530</span> 
<span style="color: #008080;">531</span> <span style="color: #000000;">}
</span><span style="color: #008080;">532</span> 
<span style="color: #008080;">533</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 清理输入缓冲区</span>
<span style="color: #008080;">534</span> <span style="color: #008000;">/*</span><span style="color: #008000;">void clear_stdin(void)
</span><span style="color: #008080;">535</span> <span style="color: #008000;">{
</span><span style="color: #008080;">536</span> <span style="color: #008000;">    stdin-&gt;_IO_read_ptr = stdin-&gt;_IO_read_end;//清理输入缓冲区
</span><span style="color: #008080;">537</span> <span style="color: #008000;">}
</span><span style="color: #008080;">538</span> <span style="color: #008000;">*/</span>
<span style="color: #008080;">539</span> 
<span style="color: #008080;">540</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 读取输入字符串</span>
<span style="color: #008080;">541</span> <span style="color: #0000ff;">char</span>* get_str(<span style="color: #0000ff;">char</span>*<span style="color: #000000;"> str,size_t len)
</span><span style="color: #008080;">542</span> <span style="color: #000000;">{
</span><span style="color: #008080;">543</span>     <span style="color: #0000ff;">if</span>(NULL ==<span style="color: #000000;"> str)
</span><span style="color: #008080;">544</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">545</span>         puts(<span style="color: #800000;">"</span><span style="color: #800000;">empty ptr！</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">546</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> NULL;
</span><span style="color: #008080;">547</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">548</span> 
<span style="color: #008080;">549</span>     <span style="color: #0000ff;">char</span> *<span style="color: #0000ff;">in</span>=<span style="color: #000000;">fgets(str,len,stdin);
</span><span style="color: #008080;">550</span> 
<span style="color: #008080;">551</span>     size_t cnt =<span style="color: #000000;"> strlen(str);
</span><span style="color: #008080;">552</span>     <span style="color: #0000ff;">if</span>(<span style="color: #800000;">'</span><span style="color: #800000;">\n</span><span style="color: #800000;">'</span> == str[cnt-<span style="color: #800080;">1</span><span style="color: #000000;">])
</span><span style="color: #008080;">553</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">554</span>         str[cnt-<span style="color: #800080;">1</span>] = <span style="color: #800000;">'</span><span style="color: #800000;">\0</span><span style="color: #800000;">'</span><span style="color: #000000;">;
</span><span style="color: #008080;">555</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">556</span>     <span style="color: #0000ff;">else</span>
<span style="color: #008080;">557</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">558</span>         scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%*[^\n]</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">559</span>         scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%*c</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">560</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">561</span> 
<span style="color: #008080;">562</span>     <span style="color: #008000;">//</span><span style="color: #008000;">clear_stdin();</span>
<span style="color: #008080;">563</span> 
<span style="color: #008080;">564</span>     <span style="color: #0000ff;">return</span><span style="color: #000000;"> str;
</span><span style="color: #008080;">565</span> <span style="color: #000000;">}
</span><span style="color: #008080;">566</span> 
<span style="color: #008080;">567</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 获取cmd命令</span>
<span style="color: #008080;">568</span> <span style="color: #0000ff;">char</span> get_cmd(<span style="color: #0000ff;">char</span> start,<span style="color: #0000ff;">char</span><span style="color: #000000;"> end)
</span><span style="color: #008080;">569</span> <span style="color: #000000;">{
</span><span style="color: #008080;">570</span>     <span style="color: #008000;">//</span><span style="color: #008000;">clear_stdin();</span>
<span style="color: #008080;">571</span> 
<span style="color: #008080;">572</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">please entry cmd:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">573</span>     <span style="color: #0000ff;">while</span>(<span style="color: #0000ff;">true</span><span style="color: #000000;">)
</span><span style="color: #008080;">574</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">575</span>         <span style="color: #0000ff;">char</span> val =<span style="color: #000000;"> getch();
</span><span style="color: #008080;">576</span>         <span style="color: #0000ff;">if</span>(val &gt;= start &amp;&amp; val &lt;=<span style="color: #000000;"> end)
</span><span style="color: #008080;">577</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">578</span>             printf(<span style="color: #800000;">"</span><span style="color: #800000;">%c\n</span><span style="color: #800000;">"</span><span style="color: #000000;">,val);
</span><span style="color: #008080;">579</span>             <span style="color: #0000ff;">return</span><span style="color: #000000;"> val;
</span><span style="color: #008080;">580</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">581</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">582</span> }</pre>
</div>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>