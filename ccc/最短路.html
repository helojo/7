<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修最短路' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>最短路</center></div><div class='banquan'>原文出处:本文由博客园博主屁卡皮提供。<br/>
原文连接:https://www.cnblogs.com/zptcszj/p/10695833.html</div><br>
    <p>&nbsp;</p>
<p>&nbsp;</p>
<h1><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2544" target="_blank"><span style="font-family: 'comic sans ms', sans-serif; color: #ff0000;"><strong><span style="font-family: 幼圆;">杭电</span>oj ----2544</strong></span></a></h1>
<h2 style="text-align: left;"><span style="font-family: 'comic sans ms', sans-serif; color: #0000ff; font-size: 18pt;">&nbsp; &nbsp; &nbsp; <span style="font-family: 幼圆;">深&nbsp; &nbsp; 搜</span></span></h2>
<p>&nbsp;</p>
<table class="table_text" style="width: 100%;" border="0" cellspacing="2" align="center">
<tbody>
<tr align="center">
<td><span style="color: red;">Accepted</span></td>
<td><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2544">2544</a></td>
<td>327MS</td>
<td>1768K</td>
<td>635 B</td>
<td>C++</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre>#include &lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;cstring&gt;
<span style="color: #0000ff;">const</span> <span style="color: #0000ff;">int</span> INF=<span style="color: #800080;">0x3f3f3f3f</span><span style="color: #000000;">;
</span><span style="color: #0000ff;">int</span> n,m,a,b,c,mp[<span style="color: #800080;">105</span>][<span style="color: #800080;">105</span><span style="color: #000000;">],ans;
</span><span style="color: #0000ff;">bool</span> use[<span style="color: #800080;">105</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">void</span> dfs(<span style="color: #0000ff;">int</span> k,<span style="color: #0000ff;">int</span><span style="color: #000000;"> l){
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">2</span>;i&lt;=n;i++<span style="color: #000000;">)
        {
                </span><span style="color: #0000ff;">if</span>(l&gt;ans)   <span style="color: #0000ff;">return</span><span style="color: #000000;">;
                </span><span style="color: #0000ff;">if</span>(k==<span style="color: #000000;">n)
                {
                        ans</span>=<span style="color: #000000;">l;
                        </span><span style="color: #0000ff;">return</span><span style="color: #000000;">;
                }        
                </span><span style="color: #0000ff;">if</span>(use[i]==<span style="color: #0000ff;">false</span><span style="color: #000000;">)
                {
                        use[i]</span>=<span style="color: #0000ff;">true</span><span style="color: #000000;">;
                        dfs(i,l</span>+<span style="color: #000000;">mp[k][i]);
                        use[i]</span>=<span style="color: #0000ff;">false</span><span style="color: #000000;">;
                 }
        }
}
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
        </span><span style="color: #0000ff;">while</span>(scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%d%d</span><span style="color: #800000;">"</span>,&amp;n,&amp;m)!=EOF&amp;&amp;(n||<span style="color: #000000;">m))
        {
                ans</span>=<span style="color: #000000;">INF;
                memset(mp,INF,</span><span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(mp));
                </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=m;i++<span style="color: #000000;">)
                {
                        scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d%d%d</span><span style="color: #800000;">"</span>,&amp;a,&amp;b,&amp;<span style="color: #000000;">c);
                        </span><span style="color: #0000ff;">if</span>(mp[a][b]&gt;<span style="color: #000000;">c)
                                mp[a][b]</span>=mp[b][a]=<span style="color: #000000;">c;
                }
                use[</span><span style="color: #800080;">1</span>]=<span style="color: #0000ff;">true</span><span style="color: #000000;">;
                dfs(</span><span style="color: #800080;">1</span>,<span style="color: #800080;">0</span><span style="color: #000000;">);
                printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span><span style="color: #000000;">,ans);
        }
</span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-size: 18pt;">&nbsp; &nbsp; &nbsp;<span style="color: #0000ff;"><strong><span style="font-family: 'comic sans ms', sans-serif;"><span style="font-family: 幼圆;">弗&nbsp; 洛&nbsp; 伊&nbsp; 德</span>（Floyd）</span></strong></span></span></p>
<table class="table_text" style="width: 100%;" border="0" cellspacing="2" align="center">
<tbody>
<tr align="center" bgcolor="#D7EBFF">
<td><span style="color: red;">Accepted</span></td>
<td><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2544">2544</a></td>
<td>31MS</td>
<td>1260K</td>
<td>600 B</td>
<td>G++</td>
</tr>
</tbody>
</table>
<div class="cnblogs_code">
<pre>#include &lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;cstring&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">const</span> <span style="color: #0000ff;">int</span> INF=<span style="color: #800080;">0x3f3f3f</span><span style="color: #000000;">;
</span><span style="color: #0000ff;">int</span> n,m,a,b,c,mp[<span style="color: #800080;">105</span>][<span style="color: #800080;">105</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
        </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> i,j,k;
        </span><span style="color: #0000ff;">while</span>(scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%d%d</span><span style="color: #800000;">"</span>,&amp;n,&amp;m)!=EOF&amp;&amp;(m||<span style="color: #000000;">n))
        {
                memset(mp,INF,</span><span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(mp));
                </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>;i&lt;m;i++<span style="color: #000000;">)
                {
                        scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d%d%d</span><span style="color: #800000;">"</span>,&amp;a,&amp;b,&amp;<span style="color: #000000;">c);
                        </span><span style="color: #0000ff;">if</span>(mp[a][b]&gt;<span style="color: #000000;">c)
                                mp[a][b]</span>=mp[b][a]=<span style="color: #000000;">c;
                }
                </span><span style="color: #0000ff;">for</span>(k=<span style="color: #800080;">1</span>;k&lt;=n;k++<span style="color: #000000;">)
                        </span><span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">1</span>;i&lt;=n;i++<span style="color: #000000;">)
                                </span><span style="color: #0000ff;">for</span>(j=<span style="color: #800080;">1</span>;j&lt;=n;j++<span style="color: #000000;">)
                                        </span><span style="color: #0000ff;">if</span>(mp[i][k]+mp[k][j]&lt;<span style="color: #000000;">mp[i][j])
                                                mp[i][j]</span>=mp[i][k]+<span style="color: #000000;">mp[k][j];
                printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span>,mp[<span style="color: #800080;">1</span><span style="color: #000000;">][n]);
        }
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
<h1><span style="color: #0000ff;"><span style="font-size: 18pt;">&nbsp; </span></span></h1>
<h1><span style="color: #0000ff;"><span style="font-size: 18pt;"><strong><span style="font-family: 幼圆;">&nbsp;第 杰 斯 特 拉</span></strong></span><br /></span></h1>
<table class="table_text" style="width: 100%;" border="0" cellspacing="2" align="center">
<tbody>
<tr align="center">
<td><span style="color: red;">Accepted</span></td>
<td><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2544">2544</a></td>
<td>15MS</td>
<td>1260K</td>
<td>811 B</td>
<td>G++</td>


</tr>


</tbody>


</table>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre>#include&lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;cstring&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">const</span> <span style="color: #0000ff;">int</span> INF=<span style="color: #800080;">0x3f3f3f3f</span><span style="color: #000000;">;
</span><span style="color: #0000ff;">int</span> ans[<span style="color: #800080;">105</span>],n,m,mp[<span style="color: #800080;">105</span>][<span style="color: #800080;">105</span><span style="color: #000000;">],a,b,c;
</span><span style="color: #0000ff;">bool</span> use[<span style="color: #800080;">105</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">void</span><span style="color: #000000;"> dij(){
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">2</span>;i&lt;=n;i++<span style="color: #000000;">)
        ans[i]</span>=mp[<span style="color: #800080;">1</span><span style="color: #000000;">][i];
    ans[</span><span style="color: #800080;">1</span>]=<span style="color: #800080;">0</span><span style="color: #000000;">;
    memset(use,</span><span style="color: #0000ff;">true</span>,<span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(use));
    use[</span><span style="color: #800080;">1</span>]=<span style="color: #0000ff;">false</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">2</span>;i&lt;n;i++<span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">int</span> v,f=<span style="color: #000000;">INF;
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> j=<span style="color: #800080;">1</span>;j&lt;=n;j++<span style="color: #000000;">)
            </span><span style="color: #0000ff;">if</span>(ans[j]&lt;=f&amp;&amp;<span style="color: #000000;">use[j])
            {
                f</span>=<span style="color: #000000;">ans[j];
                v</span>=<span style="color: #000000;">j;
            }
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> j=<span style="color: #800080;">1</span>;j&lt;=n;j++<span style="color: #000000;">)
            </span><span style="color: #0000ff;">if</span>(ans[v]+mp[v][j]&lt;<span style="color: #000000;">ans[j])
            ans[j]</span>=ans[v]+<span style="color: #000000;">mp[v][j];
        use[v]</span>=<span style="color: #0000ff;">false</span><span style="color: #000000;">;
    }
}
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #0000ff;">while</span>(scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%d%d</span><span style="color: #800000;">"</span>,&amp;n,&amp;m)!=EOF&amp;&amp;(n||<span style="color: #000000;">m))
    {
        memset(mp,INF,</span><span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(mp));
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=m;i++<span style="color: #000000;">)
        {
            scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d%d%d</span><span style="color: #800000;">"</span>,&amp;a,&amp;b,&amp;<span style="color: #000000;">c);
            </span><span style="color: #0000ff;">if</span>(mp[a][b]&gt;<span style="color: #000000;">c)
               mp[a][b]</span>=mp[b][a]=<span style="color: #000000;">c;
        }
        dij();
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span><span style="color: #000000;">,ans[n]);
    }
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
} </span></pre>
</div>
<p>&nbsp;</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('4edf10b8-cc35-4555-928b-4035cd7de402')"><img id="code_img_closed_4edf10b8-cc35-4555-928b-4035cd7de402" class="code_img_closed" src="./images/最短路0.png" alt="" /><img id="code_img_opened_4edf10b8-cc35-4555-928b-4035cd7de402" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('4edf10b8-cc35-4555-928b-4035cd7de402',event)" src="./images/最短路1.png" alt="" />
<div id="cnblogs_code_open_4edf10b8-cc35-4555-928b-4035cd7de402" class="cnblogs_code_hide">
<pre>#include &lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;cstring&gt;<span style="color: #000000;">
#include </span>&lt;cstdio&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">int</span> mp[<span style="color: #800080;">1002</span>][<span style="color: #800080;">1002</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">bool</span> use[<span style="color: #800080;">1002</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">int</span> ans[<span style="color: #800080;">1002</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">const</span> <span style="color: #0000ff;">int</span> INF  = <span style="color: #800080;">0x3f3f3f3f</span><span style="color: #000000;">;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> n;
</span><span style="color: #0000ff;">void</span> dij(<span style="color: #0000ff;">int</span><span style="color: #000000;"> a){
    ans[a] </span>= <span style="color: #800080;">0</span>;<span style="color: #008000;">//</span><span style="color: #008000;">设定起点 </span>
    <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i = <span style="color: #800080;">1</span> ; i &lt; n ; i++<span style="color: #000000;">){
        </span><span style="color: #0000ff;">int</span> min1 =<span style="color: #000000;"> INF,min2;
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> j = <span style="color: #800080;">1</span> ; j &lt;= n ; j++<span style="color: #000000;">){
            </span><span style="color: #0000ff;">if</span>(use[j] &amp;&amp; ans[j] &lt;<span style="color: #000000;"> min1){
                min1</span>=<span style="color: #000000;">ans[j];
                min2</span>=<span style="color: #000000;">j;
            }
        }
        use[min2]</span>=<span style="color: #0000ff;">false</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> j=<span style="color: #800080;">1</span>;j&lt;=n;j++<span style="color: #000000;">){
            </span><span style="color: #0000ff;">if</span>(min1+mp[min2][j] &lt;<span style="color: #000000;"> ans[j]){
                ans[j] </span>= mp[min2][j] +<span style="color: #000000;"> min1;
            }
        }
    }
}
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main(){
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> t,s,d;
    </span><span style="color: #0000ff;">while</span>(scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%d%d%d</span><span style="color: #800000;">"</span>,&amp;t,&amp;s,&amp;d)!=<span style="color: #000000;">EOF){
        memset(mp,INF,</span><span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(mp));
        </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> x,y,time ;
        </span><span style="color: #0000ff;">int</span> max2 =<span style="color: #800080;">0</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i = <span style="color: #800080;">0</span> ; i &lt; t ; i++<span style="color: #000000;">){
            scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d%d%d</span><span style="color: #800000;">"</span>,&amp;x,&amp;y,&amp;<span style="color: #000000;">time);
            </span><span style="color: #0000ff;">int</span> max1 = x &gt; y ?<span style="color: #000000;"> x : y;
            max2 </span>= max2 &gt; max1 ?<span style="color: #000000;"> max2 : max1;
            </span><span style="color: #0000ff;">if</span>(mp[x][y]&gt;<span style="color: #000000;">time)
               mp[x][y]</span>=mp[y][x]=time;<span style="color: #008000;">//</span><span style="color: #008000;">录入地图 </span>
<span style="color: #000000;">        }
        n </span>= max2;<span style="color: #008000;">//</span><span style="color: #008000;">记录ID最大的城市 </span>
        <span style="color: #0000ff;">int</span> min1 =<span style="color: #000000;"> INF;
        </span><span style="color: #0000ff;">int</span> m[<span style="color: #800080;">1003</span>],n[<span style="color: #800080;">1003</span><span style="color: #000000;">];
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i = <span style="color: #800080;">0</span> ; i &lt; s ; i ++<span style="color: #000000;">)
            scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span>,&amp;<span style="color: #000000;">m[i]);
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i = <span style="color: #800080;">0</span> ;i &lt; d ; i ++<span style="color: #000000;">)
            scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span>,&amp;<span style="color: #000000;">n[i]);
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i = <span style="color: #800080;">0</span> ; i &lt; s ; i ++<span style="color: #000000;">){
            memset(use,</span><span style="color: #0000ff;">true</span>,<span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(use));
            memset(ans,INF</span>-<span style="color: #800080;">1</span>,<span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(ans));
            dij(m[i]);
            </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> j = <span style="color: #800080;">0</span> ; j &lt; d ; j ++<span style="color: #000000;">){
                </span><span style="color: #0000ff;">if</span>( ans[n[j]] &lt; min1 )<span style="color: #008000;">//</span><span style="color: #008000;">ans[n[j]]为到n[j]的距离，选取一个最小值 </span>
                        min1 =<span style="color: #000000;"> ans[n[j]];
            }
        }
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span><span style="color: #000000;">,min1);
    }
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
<span class="cnblogs_code_collapse">起点终点不定的dij运用</span></div>
<table class="table_text" style="width: 100%;" border="0" cellspacing="2" align="center">
<tbody>
<tr align="center">
<td><span style="color: red;">Accepted</span></td>
<td><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2066">2066</a></td>
<td>140MS</td>
<td>5680K</td>
<td>1494 B</td>
<td>C++</td>
</tr>
</tbody>
</table>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>