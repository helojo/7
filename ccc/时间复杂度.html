<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修时间复杂度' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>时间复杂度</center></div><div class='banquan'>原文出处:本文由博客园博主Ra煞提供。<br/>
原文连接:https://www.cnblogs.com/I-Love-You-520/p/11369286.html</div><br>
    <h2>时间复杂度</h2>
<h3><a title="时间复杂度" href="https://www.luogu.org/problem/P3952" target="_blank">题目</a></h3>
<p>【题目描述】</p>
<p>小明正在学习一种新的编程语言 A++，刚学会循环语句的他激动地写了好多程序并 给出了他自己算出的时间复杂度，可他的编程老师实在不想一个一个检查小明的程序， 于是你的机会来啦！</p>
<p>下面请你编写程序来判断小明对他的每个程序给出的时间复杂度是否正确。</p>
<p>A++语言的循环结构如下：</p>
<pre><code>F i x y
    循环体
E
</code></pre>
<p>其中<code>F i x y</code>表示新建变量&nbsp;<span class="katex"><span class="katex-mathml">i<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">（变量&nbsp;<span class="katex"><span class="katex-mathml">i<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">&nbsp;不可与未被销毁的变量重名）并初始化为&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">x， 然后判断&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">i&nbsp;和&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">y&nbsp;的大小关系，若&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">i&nbsp;小于等于&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">y&nbsp;则进入循环，否则不进入。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">每次循环结束后&nbsp;<span class="katex"><span class="katex-mathml">i<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">i都会被修改成&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">i<span class="mord rule"><span class="mbin">+<span class="mord rule"><span class="mord">1，一旦&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">i&nbsp;大于&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">y终止循环。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">x&nbsp;和&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">y&nbsp;可以是正整数（<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">x&nbsp;和&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">y&nbsp;的大小关系不定）或变量&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">n。<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">n&nbsp;是一个表示数据规模的变量，在时间复杂度计算中需保留该变量而不能将其视为常数，该数远大于&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">1<span class="mord">0<span class="mord">0。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>&ldquo;E&rdquo;表示循环体结束。循环体结束时，这个循环体新建的变量也被销毁。</p>
<p>注：本题中为了书写方便，在描述复杂度时，使用大写英文字母&ldquo;O&rdquo;表示通常意义下&ldquo;&Theta;&rdquo;的概念。</p>
<p>【输入格式】</p>
<p>输入文件第一行一个正整数&nbsp;<span class="katex"><span class="katex-mathml">t<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">，表示有&nbsp;<span class="katex"><span class="katex-mathml">t<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">（<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">t<span class="mord rule"><span class="mrel">&le;<span class="mord rule"><span class="mord">1<span class="mord">0）个程序需要计算时间复杂度。每个程序我们只需抽取其中&nbsp;<code>F i x y</code>和<code>E</code>即可计算时间复杂度。注意：循环结构 允许嵌套。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>接下来每个程序的第一行包含一个正整数&nbsp;<span class="katex"><span class="katex-mathml">L<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">&nbsp;和一个字符串，<span class="katex"><span class="katex-mathml">L<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">&nbsp;代表程序行数，字符串表示这个程序的复杂度，<code>O(1)</code>表示常数复杂度，<code>O(n^w)</code>表示复杂度为<span class="katex"><span class="katex-mathml">n^w<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord mathit"><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">，其 中w是一个小于100的正整数（输入中不包含引号），输入保证复杂度只有<code>O(1)</code>和<code>O(n^w)</code>&nbsp;两种类型。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>接下来&nbsp;<span class="katex"><span class="katex-mathml">L<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">&nbsp;行代表程序中循环结构中的<code>F i x y</code>或者&nbsp;<code>E</code>。 程序行若以<code>F</code>开头，表示进入一个循环，之后有空格分离的三个字符（串）<code>i x y</code>， 其中&nbsp;<span class="katex"><span class="katex-mathml">i<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">i&nbsp;是一个小写字母（保证不为<span class="katex"><span class="katex-mathml">n<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">），表示新建的变量名，<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">x&nbsp;和&nbsp;<span class="katex"><span class="katex-mathml">y<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">&nbsp;可能是正整数或&nbsp;<span class="katex"><span class="katex-mathml">n<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">&nbsp;，已知若为正整数则一定小于 100。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>程序行若以<code>E</code>开头，则表示循环体结束。</p>
<p>【输出格式】</p>
<p>输出文件共&nbsp;<span class="katex"><span class="katex-mathml">t<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">&nbsp;行，对应输入的&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">t&nbsp;个程序，每行输出<code>Yes</code>或<code>No</code>或者<code>ERR</code>（输出中不包含引号），若程序实际复杂度与输入给出的复杂度一致则输出<code>Yes</code>，不一致则输出<code>No</code>，若程序有语法错误（其中语法错误只有: ① F 和 E 不匹配 ②新建的变量与已经存在但未被销毁的变量重复两种情况），则输出<code>ERR</code>&nbsp;。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>注意：即使在程序不会执行的循环体中出现了语法错误也会编译错误，要输出&nbsp;<code>ERR</code>。</p>
<p>【输入样例】</p>
<div class="cnblogs_code">
<pre><code><span style="color: #800080;">8</span>
<span style="color: #800080;">2</span> O(<span style="color: #800080;">1</span><span style="color: #000000;">)
F i </span><span style="color: #800080;">1</span> <span style="color: #800080;">1</span><span style="color: #000000;">
E
</span><span style="color: #800080;">2</span> O(n^<span style="color: #800080;">1</span><span style="color: #000000;">)
F x </span><span style="color: #800080;">1</span><span style="color: #000000;"> n
E
</span><span style="color: #800080;">1</span> O(<span style="color: #800080;">1</span><span style="color: #000000;">)
F x </span><span style="color: #800080;">1</span><span style="color: #000000;"> n
</span><span style="color: #800080;">4</span> O(n^<span style="color: #800080;">2</span><span style="color: #000000;">)
F x </span><span style="color: #800080;">5</span><span style="color: #000000;"> n
F y </span><span style="color: #800080;">10</span><span style="color: #000000;"> n
E
E
</span><span style="color: #800080;">4</span> O(n^<span style="color: #800080;">2</span><span style="color: #000000;">)
F x </span><span style="color: #800080;">9</span><span style="color: #000000;"> n
E
F y </span><span style="color: #800080;">2</span><span style="color: #000000;"> n
E
</span><span style="color: #800080;">4</span> O(n^<span style="color: #800080;">1</span><span style="color: #000000;">)
F x </span><span style="color: #800080;">9</span><span style="color: #000000;"> n
F y n </span><span style="color: #800080;">4</span><span style="color: #000000;">
E
E
</span><span style="color: #800080;">4</span> O(<span style="color: #800080;">1</span><span style="color: #000000;">)
F y n </span><span style="color: #800080;">4</span><span style="color: #000000;">
F x </span><span style="color: #800080;">9</span><span style="color: #000000;"> n
E
E
</span><span style="color: #800080;">4</span> O(n^<span style="color: #800080;">2</span><span style="color: #000000;">)
F x </span><span style="color: #800080;">1</span><span style="color: #000000;"> n
F x </span><span style="color: #800080;">1</span> <span style="color: #800080;">10</span><span style="color: #000000;">
E
E</span></pre>
</div>
<p>【输出样例】</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">Yes
Yes
ERR
Yes
No
Yes
Yes
ERR</span></pre>
</div>
<p>&nbsp;</p>
<p>【样例解释】</p>
<p>第一个程序&nbsp;<span class="katex"><span class="katex-mathml">i<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">&nbsp;从 1 到 1 是常数复杂度。</span></span></span></span></span></span></span></p>
<p>第二个程序&nbsp;<span class="katex"><span class="katex-mathml">x<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">&nbsp;从 1 到&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">n&nbsp;是&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">n&nbsp;的一次方的复杂度。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>第三个程序有一个&nbsp;<code>F</code>&nbsp;开启循环却没有&nbsp;<code>E</code>&nbsp;结束，语法错误。</p>
<p>第四个程序二重循环，<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">n&nbsp;的平方的复杂度。</span></span></span></span></span></span></span></p>
<p>第五个程序两个一重循环，<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">n&nbsp;的一次方的复杂度。</span></span></span></span></span></span></span></p>
<p>第六个程序第一重循环正常，但第二重循环开始即终止（因为<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">n远大于100，100大于4）。</span></span></span></span></span></span></span></p>
<p>第七个程序第一重循环无法进入，故为常数复杂度。</p>
<p>第八个程序第二重循环中的变量 x&nbsp;与第一重循环中的变量重复，出现语法错误②，输出&nbsp;<code>ERR</code>。</p>
<p>【数据规模】</p>
<p>对于&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">3<span class="mord">0<span class="mord">%的数据：不存在语法错误，数据保证小明给出的每个程序的前&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">L<span class="mord">/<span class="mord">2&nbsp;行一定为以&nbsp;<code>F</code>&nbsp;开头的语句，第&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">L<span class="mord">/<span class="mord">2<span class="mord rule"><span class="mbin">+<span class="mord rule"><span class="mord">1&nbsp;行至第&nbsp;<span class="katex"><span class="katex-mathml">L<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">&nbsp;行一定为以&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">E&nbsp;开头的语句，<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">L<span class="mord rule"><span class="mrel">&le;<span class="mord rule"><span class="mord">1<span class="mord">0，若&nbsp;<span class="katex"><span class="katex-mathml">x<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">、<span class="katex"><span class="katex-mathml">y<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">&nbsp;均 为整数，<span class="katex"><span class="katex-mathml">x<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">&nbsp;一定小于&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">y，且只有&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">y&nbsp;有可能为&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">n。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>对于&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">5<span class="mord">0<span class="mord">%的数据：不存在语法错误，<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">L<span class="mord rule"><span class="mrel">&le;<span class="mord rule"><span class="mord">1<span class="mord">0<span class="mord">0，且若&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">x、<span class="katex"><span class="katex-mathml">y<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">&nbsp;均为整数，<span class="katex"><span class="katex-mathml">x<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">&nbsp;一定小于&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">y， 且只有&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">y&nbsp;有可能为&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">n。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>对于&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">7<span class="mord">0<span class="mord">%的数据：不存在语法错误，<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">L<span class="mord rule"><span class="mrel">&le;<span class="mord rule"><span class="mord">1<span class="mord">0<span class="mord">0。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>对于&nbsp;<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">1<span class="mord">0<span class="mord">0<span class="mord">%的数据：<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">L<span class="mord rule"><span class="mrel">&le;<span class="mord rule"><span class="mord">1<span class="mord">0<span class="mord">0。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<h3>解析</h3>
<p>很<span style="text-decoration: line-through;">恶心</span>有意思的一道模拟题。</p>
<p>首先，如何计算时间复杂度呢？</p>
<p>根据题意以及样例，可以发现，在当前循环有效的情况下，当且仅当x为数字y为n时w才会+1（仅循环嵌套时w才会+1，两个不嵌套的循环的w是不相关的）。</p>
<p>知道如何计算时间复杂度后，便可以开始模拟了。</p>
<p>用work()函数来处理每行：</p>
<p>先读入一个字符，如果是'F'，</p>
<ul>
<li>则令n[++f]=true(n代表第f个循环是否运行)。</li>
<li>然后读入i x y(同题意)，并用name数组记录字母i，如果当前字母出现过且没被销毁，则令ok=false，标记错误。</li>
<li>在读入y时，</li>
<li>如果y='n'，则</li>
<li>1、如果x='n'：ans--(ans表示w)，因为如果x、y均为'n'，循环就只运行1次，所以ans是不会增加的(后面ans++，这里ans--就可以让ans不变)。</li>
<li>2、如果n[f-1](上一个循环可以运行，则这个循环也可以运行)：ans++，bj[f]=true(bj[f]表示第f层循环时ans自加了，后面在销毁循环时可以找到该循环令ans--，以免影响其他循环)。</li>
<li>如果y为数字，则判断x与y的大小，如果y大，那么循环不会进行，就令n[f]=false。</li>
<li>在'F'指令的最后，要记得判断如果n[f-1]=false(即上一个循环不进行)，则令n[f]=false(当前循环也不会进行)。</li>
</ul>
<p>如果是'E'，</p>
<ul>
<li>令maxn=max(maxn,ans)，记录最大值。</li>
<li>如果bj[f](意义见'F'指令)，令bj[f]=false，ans--。</li>
<li>最后记得f--。</li>
</ul>
<p>不要忘了在每个work()函数开头加上n[0]=true，不然会出现玄学错误。</p>
<p>所有work()处理完后，如果f不为0('F'指令与'E'指令数量不同)或!ok，直接输出ERR。</p>
<p>最后只需要判断w与maxn是否相等就可以了。</p>
<p>结束了？并没有，这题为什么<span style="text-decoration: line-through;">恶心</span>有趣？就在于输入处理，</p>
<p>在读入字符(串)时，读完后还得多读一遍来读入空格和换行（<span style="text-decoration: line-through;">害本蒟蒻改了一下午！</span>）。</p>
<p>所以在代码中会看到很多莫名其妙的读入，这个就自行理解吧（<span style="text-decoration: line-through;">本蒟蒻也没办法QAQ</span>）。</p>
<h3>Code</h3>
<div class="cnblogs_code" onclick="cnblogs_code_show('85365cc7-f573-41d8-91f1-4264441fe4b1')"><img id="code_img_closed_85365cc7-f573-41d8-91f1-4264441fe4b1" class="code_img_closed" src="./images/时间复杂度0.png" alt="" /><img id="code_img_opened_85365cc7-f573-41d8-91f1-4264441fe4b1" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('85365cc7-f573-41d8-91f1-4264441fe4b1',event)" src="./images/时间复杂度1.png" alt="" />
<div id="cnblogs_code_open_85365cc7-f573-41d8-91f1-4264441fe4b1" class="cnblogs_code_hide">
<pre>#include &lt;algorithm&gt;<span style="color: #000000;">
#include </span>&lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;cstring&gt;<span style="color: #000000;">
#include </span>&lt;<span style="color: #0000ff;">string</span>&gt;<span style="color: #000000;">
#include </span>&lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;cmath&gt;<span style="color: #000000;">
#include </span>&lt;stack&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> t,l,f,temp,ans,maxn;
</span><span style="color: #0000ff;">char</span> ch,x,y,name[<span style="color: #800080;">101</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">bool</span> bj[<span style="color: #800080;">101</span>],ok,n[<span style="color: #800080;">101</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">string</span><span style="color: #000000;"> O;
</span><span style="color: #0000ff;">void</span><span style="color: #000000;"> work()
{
    n[</span><span style="color: #800080;">0</span>]=<span style="color: #0000ff;">true</span><span style="color: #000000;">;
    ch</span>=<span style="color: #000000;">getchar();getchar();
    </span><span style="color: #0000ff;">if</span>(ch==<span style="color: #800000;">'</span><span style="color: #800000;">F</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">int</span> numx=<span style="color: #800080;">0</span>,numy=<span style="color: #800080;">0</span><span style="color: #000000;">;
        n[</span>++f]=<span style="color: #0000ff;">true</span><span style="color: #000000;">;
        ch</span>=<span style="color: #000000;">getchar();
        getchar();
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;f;i++<span style="color: #000000;">)
            </span><span style="color: #0000ff;">if</span>(name[i]==ch) ok=<span style="color: #0000ff;">false</span><span style="color: #000000;">;
        name[f]</span>=<span style="color: #000000;">ch;
        x</span>=<span style="color: #000000;">getchar();
        </span><span style="color: #0000ff;">if</span>(x!=<span style="color: #800000;">'</span><span style="color: #800000;">n</span><span style="color: #800000;">'</span>) <span style="color: #0000ff;">while</span>(x&gt;=<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>&amp;&amp;x&lt;=<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span><span style="color: #000000;">)
        {
            numx</span>=(numx&lt;&lt;<span style="color: #800080;">1</span>)+(numx&lt;&lt;<span style="color: #800080;">3</span>)+x-<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span><span style="color: #000000;">;
            x</span>=<span style="color: #000000;">getchar();
        }
        </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> getchar();
        y</span>=<span style="color: #000000;">getchar();
        </span><span style="color: #0000ff;">if</span>(y==<span style="color: #800000;">'</span><span style="color: #800000;">n</span><span style="color: #800000;">'</span><span style="color: #000000;">)
        {
            </span><span style="color: #0000ff;">if</span>(x==<span style="color: #800000;">'</span><span style="color: #800000;">n</span><span style="color: #800000;">'</span>) ans--<span style="color: #000000;">;
            </span><span style="color: #0000ff;">if</span>(n[f-<span style="color: #800080;">1</span><span style="color: #000000;">])
            {
                ans</span>++<span style="color: #000000;">;
                bj[f]</span>=<span style="color: #0000ff;">true</span><span style="color: #000000;">;
            }
            </span><span style="color: #0000ff;">else</span> n[f]=<span style="color: #0000ff;">false</span><span style="color: #000000;">;
            getchar();
        }
        </span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">while</span>(y&gt;=<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>&amp;&amp;y&lt;=<span style="color: #800000;">'</span><span style="color: #800000;">9</span><span style="color: #800000;">'</span><span style="color: #000000;">)
        {
            numy</span>=(numy&lt;&lt;<span style="color: #800080;">1</span>)+(numy&lt;&lt;<span style="color: #800080;">3</span>)+y-<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span><span style="color: #000000;">;
            y</span>=<span style="color: #000000;">getchar();
        }
        </span><span style="color: #0000ff;">if</span>(numy!=<span style="color: #800080;">0</span>&amp;&amp;(numy&lt;numx||x==<span style="color: #800000;">'</span><span style="color: #800000;">n</span><span style="color: #800000;">'</span>)) n[f]=<span style="color: #0000ff;">false</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">if</span>(!n[f-<span style="color: #800080;">1</span>]) n[f]=<span style="color: #0000ff;">false</span><span style="color: #000000;">;
    }
    </span><span style="color: #0000ff;">else</span><span style="color: #000000;">
    {
        maxn</span>=<span style="color: #000000;">max(ans,maxn);
        </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(bj[f])
        {
            bj[f]</span>=<span style="color: #0000ff;">false</span><span style="color: #000000;">;
            ans</span>--<span style="color: #000000;">;
        }
        f</span>--<span style="color: #000000;">;
    }
}
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    cin</span>&gt;&gt;<span style="color: #000000;">t;
    </span><span style="color: #0000ff;">while</span>(t--<span style="color: #000000;">)
    {
        memset(bj,</span><span style="color: #0000ff;">false</span>,<span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(bj));
        f</span>=<span style="color: #800080;">0</span>,ans=<span style="color: #800080;">0</span>,maxn=<span style="color: #800080;">0</span>,ok=<span style="color: #0000ff;">true</span><span style="color: #000000;">;
        cin</span>&gt;&gt;l&gt;&gt;O;scanf(<span style="color: #800000;">"</span><span style="color: #800000;">\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=l;i++<span style="color: #000000;">) work();
        </span><span style="color: #0000ff;">if</span>(f==<span style="color: #800080;">0</span>&amp;&amp;<span style="color: #000000;">ok)
        {
            </span><span style="color: #0000ff;">if</span>(maxn==<span style="color: #800080;">0</span><span style="color: #000000;">)
            {
                </span><span style="color: #0000ff;">if</span>(O[<span style="color: #800080;">2</span>]==<span style="color: #800000;">'</span><span style="color: #800000;">1</span><span style="color: #800000;">'</span>) cout&lt;&lt;<span style="color: #800000;">"</span><span style="color: #800000;">Yes</span><span style="color: #800000;">"</span>&lt;&lt;<span style="color: #000000;">endl;
                </span><span style="color: #0000ff;">else</span> cout&lt;&lt;<span style="color: #800000;">"</span><span style="color: #800000;">No</span><span style="color: #800000;">"</span>&lt;&lt;<span style="color: #000000;">endl;
            }
            </span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(maxn&lt;=<span style="color: #800080;">9</span><span style="color: #000000;">)
            {
                </span><span style="color: #0000ff;">if</span>(O.size()==<span style="color: #800080;">6</span>&amp;&amp;O[<span style="color: #800080;">4</span>]-<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>==maxn) cout&lt;&lt;<span style="color: #800000;">"</span><span style="color: #800000;">Yes</span><span style="color: #800000;">"</span>&lt;&lt;<span style="color: #000000;">endl;
                </span><span style="color: #0000ff;">else</span> cout&lt;&lt;<span style="color: #800000;">"</span><span style="color: #800000;">No</span><span style="color: #800000;">"</span>&lt;&lt;<span style="color: #000000;">endl;
            }
            </span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(O.size()==<span style="color: #800080;">7</span><span style="color: #000000;">)
            {
                </span><span style="color: #0000ff;">if</span>(maxn/<span style="color: #800080;">10</span>==O[<span style="color: #800080;">4</span>]-<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>&amp;&amp;maxn%<span style="color: #800080;">10</span>==O[<span style="color: #800080;">5</span>]-<span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span>) cout&lt;&lt;<span style="color: #800000;">"</span><span style="color: #800000;">Yes</span><span style="color: #800000;">"</span>&lt;&lt;<span style="color: #000000;">endl;
                </span><span style="color: #0000ff;">else</span> cout&lt;&lt;<span style="color: #800000;">"</span><span style="color: #800000;">No</span><span style="color: #800000;">"</span>&lt;&lt;<span style="color: #000000;">endl;    
            }
        }
        </span><span style="color: #0000ff;">else</span> cout&lt;&lt;<span style="color: #800000;">"</span><span style="color: #800000;">ERR</span><span style="color: #800000;">"</span>&lt;&lt;<span style="color: #000000;">endl;
    }
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>