<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修L2-022 重排链表（链表）' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>L2-022 重排链表（链表）</center></div><div class='banquan'>原文出处:本文由博客园博主小泰格儿提供。<br/>
原文连接:https://www.cnblogs.com/littleLittleTiger/p/10603905.html</div><br>
    <h2>题目：</h2>
<div class="problem_2tXnk p-3 mb-3 background-grey-1">
<div class="ques-view">
<p>给定一个单链表 <span class="katex"><span class="katex-html"><span class="strut" style="height: 0.68333em;"><span class="strut bottom" style="height: 0.83333em; vertical-align: -0.15em;"><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">L<span class="msupsub"><span class="vlist"><span style="top: 0.15em; margin-right: 0.05em; margin-left: 0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size: 0em;">​<span class="reset-textstyle scriptstyle cramped mtight"><span class="mord mathrm mtight">1<span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size: 0em;">​​&rarr;<span class="katex"><span class="katex-html"><span class="strut" style="height: 0.68333em;"><span class="strut bottom" style="height: 0.83333em; vertical-align: -0.15em;"><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">L<span class="msupsub"><span class="vlist"><span style="top: 0.15em; margin-right: 0.05em; margin-left: 0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size: 0em;">​<span class="reset-textstyle scriptstyle cramped mtight"><span class="mord mathrm mtight">2<span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size: 0em;">​​&rarr;<span class="katex"><span class="katex-html"><span class="strut" style="height: 0.31em;"><span class="strut bottom" style="height: 0.31em; vertical-align: 0em;"><span class="base textstyle uncramped"><span class="minner">⋯&rarr;<span class="katex"><span class="katex-html"><span class="strut" style="height: 0.68333em;"><span class="strut bottom" style="height: 0.891661em; vertical-align: -0.208331em;"><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">L<span class="msupsub"><span class="vlist"><span style="top: 0.15em; margin-right: 0.05em; margin-left: 0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size: 0em;">​<span class="reset-textstyle scriptstyle cramped mtight"><span class="mord scriptstyle cramped mtight"><span class="mord mathit mtight">n<span class="mbin mtight">&minus;<span class="mord mathrm mtight">1<span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size: 0em;">​​&rarr;<span class="katex"><span class="katex-html"><span class="strut" style="height: 0.68333em;"><span class="strut bottom" style="height: 0.83333em; vertical-align: -0.15em;"><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">L<span class="msupsub"><span class="vlist"><span style="top: 0.15em; margin-right: 0.05em; margin-left: 0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size: 0em;">​<span class="reset-textstyle scriptstyle cramped mtight"><span class="mord mathit mtight">n<span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size: 0em;">​​，请编写程序将链表重新排列为 <span class="katex"><span class="katex-html"><span class="strut" style="height: 0.68333em;"><span class="strut bottom" style="height: 0.83333em; vertical-align: -0.15em;"><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">L<span class="msupsub"><span class="vlist"><span style="top: 0.15em; margin-right: 0.05em; margin-left: 0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size: 0em;">​<span class="reset-textstyle scriptstyle cramped mtight"><span class="mord mathit mtight">n<span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size: 0em;">​​&rarr;<span class="katex"><span class="katex-html"><span class="strut" style="height: 0.68333em;"><span class="strut bottom" style="height: 0.83333em; vertical-align: -0.15em;"><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">L<span class="msupsub"><span class="vlist"><span style="top: 0.15em; margin-right: 0.05em; margin-left: 0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size: 0em;">​<span class="reset-textstyle scriptstyle cramped mtight"><span class="mord mathrm mtight">1<span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size: 0em;">​​&rarr;<span class="katex"><span class="katex-html"><span class="strut" style="height: 0.68333em;"><span class="strut bottom" style="height: 0.891661em; vertical-align: -0.208331em;"><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">L<span class="msupsub"><span class="vlist"><span style="top: 0.15em; margin-right: 0.05em; margin-left: 0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size: 0em;">​<span class="reset-textstyle scriptstyle cramped mtight"><span class="mord scriptstyle cramped mtight"><span class="mord mathit mtight">n<span class="mbin mtight">&minus;<span class="mord mathrm mtight">1<span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size: 0em;">​​&rarr;<span class="katex"><span class="katex-html"><span class="strut" style="height: 0.68333em;"><span class="strut bottom" style="height: 0.83333em; vertical-align: -0.15em;"><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">L<span class="msupsub"><span class="vlist"><span style="top: 0.15em; margin-right: 0.05em; margin-left: 0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size: 0em;">​<span class="reset-textstyle scriptstyle cramped mtight"><span class="mord mathrm mtight">2<span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size: 0em;">​​&rarr;<span class="katex"><span class="katex-html"><span class="strut" style="height: 0.31em;"><span class="strut bottom" style="height: 0.31em; vertical-align: 0em;"><span class="base textstyle uncramped"><span class="minner">⋯。例如：给定<span class="katex"><span class="katex-html"><span class="strut" style="height: 0.68333em;"><span class="strut bottom" style="height: 0.68333em; vertical-align: 0em;"><span class="base textstyle uncramped"><span class="mord mathit">L为1&rarr;2&rarr;3&rarr;4&rarr;5&rarr;6，则输出应该为6&rarr;1&rarr;5&rarr;2&rarr;4&rarr;3。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<h3 id="-">输入格式：</h3>
<p>每个输入包含1个测试用例。每个测试用例第1行给出第1个结点的地址和结点总个数，即正整数<span class="katex"><span class="katex-html"><span class="strut" style="height: 0.68333em;"><span class="strut bottom" style="height: 0.68333em; vertical-align: 0em;"><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right: 0.10903em;">N (<span class="katex"><span class="katex-html"><span class="strut" style="height: 0.8141079999999999em;"><span class="strut bottom" style="height: 0.950078em; vertical-align: -0.13597em;"><span class="base textstyle uncramped"><span class="mrel">&le;<span class="mord mathrm">1<span class="mord"><span class="mord mathrm">0^5^)。结点的地址是5位非负整数，NULL地址用-1表示。<span class="msupsub"><span class="vlist"><span style="top: -0.363em; margin-right: 0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size: 0em;">​<span class="reset-textstyle scriptstyle uncramped mtight"><span class="mord mathrm mtight">5<span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size: 0em;">​​)。结点的地址是5位非负整数，NULL地址用<span class="katex"><span class="katex-html"><span class="strut" style="height: 0.64444em;"><span class="strut bottom" style="height: 0.72777em; vertical-align: -0.08333em;"><span class="base textstyle uncramped"><span class="mord">&minus;<span class="mord mathrm">1表示。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>接下来有<span class="katex"><span class="katex-html"><span class="strut" style="height: 0.68333em;"><span class="strut bottom" style="height: 0.68333em; vertical-align: 0em;"><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right: 0.10903em;">N行，每行格式为：</span></span></span></span></span></span></p>
<pre><code>Address Data Next
</code></pre>
<p>其中<code>Address</code>是结点地址；<code>Data</code>是该结点保存的数据，为不超过<span class="katex"><span class="katex-html"><span class="strut" style="height: 0.8141079999999999em;"><span class="strut bottom" style="height: 0.8141079999999999em; vertical-align: 0em;"><span class="base textstyle uncramped"><span class="mord mathrm">1<span class="mord"><span class="mord mathrm">0<span class="msupsub"><span class="vlist"><span style="top: -0.363em; margin-right: 0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size: 0em;">​<span class="reset-textstyle scriptstyle uncramped mtight"><span class="mord mathrm mtight">5<span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size: 0em;">​​的正整数；<code>Next</code>是下一结点的地址。题目保证给出的链表上至少有两个结点。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<h3 id="-">输出格式：</h3>
<p>对每个测试用例，顺序输出重排后的结果链表，其上每个结点占一行，格式与输入相同。</p>
<h3 id="-">输入样例：</h3>
<pre><code class="lang-in">00100 6
00000 4 99999
00100 1 12309
68237 6 -1
33218 3 00000
99999 5 68237
12309 2 33218
</code></pre>
<h3 id="-">输出样例：</h3>
<pre><code class="lang-out">68237 6 00100
00100 1 99999
99999 5 12309
12309 2 00000
00000 4 33218
33218 3 -1
</code></pre>
</div>
</div>
<p>&nbsp;</p>
<h2>思路：</h2>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 和我写的上一篇思路差不多，只要是这种链表重新排序的题，好像一般就先把输入存入结构体数组，然后从第一个结点的地址开始顺着把链表捋一遍，每个结点的地址按顺序存入一个数组，然后按要输出的顺序重新排一下这些地址，再按着重排后的地址输出就行了。嘿嘿嘿，又发现一个套路^^</p>
<p>&nbsp;</p>
<h2>上代码：</h2>
<div class="cnblogs_code">
<pre>#include &lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;algorithm&gt;
<span style="color: #0000ff;">struct</span><span style="color: #000000;"> NODE{
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> key,next;
}node[</span><span style="color: #800080;">100005</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #0000ff;">int</span> start,n,sum=<span style="color: #800080;">0</span><span style="color: #000000;">,add;
    cin</span>&gt;&gt;start&gt;&gt;<span style="color: #000000;">n;
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> pre[n];
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> ans[n];
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>;i&lt;n;i++<span style="color: #000000;">)
    {
        cin</span>&gt;&gt;<span style="color: #000000;">add;
        cin</span>&gt;&gt;node[add].key&gt;&gt;<span style="color: #000000;">node[add].next;
    }
    </span><span style="color: #0000ff;">int</span> index=<span style="color: #000000;">start;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>;index!=-<span style="color: #800080;">1</span>;i++<span style="color: #000000;">)
    {
        pre[i]</span>=<span style="color: #000000;">index;
        index</span>=<span style="color: #000000;">node[index].next;
        sum</span>++<span style="color: #000000;">;
    }
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>;i&lt;sum;i++<span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span>(i%<span style="color: #800080;">2</span>==<span style="color: #800080;">0</span><span style="color: #000000;">){
            ans[i]</span>=pre[sum-<span style="color: #800080;">1</span>-i/<span style="color: #800080;">2</span><span style="color: #000000;">];
        }</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
            ans[i]</span>=pre[(i+<span style="color: #800080;">1</span>)/<span style="color: #800080;">2</span>-<span style="color: #800080;">1</span><span style="color: #000000;">];
        }
    }
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span>;i&lt;sum;i++<span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span>(i==<span style="color: #800080;">0</span><span style="color: #000000;">){
            printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%05d %d </span><span style="color: #800000;">"</span><span style="color: #000000;">,ans[i],node[ans[i]].key);
            </span><span style="color: #0000ff;">continue</span><span style="color: #000000;">;
        }</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
            printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%05d\n</span><span style="color: #800000;">"</span><span style="color: #000000;">,ans[i]);
            printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%05d %d </span><span style="color: #800000;">"</span><span style="color: #000000;">,ans[i],node[ans[i]].key);
        }
    }
    cout</span>&lt;&lt;<span style="color: #800000;">"</span><span style="color: #800000;">-1</span><span style="color: #800000;">"</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
 } </span></pre>
</div>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>