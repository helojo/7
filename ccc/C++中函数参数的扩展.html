<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修C++中函数参数的扩展' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>C++中函数参数的扩展</center></div><div class='banquan'>原文出处:本文由博客园博主子宇24提供。<br/>
原文连接:https://www.cnblogs.com/dishengAndziyu/p/10902974.html</div><br>
    <p align="left">1，C++ 可以看成是一种更好的 C 语言，所以 C++ 会考虑 C 的欠缺部分，然后给&nbsp; 与一些补充和扩展，本节课讲述 C++ 对函数参数的非常重要的扩展；</p>
<p align="left">&nbsp;</p>
<p align="left">2，函数参数的默认值：</p>
<p align="left">&nbsp;&nbsp;&nbsp; 1，C++ 中可以在函数声明时为参数提供一个默认值；</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1，也可以在函数声明和定义在一起的时候来提供默认值；</p>
<p align="left">&nbsp;&nbsp;&nbsp; 2，作用是当函数调用时没有提供参数的值，则使用默认值；</p>
<p align="left">&nbsp;&nbsp;&nbsp; 3，int mul(int x = 0);&nbsp; // 函数的前项声明，这里使用了默认值；</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">int</span> main(<span style="color: #0000ff;">int</span> argc, <span style="color: #0000ff;">char</span>*<span style="color: #000000;"> argv[])
</span><span style="color: #008080;"> 2</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 3</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span>, mul());  <span style="color: #008000;">//</span><span style="color: #008000;"> mul(0)</span>
<span style="color: #008080;"> 4</span> 
<span style="color: #008080;"> 5</span>     <span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 6</span> <span style="color: #000000;">}
</span><span style="color: #008080;"> 7</span> 
<span style="color: #008080;"> 8</span> <span style="color: #0000ff;">int</span> mul(<span style="color: #0000ff;">int</span> x)  <span style="color: #008000;">//</span><span style="color: #008000;">函数声明的时候提供默认值，定义的时候没有必要提供；</span>
<span style="color: #008080;"> 9</span> <span style="color: #000000;">{
</span><span style="color: #008080;">10</span>     <span style="color: #0000ff;">return</span> x *<span style="color: #000000;"> x;
</span><span style="color: #008080;">11</span> }</pre>
</div>
<p align="left">&nbsp;</p>
<p align="left">3，参数的默认值必须在函数声明中指定：</p>
<p align="left">&nbsp;&nbsp;&nbsp; 1，问题：</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1，函数定义中是否可以出现参数的默认值？</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1，不可以，编译出错；</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2，当函数声明和定义在一起的时候，可以出现参数的默认值；</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2，当函数声明和定义中的参数默认值不同时会发生什么？</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1，不可以，编译出错；</p>
<p align="left">&nbsp;&nbsp;&nbsp; 2，代码示例：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> <span style="color: #0000ff;">int</span> mul(<span style="color: #0000ff;">int</span> x = <span style="color: #800080;">0</span><span style="color: #000000;">);
</span><span style="color: #008080;">2</span> 
<span style="color: #008080;">3</span> <span style="color: #008000;">//</span><span style="color: #008000;"> ...</span>
<span style="color: #008080;">4</span> 
<span style="color: #008080;">5</span> <span style="color: #0000ff;">int</span> mul(<span style="color: #0000ff;">int</span> x = <span style="color: #800080;">5</span><span style="color: #000000;">)
</span><span style="color: #008080;">6</span> <span style="color: #000000;">{
</span><span style="color: #008080;">7</span>     <span style="color: #0000ff;">return</span> x *<span style="color: #000000;"> x;
</span><span style="color: #008080;">8</span> }</pre>
</div>
<p align="left">&nbsp;&nbsp;&nbsp; 3，默认参数值初探实例分析：</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1，main.cpp 文件：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> #include &lt;stdio.h&gt;
<span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">int</span> mul(<span style="color: #0000ff;">int</span> x = <span style="color: #800080;">0</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 4</span> 
<span style="color: #008080;"> 5</span> <span style="color: #0000ff;">int</span> main(<span style="color: #0000ff;">int</span> argc, <span style="color: #0000ff;">char</span> *<span style="color: #000000;">argv[])
</span><span style="color: #008080;"> 6</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 7</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span><span style="color: #000000;">, mul());
</span><span style="color: #008080;"> 8</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span>, mul(-<span style="color: #800080;">1</span><span style="color: #000000;">));
</span><span style="color: #008080;"> 9</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span>, mul(<span style="color: #800080;">2</span><span style="color: #000000;">));
</span><span style="color: #008080;">10</span>     
<span style="color: #008080;">11</span>     <span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">12</span> <span style="color: #000000;">}
</span><span style="color: #008080;">13</span> 
<span style="color: #008080;">14</span> <span style="color: #0000ff;">int</span> mul(<span style="color: #0000ff;">int</span><span style="color: #000000;"> x)
</span><span style="color: #008080;">15</span> <span style="color: #000000;">{
</span><span style="color: #008080;">16</span>     <span style="color: #0000ff;">return</span> x *<span style="color: #000000;"> x;
</span><span style="color: #008080;">17</span> <span style="color: #000000;">}
</span><span style="color: #008080;">18</span> 
<span style="color: #008080;">19</span> <span style="color: #008000;">/*</span>
<span style="color: #008080;">20</span> <span style="color: #008000;">int mul(int x = 5)  // error: default argument given for parameter 1 of 'int mul(int)'
</span><span style="color: #008080;">21</span> <span style="color: #008000;">{
</span><span style="color: #008080;">22</span> <span style="color: #008000;">    return x * x;
</span><span style="color: #008080;">23</span> <span style="color: #008000;">}
</span><span style="color: #008080;">24</span> <span style="color: #008000;">*/</span></pre>
</div>
<p align="left">2，输出结果：</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp; 0</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp; 1</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp; 4</p>
<p align="left">3，当上述代码用 C 语言编译时，第三行有错，证明了函数参数的默认值&nbsp;&nbsp; 是 C++ 语言对 C 语言的一个扩展；</p>
<p align="left">&nbsp;</p>
<p align="left">4，函数默认参数的规则：</p>
<p align="left">&nbsp;&nbsp;&nbsp; 1，函数设计时，多个参数的默认值必须从右向左提供；</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1，这个设计，是指函数声明或者函数声明和定义在一起的时候；</p>
<p align="left">&nbsp;&nbsp;&nbsp; 2，函数调用时，使用了默认值，则后续参数必须使用默认值；</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> <span style="color: #0000ff;">int</span> add(<span style="color: #0000ff;">int</span> x, <span style="color: #0000ff;">int</span> y = <span style="color: #800080;">1</span>, <span style="color: #0000ff;">int</span> z = <span style="color: #800080;">2</span>)  <span style="color: #008000;">//</span><span style="color: #008000;"> 这里即是声明，也是调用；</span>
<span style="color: #008080;">2</span> <span style="color: #000000;">{
</span><span style="color: #008080;">3</span>      <span style="color: #0000ff;">return</span> x + y +<span style="color: #000000;"> z;
</span><span style="color: #008080;">4</span> <span style="color: #000000;">}
</span><span style="color: #008080;">5</span> 
<span style="color: #008080;">6</span> add(<span style="color: #800080;">0</span>);  <span style="color: #008000;">//</span><span style="color: #008000;"> x = 0, y = 1, z = 2；</span>
<span style="color: #008080;">7</span> add(<span style="color: #800080;">2</span>, <span style="color: #800080;">3</span>);  <span style="color: #008000;">//</span><span style="color: #008000;"> x = 2, y = 3, z = 2；</span>
<span style="color: #008080;">8</span> add(<span style="color: #800080;">3</span>, <span style="color: #800080;">2</span>, <span style="color: #800080;">1</span>);  <span style="color: #008000;">//</span><span style="color: #008000;"> x = 3, y = 2, z = 1；</span></pre>
</div>
<p align="left">&nbsp;&nbsp;&nbsp;</p>
<p align="left">5，默认参数的错误示例编程实验：</p>
<p align="left">&nbsp;&nbsp;&nbsp; 1，main.cpp 文件：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> #include &lt;stdio.h&gt;
<span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">int</span> add(<span style="color: #0000ff;">int</span> x, <span style="color: #0000ff;">int</span> y = <span style="color: #800080;">0</span>, <span style="color: #0000ff;">int</span> z = <span style="color: #800080;">0</span>); <span style="color: #008000;">//</span><span style="color: #008000;">当 z 未提供默认值的时候，编译器显示：error: default argument missing for parameter 3 of 'int add(int, int, int)'</span>
<span style="color: #008080;"> 4</span> 
<span style="color: #008080;"> 5</span> <span style="color: #0000ff;">int</span> main(<span style="color: #0000ff;">int</span> argc, <span style="color: #0000ff;">char</span> *<span style="color: #000000;">argv[])
</span><span style="color: #008080;"> 6</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 7</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span>, add(<span style="color: #800080;">1</span><span style="color: #000000;">));
</span><span style="color: #008080;"> 8</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span>, add(<span style="color: #800080;">1</span>, <span style="color: #800080;">2</span><span style="color: #000000;">));
</span><span style="color: #008080;"> 9</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span>, add(<span style="color: #800080;">1</span>, <span style="color: #800080;">2</span>, <span style="color: #800080;">3</span><span style="color: #000000;">));
</span><span style="color: #008080;">10</span>     
<span style="color: #008080;">11</span>     <span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">12</span> <span style="color: #000000;">}
</span><span style="color: #008080;">13</span> 
<span style="color: #008080;">14</span> <span style="color: #0000ff;">int</span> add(<span style="color: #0000ff;">int</span> x, <span style="color: #0000ff;">int</span> y, <span style="color: #0000ff;">int</span><span style="color: #000000;"> z)
</span><span style="color: #008080;">15</span> <span style="color: #000000;">{
</span><span style="color: #008080;">16</span>     <span style="color: #0000ff;">return</span> x + y +<span style="color: #000000;"> z;
</span><span style="color: #008080;">17</span> }</pre>
</div>
<p align="left">&nbsp;&nbsp;&nbsp; 2，输出结果：</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6.</p>
<p align="left">&nbsp;</p>
<p align="left">6，函数占位参数：</p>
<p align="left">&nbsp;&nbsp;&nbsp; 1，在 C++ 中可以为函数提供占位参数；</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1，占位参数只有参数类型声明，而没有参数名声明；</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1，占位参数本质也是函数参数；</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2，占位参数：有类无名；&nbsp;</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2，一般情况下，在函数体内部无法使用占位参数；</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1，没有名字，所以在函数体内部无法使用；</p>
<p align="left">&nbsp;&nbsp;&nbsp; 2，代码示例：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> <span style="color: #0000ff;">int</span> func(<span style="color: #0000ff;">int</span> x, <span style="color: #0000ff;">int</span><span style="color: #000000;">)
</span><span style="color: #008080;">2</span> <span style="color: #000000;">{
</span><span style="color: #008080;">3</span>      <span style="color: #0000ff;">return</span><span style="color: #000000;"> x;
</span><span style="color: #008080;">4</span> <span style="color: #000000;">}
</span><span style="color: #008080;">5</span> 
<span style="color: #008080;">6</span> <span style="color: #008000;">//</span><span style="color: #008000;"> ...</span>
<span style="color: #008080;">7</span> 
<span style="color: #008080;">8</span> func(<span style="color: #800080;">1</span>, <span style="color: #800080;">2</span>);  <span style="color: #008000;">//</span><span style="color: #008000;"> ok，这是占位参数的用途；</span></pre>
</div>
<p align="left">&nbsp;</p>
<p align="left">7，函数占位参数的意义：</p>
<p align="left">&nbsp;&nbsp;&nbsp; 1，占位参数与默认参数结合起来使用；</p>
<p align="left">&nbsp;&nbsp;&nbsp; 2，兼容 C 语言程序中可能出现的不规范写法；</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1，void func(); 与 void func(void); 两种声明方式等价吗？</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1，在 C 语言中，前者接受任意多参数，后者不接受参数，因此不 等价；</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2，在 C++ 语言中，等价；</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2，在 C++ 中，最少的改动，就能够兼容 C 程序，且不用带来 bug；</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3，代码示例：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> #include &lt;stdio.h&gt;
<span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">void</span> func()  <span style="color: #008000;">//</span><span style="color: #008000;"> 从 C 到 C++，更改为 void func(int, int)即可；</span>
<span style="color: #008080;"> 4</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 5</span> <span style="color: #000000;">}
</span><span style="color: #008080;"> 6</span> 
<span style="color: #008080;"> 7</span> <span style="color: #0000ff;">int</span> mian(<span style="color: #0000ff;">int</span> argc, <span style="color: #0000ff;">char</span>*<span style="color: #000000;"> argv[])
</span><span style="color: #008080;"> 8</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 9</span>     <span style="color: #008000;">//</span><span style="color: #008000;"> func();  </span><span style="color: #008000;">//</span><span style="color: #008000;">若在 C 中也有这一行代码，C++ 中只用占位参数时，这里错误，可以结合默认参数值，更改为 void func(int = 0, int = 0)；</span>
<span style="color: #008080;">10</span>     func(<span style="color: #800080;">1</span>, <span style="color: #800080;">2</span>);  <span style="color: #008000;">//</span><span style="color: #008000;"> C++ 中不用占位参数时，这里错误；</span>
<span style="color: #008080;">11</span>     
<span style="color: #008080;">12</span>     <span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">13</span> }</pre>
</div>
<p align="left">&nbsp;</p>
<p align="left">8，占位参数与默认参数值编程实验：</p>
<p align="left">&nbsp;&nbsp;&nbsp; 1，main.cpp 文件：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> #include &lt;stdio.h&gt;
<span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">int</span> func(<span style="color: #0000ff;">int</span> x, <span style="color: #0000ff;">int</span> = <span style="color: #800080;">0</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 4</span> 
<span style="color: #008080;"> 5</span> <span style="color: #0000ff;">int</span> main(<span style="color: #0000ff;">int</span> argc, <span style="color: #0000ff;">char</span> *<span style="color: #000000;">argv[])
</span><span style="color: #008080;"> 6</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 7</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span>, func(<span style="color: #800080;">1</span>));  <span style="color: #008000;">//</span><span style="color: #008000;"> 利用默认参数；</span>
<span style="color: #008080;"> 8</span>     printf(<span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span>, func(<span style="color: #800080;">2</span>, <span style="color: #800080;">3</span>));  <span style="color: #008000;">//</span><span style="color: #008000;"> 利用占位参数；</span>
<span style="color: #008080;"> 9</span>     
<span style="color: #008080;">10</span>     <span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">11</span> <span style="color: #000000;">}
</span><span style="color: #008080;">12</span> 
<span style="color: #008080;">13</span> <span style="color: #0000ff;">int</span> func(<span style="color: #0000ff;">int</span> x, <span style="color: #0000ff;">int</span><span style="color: #000000;">)
</span><span style="color: #008080;">14</span> <span style="color: #000000;">{
</span><span style="color: #008080;">15</span>     <span style="color: #0000ff;">return</span><span style="color: #000000;"> x;
</span><span style="color: #008080;">16</span> }</pre>
</div>
<p>&nbsp;</p>
<p align="left">9，小结：</p>
<p align="left">&nbsp;&nbsp;&nbsp; 1，C++ 中支持函数参数的默认值；</p>
<p align="left">&nbsp;&nbsp;&nbsp; 2，如果函数调用时没有提供参数值，则使用默认值；</p>
<p align="left">&nbsp;&nbsp;&nbsp; 3，参数的默认值必须使从右向左提供；</p>
<p align="left">&nbsp;&nbsp;&nbsp; 4，参数调用时使用了默认值，则后续参数必须使用默认值；</p>
<p>&nbsp;&nbsp;&nbsp; 5，C++ 中支持占位参数，用于兼容 C 语言中的不规范写法；</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>