<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修体验CodeBlocks下的Windows GUI编程（32 bit and 64 bit）' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>体验CodeBlocks下的Windows GUI编程（32 bit and 64 bit）</center></div><div class='banquan'>原文出处:本文由博客园博主lexyao提供。<br/>
原文连接:https://www.cnblogs.com/lexyao/p/11630403.html</div><br>
    <h2>0. 前言</h2>
<p>不知道为什么，几乎所有的C++编程教程都是从命令行版（控制台应用程序）的Hello World开始的。然而，对于现在的年轻人来说，从小就用鼠标点击窗口或图标操作电脑，对于那个神秘黑色的窗口中的文字就像天书。对于我们这些从DOS时代走来的人，或许那个黑色窗口会唤起很多记忆，但是，对于当前的GUI化的时代来说，那个窗口已经没有多少意义了。除非为了显示我的知识渊博和高深莫测，通常我不会给年轻人讲述那个黑色窗口中的东西。</p>
<p>既然现在学习C++编程的都是年轻人，我还是讲一下怎样构建GUI版的Hello World吧。</p>
<p>如果你还没有搭建Code::Blocks平台，请先看一下我的另一篇文章：《<a href="https://www.cnblogs.com/lexyao/p/11629467.html" target="_blank">利用Code::Blocks搭建64位C++开发平台</a>》。</p>
<p>下面我要讲述的内容包括：在Code::Blocks中用C++编写一个Windows GUI程序，并编译生成32 bit 和64 bit两个版本。</p>
<h2>1.使用向导新建一个Windows GUI程序</h2>
<p>创建Windows GUI程序和创建Console application的操作几乎是相同的，所以在看以下步骤之前，先看一下我的另一篇文章《<a id="cb_post_title_url" class="postTitle2" href="https://www.cnblogs.com/lexyao/p/11627789.html">体验Code::Blocks下的C++编程</a>》。</p>
<p>在下面的描述中，只要与创建控制台程序相同的操作我将简述或省略。这样做不仅仅是为了节省我时间，也是为了给服务器节省一点空间。</p>
<p>第一步：打开新建项目向导</p>
<p>这一步跟创建控制台程序是相同的，后续就有差别了。有两种方法：</p>
<p>①主菜单：File-&gt;New-&gt;Projects</p>
<p>②点击Start Here页面中的Create New Project</p>
<p>第二步：在向导中选择项目类型Win32 GUI project</p>
<p><img src="./images/体验CodeBlocks下的Windows GUI编程（32 bit and 64 bit）0.png" alt="" width="519" height="376" /></p>
<p>第三步：选择窗口类型，点击Next</p>
<p>提供两种窗口类型，具体意义以后解释，现在随便选择一个就可以了（比如选择Dialog based）。</p>
<p><img src="./images/体验CodeBlocks下的Windows GUI编程（32 bit and 64 bit）1.png" alt="" /></p>
<p>第四步：输入项目名称、文件</p>
<p>选择文件保存位置，输入项目标题后，项目文件名自动按标题生成。</p>
<p>界面及操作与控制台程序相同，程序名设置为ghello。</p>
<p>第五步：选择编译器</p>
<p>这一步界面、内容及操作与控制台程序相同，还是保持默认就可以了，直接点击Finish就行了。</p>
<p>生成的文件比控制台文件要多一些，包括源代码、头文件、资源文件等。</p>
<p><img src="./images/体验CodeBlocks下的Windows GUI编程（32 bit and 64 bit）2.png" alt="" /></p>
<p>第六步：编译运行</p>
<p>点击上图中的编译运行按钮，就会执行编译过程。只要不出现错误，编译链接完成后就会运行程序，出现以下窗口。这只是一个空窗口，尽管没有内容，但外观跟平时使用的程序的窗口是一样的。</p>
<p>到这一步，你的第一个windouows GUI应用程序已经创建完成了，是不是很简单？</p>
<p><img src="./images/体验CodeBlocks下的Windows GUI编程（32 bit and 64 bit）3.png" alt="" /></p>
<h2>2. 改为Hello World</h2>
<p>尽管生成的是一个空窗口，起码说出现了熟悉的样貌了。以后根据需要，添加代码，就可以实现更多的功能。</p>
<p>现在先把窗口的标题由Dialog改为Hello World</p>
<p>双击Code::Blocks左边管理栏中的文件resource.rc，你会在右边的代码编辑区看到以下代码</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">//</span><span style="color: #008000;"> Generated by ResEdit 1.5.10
</span><span style="color: #008000;">//</span><span style="color: #008000;"> Copyright (C) 2006-2012
</span><span style="color: #008000;">//</span> <span style="color: #008000; text-decoration: underline;">http://www.resedit.net</span>
<span style="color: #000000;">
#include </span>&lt;windows.h&gt;<span style="color: #000000;">
#include </span>&lt;commctrl.h&gt;<span style="color: #000000;">
#include </span>&lt;richedit.h&gt;<span style="color: #000000;">
#include </span><span style="color: #800000;">"</span><span style="color: #800000;">resource.h</span><span style="color: #800000;">"</span>


<span style="color: #008000;">//</span>
<span style="color: #008000;">//</span><span style="color: #008000;"> Dialog resources
</span><span style="color: #008000;">//
</span>LANGUAGE <span style="color: #800080;">0</span><span style="color: #000000;">, SUBLANG_NEUTRAL
DLG_MAIN DIALOG </span><span style="color: #800080;">0</span>, <span style="color: #800080;">0</span>, <span style="color: #800080;">186</span>, <span style="color: #800080;">95</span><span style="color: #000000;">
STYLE DS_3DLOOK </span>| DS_CENTER | DS_MODALFRAME | DS_SHELLFONT | WS_CAPTION | WS_VISIBLE | WS_POPUP |<span style="color: #000000;"> WS_SYSMENU
CAPTION </span><span style="color: #800000;">"</span><span style="color: #800000;">Dialog</span><span style="color: #800000;">"</span><span style="color: #000000;">
FONT </span><span style="color: #800080;">8</span>, <span style="color: #800000;">"</span><span style="color: #800000;">Ms Shell Dlg</span><span style="color: #800000;">"</span><span style="color: #000000;">
{
}


</span><span style="color: #008000;">//</span>
<span style="color: #008000;">//</span><span style="color: #008000;"> Manifest resources
</span><span style="color: #008000;">//
</span>LANGUAGE <span style="color: #800080;">0</span><span style="color: #000000;">, SUBLANG_NEUTRAL
</span><span style="color: #800080;">1</span>                  RT_MANIFEST    <span style="color: #800000;">"</span><span style="color: #800000;">.\\manifest.xml</span><span style="color: #800000;">"</span></pre>
</div>
<p>将其中的CAPTION "Dialog"修改为CAPTION "Hello World"。然后按第六步的操作编译运行。运行结果窗口的标题是不是编程Hello World了？</p>
<p>尽管这个修改没有实际意义，但是，起码说，它按着我们的意图改变了。以后，我们可以通过修改或增加代码，实现我更多的、有意义的功能。</p>
<p><img src="./images/体验CodeBlocks下的Windows GUI编程（32 bit and 64 bit）4.png" alt="" /></p>
<h2>&nbsp;3. 分别编译为32bit和64bit程序</h2>
<p>对于原生的代码来说，编译生成32bit和64bit程序是很简单的。</p>
<p>如果你使用的是32bit的TDM-GCC，编译结果一定是32bit的应用程序。如果你使用的是64bit的TDM-GCC，按以下步骤操作，可编译生成32bit和64bit程序。</p>
<h3>&nbsp;3.1 编译生成32bit应用程序</h3>
<p>第一步：在Code::Blocks左边管理栏中的项目名称ghello上右击鼠标，从弹出菜单中选择Build options打开项目构建选项窗口。</p>
<p><img src="./images/体验CodeBlocks下的Windows GUI编程（32 bit and 64 bit）5.png" alt="" /></p>
<p>第二步：选择构建目标，然后点击[OK]</p>
<p>如图所示，你看到在项目构建选项窗口中有构建目标选项。勾选32bit选项，则编译生成的程序为32bit的，勾选64bit或者两个都不选，则编译生成的程序为64bit的。</p>
<p>勾选其中32bit的，然后点击[OK]，关闭构建目标选项窗口。</p>
<p>第三步：重新编译</p>
<p>在Code::Blocks左边管理栏中的项目名称ghello上右击鼠标，从弹出菜单中选择Rebuild，开始重新编译程序。然后，耐心等待直到编译完成。</p>
<p>第四步：运行并验证编译结果</p>
<p>点击Code::Blocks上部工具栏中的运行按钮（绿色三角）运行程序，出现标题栏中显示Hello World的窗口。</p>
<p>右击电脑屏幕左下角的操作系统主菜单按钮，从弹出菜单中选择&ldquo;任务管理器&rdquo;，打开任务管理器窗口。</p>
<p>从窗口的&ldquo;应用&rdquo;栏中找到gheloo.exe，你会发现后面有（32位）标记，表示应用程序是32bit的。</p>
<p><img src="./images/体验CodeBlocks下的Windows GUI编程（32 bit and 64 bit）6.png" alt="" /></p>
<h3>3.2 编译生成64bit应用程序</h3>
<p>重复执行4.1中的第一步至第四步，不同之处是在第一步的构建目标选项窗口中勾选64bit，其他操作完全相同。</p>
<p>你会发现重新编译后在第四步的任务管理器窗口中gheloo.exe后的括号没有了，说明编译生成的应用程序是64bit的了。</p>
<p><img src="./images/体验CodeBlocks下的Windows GUI编程（32 bit and 64 bit）7.png" alt="" /></p>
<h2>4 结束语</h2>
<p>感觉怎么样？很简单吧？</p>
<p>其实，学会编写程序是一件很简单的事情，不过，要想学好、学精，就需要多学多练，逐步积累经验。可以从简单的程序开始，逐步增加功能。也可以选用别人的一个程序，尝试着修改，实现自己需要的功能。</p>
<p>就像学习语文一样，学会了单个字词，然后组成语句。语句多了就成了文章，语句间有了好的逻辑关系就成了好文章了。</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>