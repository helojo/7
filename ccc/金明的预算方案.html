<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修金明的预算方案' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>金明的预算方案</center></div><div class='banquan'>原文出处:本文由博客园博主Ra煞提供。<br/>
原文连接:https://www.cnblogs.com/I-Love-You-520/p/11146798.html</div><br>
    <h2>金明的预算方案</h2>
<h3><a title="金明的预算方案" href="https://www.luogu.org/problemnew/show/P1064" target="_blank">题目</a></h3>
<p>【题目描述】</p>
<p>妈妈昨天对他说：&ldquo;你的房间需要购买哪些物品，怎么布置，你说了算，只要不超过<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">N元钱就行&rdquo;。今天一早，金明就开始做预算了，</span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">他把想买的物品分为两类：主件与附件，附件是从属于某个主件的，下表就是一些主件与附件的例子：</span></span></span></span></span></span></span></p>
<p>主件 附件</p>
<p>电脑 打印机，扫描仪</p>
<p>书柜 图书</p>
<p>书桌 台灯，文具</p>
<p>工作椅 无</p>
<p>如果要买归类为附件的物品，必须先买该附件所属的主件。每个主件可以有<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">0个、<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">1个或<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">2个附件。附件不再有从属于自己的附件。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">金明想买的东西很多，肯定会超过妈妈限定的<span class="katex"><span class="katex-mathml">N<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">元。于是，他把每件物品规定了一个重要度，分为<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">5等：用整数<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">1<span class="mbin">&minus;<span class="mord">5表示，第<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">5等最重要。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mbin"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">他还从因特网上查到了每件物品的价格（都是<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">1<span class="mord">0元的整数倍）。他希望在不超过<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">N元（可以等于<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">N元）的前提下，使每件物品的价格与重要度的乘积的总和最大。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>设第<span class="katex"><span class="katex-mathml">j<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">件物品的价格为<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord mathit">v<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mopen mtight">[<span class="vlist-s">​<span class="vlist-r"><span class="vlist"><span class="mord mathit">j<span class="mclose">]，重要度为<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord mathit">w<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mopen mtight">[<span class="vlist-s">​<span class="vlist-r"><span class="vlist"><span class="mord mathit">j<span class="mclose">]，共选中了<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">k件物品，编号依次为<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord mathit">j<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1<span class="vlist-s">​<span class="vlist-r"><span class="vlist"><span class="mpunct">,<span class="mord"><span class="mord mathit">j<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2<span class="vlist-s">​<span class="vlist-r"><span class="vlist"><span class="mpunct">,<span class="minner">&hellip;<span class="mpunct">,<span class="mord"><span class="mord mathit">j<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">k<span class="vlist-s">​<span class="vlist-r"><span class="vlist">，则所求的总和为：</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mord mathit">v<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mopen mtight">[<span class="vlist-s">​<span class="vlist-r"><span class="vlist"><span class="mord"><span class="mord mathit">j<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1<span class="vlist-s">​<span class="vlist-r"><span class="vlist"><span class="mclose">]<span class="mbin">&times;<span class="mord"><span class="mord mathit">w<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mopen mtight">[<span class="vlist-s">​<span class="vlist-r"><span class="vlist"><span class="mord"><span class="mord mathit">j<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1<span class="vlist-s">​<span class="vlist-r"><span class="vlist"><span class="mclose">]<span class="mbin">+<span class="mord"><span class="mord mathit">v<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mopen mtight">[<span class="vlist-s">​<span class="vlist-r"><span class="vlist"><span class="mord"><span class="mord mathit">j<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2<span class="vlist-s">​<span class="vlist-r"><span class="vlist"><span class="mclose">]<span class="mbin">&times;<span class="mord"><span class="mord mathit">w<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mopen mtight">[<span class="vlist-s">​<span class="vlist-r"><span class="vlist"><span class="mord"><span class="mord mathit">j<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2<span class="vlist-s">​<span class="vlist-r"><span class="vlist"><span class="mclose">]<span class="mbin">+<span class="minner">&hellip;<span class="mbin">+<span class="mord"><span class="mord mathit">v<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mopen mtight">[<span class="vlist-s">​<span class="vlist-r"><span class="vlist"><span class="mord"><span class="mord mathit">j<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">k<span class="vlist-s">​<span class="vlist-r"><span class="vlist"><span class="mclose">]<span class="mbin">&times;<span class="mord"><span class="mord mathit">w<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mopen mtight">[<span class="vlist-s">​<span class="vlist-r"><span class="vlist"><span class="mord"><span class="mord mathit">j<span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="pstrut"><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">k<span class="vlist-s">​<span class="vlist-r"><span class="vlist"><span class="mclose">]。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>请你帮助金明设计一个满足要求的购物单。</p>
<p>【输入格式】</p>
<p>第<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">1行，为两个正整数，用一个空格隔开：</span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">N&nbsp;<span class="mord mathit">m（其中<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">N<span class="mopen"><span class="mrel"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mclose">表示总钱数，<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">m<span class="mopen"><span class="mrel"><span class="mord"><span class="mord"><span class="mclose">为希望购买物品的个数。） 从第<span class="katex"><span class="katex-mathml">2<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">行到第<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">m<span class="mbin">+<span class="mord">1行，第<span class="katex"><span class="katex-mathml">j<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">行给出了编号为<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">j<span class="mbin">&minus;<span class="mord">1的物品的基本数据，每行有<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">3个非负整数</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml">v p q<span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mord mathit"><span class="mord mathit">（其中<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">v表示该物品的价格<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord">，p表示该物品的重要度（<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord">1<span class="mbin">&minus;<span class="mord">5），<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">q表示该物品是主件还是附件。如果<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">q<span class="mrel">=<span class="mord">0，表示该物品为主件，如果<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">q<span class="mrel">&gt;<span class="mord">0，表示该物品为附件，<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">q是所属主件的编号）</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mord mathit"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mbin"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">【输出格式】</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mord mathit"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mbin"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit">一个正整数，为不超过总钱数的物品的价格与重要度乘积的总和的最大值（<span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mrel">&lt;<span class="mord">2<span class="mord">0<span class="mord">0<span class="mord">0<span class="mord">0<span class="mord">0）。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mord mathit"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mbin"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mrel"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord">【输入样例】</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #800080;">1000</span> <span style="color: #800080;">5</span>
<span style="color: #800080;">800</span> <span style="color: #800080;">2</span> <span style="color: #800080;">0</span>
<span style="color: #800080;">400</span> <span style="color: #800080;">5</span> <span style="color: #800080;">1</span>
<span style="color: #800080;">300</span> <span style="color: #800080;">5</span> <span style="color: #800080;">1</span>
<span style="color: #800080;">400</span> <span style="color: #800080;">3</span> <span style="color: #800080;">0</span>
<span style="color: #800080;">500</span> <span style="color: #800080;">2</span> <span style="color: #800080;">0</span></pre>
</div>
<p>【输出样例】</p>
<div class="cnblogs_code">
<pre><code><span style="color: #800080;">2200</span></pre>
</div>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mord mathit"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mbin"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mrel"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord">【数据规模】</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mord mathit"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mbin"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mrel"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord">N&lt;32000，m&lt;60，v&lt;10000。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<h3><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mord mathit"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mbin"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mrel"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord">解析</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></h3>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mord mathit"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mbin"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mrel"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord">01背包的变式，与01背包不同的是，附件只能在主件买了的情况下买，所以我们不妨把附件归入主件。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mord mathit"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mbin"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mrel"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord">原来的01背包有两种转移方式，即选与不选，这里则有5种方式(主件最多有2个附件)：</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>f[j]表示花j元买来的物品价值，a[i]表示主件i，b[i]表示主件i的附件1，c[i]表示主件i的附件2。</p>
<p>v表示物品价格，p表示物品价值(即v*原来的重要度p，这样比较方便)。</p>
<p>1.不买：f[j]=f[j];</p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mord mathit"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mbin"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mrel"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord">2.只买主件：f[j]=f[j-a[i].v]+a[i].p;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mord mathit"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mbin"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mrel"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord">3.买主件和附件1：f[j]=f[j-a[i].v-b[i].v]+a[i].p+b[i].p;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mord mathit"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mbin"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mrel"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord">4.买主件和附件2：f[j]=f[j-a[i].v-c[i].v]+a[i].p+c[i].p;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mord mathit"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord"><span class="mbin"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="mrel"><span class="mord"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mord mathit"><span class="katex"><span class="katex-mathml"><span class="katex-html"><span class="strut"><span class="strut bottom"><span class="base"><span class="mrel"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord">5.买主件和附件1和附件2：f[j]=f[j-a[i].v-b[i].v-c[i].v]+a[i].p+b[i].p+c[i].p。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<h3>Code</h3>
<div class="cnblogs_code" onclick="cnblogs_code_show('47266b39-a591-4697-9915-47126d7e64d6')"><img id="code_img_closed_47266b39-a591-4697-9915-47126d7e64d6" class="code_img_closed" src="./images/金明的预算方案0.png" alt="" /><img id="code_img_opened_47266b39-a591-4697-9915-47126d7e64d6" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('47266b39-a591-4697-9915-47126d7e64d6',event)" src="./images/金明的预算方案1.png" alt="" />
<div id="cnblogs_code_open_47266b39-a591-4697-9915-47126d7e64d6" class="cnblogs_code_hide">
<pre>#include &lt;algorithm&gt;<span style="color: #000000;">
#include </span>&lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;cstring&gt;<span style="color: #000000;">
#include </span>&lt;<span style="color: #0000ff;">string</span>&gt;<span style="color: #000000;">
#include </span>&lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;cmath&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #0000ff;">struct</span><span style="color: #000000;"> rec{
    </span><span style="color: #0000ff;">int</span> v,p=<span style="color: #800080;">0</span>,q=<span style="color: #800080;">0</span><span style="color: #000000;">;
}a[</span><span style="color: #800080;">60</span>],b[<span style="color: #800080;">60</span>],c[<span style="color: #800080;">60</span><span style="color: #000000;">];
</span><span style="color: #008000;">//</span><span style="color: #008000;">主件a,附件b,附件c </span>
<span style="color: #0000ff;">int</span> n,m,f[<span style="color: #800080;">32000</span><span style="color: #000000;">],maxn,aa,bb,cc;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{ 
    memset(f,</span><span style="color: #800080;">0</span>,<span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(f));
    cin</span>&gt;&gt;n&gt;&gt;<span style="color: #000000;">m;
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=m;i++<span style="color: #000000;">)
    {
        cin</span>&gt;&gt;aa&gt;&gt;bb&gt;&gt;<span style="color: #000000;">cc;
        </span><span style="color: #0000ff;">if</span>(cc!=<span style="color: #800080;">0</span>)<span style="color: #008000;">//</span><span style="color: #008000;">附件 </span>
<span style="color: #000000;">        {
            </span><span style="color: #0000ff;">if</span>(b[cc].q==<span style="color: #800080;">0</span>)<span style="color: #008000;">//</span><span style="color: #008000;">没有附件1,成为附件1 </span>
<span style="color: #000000;">            {
                b[cc].v</span>=aa;<span style="color: #008000;">//</span><span style="color: #008000;">价格 </span>
                b[cc].p=aa*bb;<span style="color: #008000;">//</span><span style="color: #008000;">价值 </span>
                b[cc].q=<span style="color: #800080;">2516</span>;<span style="color: #008000;">//</span><span style="color: #008000;">密匙</span>
<span style="color: #000000;">            }
            </span><span style="color: #0000ff;">else</span><span style="color: #008000;">//</span><span style="color: #008000;">已经有附件1,成为附件2 </span>
<span style="color: #000000;">            {
                c[cc].v</span>=<span style="color: #000000;">aa;
                c[cc].p</span>=aa*<span style="color: #000000;">bb;
                c[cc].q</span>=<span style="color: #800080;">2516</span><span style="color: #000000;">;
            }
        }
        </span><span style="color: #0000ff;">else</span><span style="color: #008000;">//</span><span style="color: #008000;">主件 </span>
<span style="color: #000000;">        {
            a[i].v</span>=<span style="color: #000000;">aa;
            a[i].p</span>=aa*<span style="color: #000000;">bb;
            a[i].q</span>=<span style="color: #800080;">2516</span><span style="color: #000000;">;
        }
    }
    </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=<span style="color: #800080;">1</span>;i&lt;=m;i++<span style="color: #000000;">)
        </span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> j=n;j&gt;=a[i].v;j--<span style="color: #000000;">)
            </span><span style="color: #0000ff;">if</span>(a[i].q==<span style="color: #800080;">2516</span><span style="color: #000000;">)
            {
                f[j]</span>=max(f[j],f[j-a[i].v]+a[i].p);<span style="color: #008000;">//</span><span style="color: #008000;">买主件 </span>
                <span style="color: #0000ff;">if</span>(j&gt;=a[i].v+b[i].v&amp;&amp;b[i].q==<span style="color: #800080;">2516</span>) f[j]=max(f[j],f[j-a[i].v-b[i].v]+a[i].p+b[i].p);<span style="color: #008000;">//</span><span style="color: #008000;">买主件和附件1 </span>
                <span style="color: #0000ff;">if</span>(j&gt;=a[i].v+c[i].v&amp;&amp;c[i].q==<span style="color: #800080;">2516</span>) f[j]=max(f[j],f[j-a[i].v-c[i].v]+a[i].p+c[i].p);<span style="color: #008000;">//</span><span style="color: #008000;">买主件和附件2 </span>
                <span style="color: #0000ff;">if</span>(j&gt;=a[i].v+b[i].v+c[i].v&amp;&amp;b[i].q==<span style="color: #800080;">2516</span>&amp;&amp;c[i].q==<span style="color: #800080;">2516</span>) f[j]=max(f[j],f[j-a[i].v-b[i].v-c[i].v]+a[i].p+b[i].p+c[i].p);<span style="color: #008000;">//</span><span style="color: #008000;">买主件和附件1、2 </span>
                maxn=<span style="color: #000000;">max(maxn,f[j]);
            }
    cout</span>&lt;&lt;<span style="color: #000000;">maxn;
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>