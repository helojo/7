<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修C程序设计语言练习 第二章' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>C程序设计语言练习 第二章</center></div><div class='banquan'>原文出处:本文由博客园博主wjundong提供。<br/>
原文连接:https://www.cnblogs.com/wjundong/p/11563256.html</div><br>
    <h2 id="常量">2.3 常量</h2>
<p>strlen函数：返回s的长度</p>
<pre><code>int strlenn(char s[])
{
    int i=0;
    while(s[i] != &#39;\0&#39;)
        ++i;
    return i;
}</code></pre>
<h2 id="类型转换">2.7 类型转换</h2>
<p>atoi函数:将字符串s转换为相应的整型</p>
<pre><code>int atoi(char s[])
{
    int n = 0;
    for (int i = 0; s[i] &gt;= &#39;0&#39; &amp;&amp; s[i] &lt;= &#39;9&#39;; i++)
        n = 10*n + (s[i] - &#39;0&#39;);
    return n;
}</code></pre>
<p>lower函数：把字符c转换为小写形式，只对ASCII字符集有效</p>
<pre><code>int lower(int c)
{
    if(c &gt;= &#39;A&#39; &amp;&amp; c &lt;= &#39;Z&#39;)
        return c + &#39;a&#39; -&#39;A&#39;;
    else
        return c;    
}</code></pre>
<p>rand函数：返回取值在0~32767之间的伪随机数，<span class="math inline">\(2^{15}\)</span> = 32768<br />
srand函数：为rand()函数设置种子数</p>
<pre><code>unsigned long  int next = 1;

int rand()
{
    next = next*1103515245 + 12345;
    return (unsigned int)(next/65536)%32768;
}

void srand(unsigned int seed)
{
    next = seed;
}</code></pre>
<h3 id="练习2-3">练习2-3</h3>
<p>编写函数htoi(s), 把由十六进制数字组成的字符串（包含可选的前缀0x或0X）转换为与之等价的整型值。字符串中允许包含数字包括：0~9，a~f以及A~F。</p>
<pre><code>int htoi(char s[])
{
    int n = 0,i = 0;
    if(s[0] == &#39;0&#39; &amp;&amp; (s[1] == &#39;x&#39; || s[1] == &#39;X&#39;)) i = 2;

    for(; s[i] != &#39;\0&#39;; ++i) {
        if(s[i] &gt;= &#39;0&#39; &amp;&amp; s[i] &lt;= &#39;9&#39;)
            n = 16*n + (s[i] - &#39;0&#39;);
        else if(s[i] &gt;= &#39;a&#39; &amp;&amp; s[i] &lt;= &#39;f&#39;)
            n = 16*n + (s[i] - &#39;a&#39; + 10);
        else if(s[i] &gt;= &#39;A&#39; &amp;&amp; s[i] &lt;= &#39;F&#39;)
            n = 16*n + (s[i] - &#39;A&#39; + 10);
        else break;
    }
    return n;
}</code></pre>
<h2 id="自增运算符与自减运算符">2.8 自增运算符与自减运算符</h2>
<p>squeeze函数：从字符串s中删除字符</p>
<pre><code>void squeeze(char s[], char c)
{
    int i,j;
    for(i=j=0; s[i] != &#39;\0&#39;; ++i)
        if(s[i] != c) //当不相等时才赋值，否则忽略
            s[j++] = s[i];
    s[j] = &#39;\0&#39;;
}</code></pre>
<p>strcat函数：将字符串t连接到字符串s的尾部；s必须有足够大的空间</p>
<pre><code>void strcatt(char s[], char t[])
{
    int i=0,j=0;
    while(s[i] != &#39;\0&#39;)
        ++i;
    while((s[i++] = t[j++]) != &#39;\0&#39;)
        ;
}</code></pre>
<h3 id="练习2-4">练习2-4</h3>
<p>重写函数squeeze(s1,s2)，将字符串s1中任何与字符串s2中字符匹配的字符都删除。</p>
<pre><code>void squeeze2(char s1[], char s2[])
{
    int i,j,z;
    for(i=j=0; s1[i] != &#39;\0&#39;; ++i) {
        for(z=0; s2[z] != &#39;\0&#39;&amp;&amp; s1[i] != s2[z]; ++z)
            ;
        if(s2[z] == &#39;\0&#39;) s1[j++] = s1[i]; //s2没有与之相等的字符
    }
    s1[j] = &#39;\0&#39;;
}</code></pre>
<h3 id="练习2-5">练习2-5</h3>
<p>编写函数any(s1,s2)，将字符s2中的任一字符在字符串s1中的第一次出现的位置作为结果返回。如果s1中不包含s2中的字符，则返回-1。（标准库函数strpbrk具有同样的功能，但它返回的是指向该位置的指针。）</p>
<pre><code>int any(char s1[], char s2[])
{
    int i,j;

    for(i=0; s1[i] != &#39;\0&#39;; ++i) {
        for(j=0; s2[j] != &#39;\0&#39; &amp;&amp; s1[i] != s2[j]; ++j)
            ;
        if(s2[j] != &#39;\0&#39;) return i; //发现s2有相等字符
    }
    return -1;
}</code></pre>
<h2 id="按位运算符">2.9 按位运算符</h2>
<p>getbits 函数：返回x中第p位开始的n位, 如getbits(x,4,3) 返回4,3,2位</p>
<pre><code>unsigned getbits(unsigned x, int p, int n)
{
    return (x &gt;&gt; (p-n+1)) &amp; ~(~0 &lt;&lt; n);
}</code></pre>
<h2 id="赋值运算符与表达式">2.10 赋值运算符与表达式</h2>
<p>bitcount函数：统计x中值位1的二进制位数</p>
<pre><code>int bitcount(unsigned x)
{
    int b;
    for(b=0; x!= 0; x &gt;&gt;= 1)
        if(x &amp; 01)
            ++b;
    return b;
}</code></pre>
<h3 id="练习2-9">练习2-9</h3>
<p>在求对2的补码时，表达式<code>x &amp;= (x-1)</code>可以删除x中最右边值为1的一个二进制位。请解释这样做的道理。用这一方法重写bitcount函数，以加快其执行速度</p>
<pre><code>int bitcount(unsigned x)
{
    int b;
    for(b=0; x!= 0; x &amp;= (x-1))
        ++b;
    return b;
}</code></pre>
<h3 id="练习-2-10">练习 2-10</h3>
<p>重新编写将大写字母转换为小写字母的函数lower，并用条件表达式替代其中的if-else结构</p>
<pre><code>int lower(int c)
{
    return (c &gt;= &#39;A&#39; &amp;&amp; c &lt;= &#39;Z&#39;) ? c + &#39;a&#39; - &#39;A&#39; : c;   
}</code></pre>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>