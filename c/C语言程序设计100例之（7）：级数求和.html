<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修C语言程序设计100例之（7）：级数求和' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>C语言程序设计100例之（7）：级数求和</center></div><div class='banquan'>原文出处:本文由博客园博主aTeacher提供。<br/>
原文连接:https://www.cnblogs.com/cs-whut/p/11870415.html</div><br>
    <h4><span style="font-size: 18px;">例7 &nbsp;&nbsp; 级数求和</span></h4>
<p><strong>题目描述</strong></p>
<p>已知： S<sub>n</sub> =1+1/2+1/3+&hellip;+1/n。显然对于任意一个整数 k，当 n 足够大的时候，S<sub>n</sub>&gt;k。</p>
<p>现给出一个整数 k，要求计算出一个最小的 n，使得 S<sub>n</sub>&gt;k。</p>
<p><strong>输入格式</strong></p>
<p>一个正整数 k</p>
<p><strong>输出格式</strong></p>
<p>一个正整数 n</p>
<p><strong>输入样例</strong></p>
<p>1</p>
<p><strong>输出样例</strong></p>
<p>2</p>
<h5><span style="font-size: 16px;">&nbsp; &nbsp; &nbsp; &nbsp; （1）编程思路。</span></h5>
<p>&nbsp; &nbsp; &nbsp; &nbsp; 用简单的循环完成多项式求和。循环控制条件为和S&lt;=K。</p>
<h5><span style="font-size: 16px;">&nbsp; &nbsp; &nbsp; &nbsp; （2）源程序。</span></h5>
<p style="margin-left: 60px;">#include &lt;stdio.h&gt;</p>
<p style="margin-left: 60px;">int main()</p>
<p style="margin-left: 60px;">{</p>
<p style="margin-left: 60px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int k,n;</p>
<p style="margin-left: 60px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; double s;</p>
<p style="margin-left: 60px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; s=0;</p>
<p style="margin-left: 60px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n=0;</p>
<p style="margin-left: 60px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; scanf("%d",&amp;k);</p>
<p style="margin-left: 60px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;do {</p>
<p style="margin-left: 60px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n++;</p>
<p style="margin-left: 60px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; s+=1.0/n;</p>
<p style="margin-left: 60px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }while (s&lt;=k);</p>
<p style="margin-left: 60px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("%d\n",n);</p>
<p style="margin-left: 60px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 0;</p>
<p style="margin-left: 60px;">}&nbsp;</p>
<h4><span style="font-size: 18px;">习题7</span></h4>
<h5><span style="font-size: 16px;">7-1&nbsp; Deck</span></h5>
<p>&nbsp; &nbsp; &nbsp; &nbsp; 本题选自北大POJ题库 （http://poj.org/problem?id=1607）</p>
<p><strong>Description</strong></p>
<p>A single playing card can be placed on a table, carefully, so that the short edges of the card are parallel to the table's edge, and half the length of the card hangs over the edge of the table. If the card hung any further out, with its center of gravity off the table, it would fall off the table and flutter to the floor. The same reasoning applies if the card were placed on another card, rather than on a table.</p>
<p>Two playing cards can be arranged, carefully, with short edges parallel to table edges, to extend 3/4 of a card length beyond the edge of the table. The top card hangs half a card length past the edge of the bottom card. The bottom card hangs with only 1/4 of its length past the table's edge. The center of gravity of the two cards combined lies just over the edge of the table.</p>
<p>Three playing cards can be arranged, with short edges parallel to table edges, and each card touching at most one other card, to extend 11/12 of a card length beyond the edge of the table. The top two cards extend 3/4 of a card length beyond the edge of the bottom card, and the bottom card extends only 1/6 over the table's edge; the center of gravity of the three cards lines over the edges of the table.</p>
<p>If you keep stacking cards so that the edges are aligned and every card has at most one card above it and one below it, how far out can 4 cards extend over the table's edge? Or 52 cards? Or 1000 cards? Or 99999?</p>
<p><strong>Input</strong></p>
<p>Input contains several nonnegative integers, one to a line. No integer exceeds 99999.</p>
<p><strong>Output</strong></p>
<p>The standard output will contain, on successful completion of the program, a heading:</p>
<p>Cards Overhang</p>
<p>(that's two spaces between the words) and, following, a line for each input integer giving the length of the longest overhang achievable with the given number of cards, measured in cardlengths, and rounded to the nearest thousandth. The length must be expressed with at least one digit before the decimal point and exactly three digits after it. The number of cards is right-justified in column 5, and the decimal points for the lengths lie in column 12.</p>
<p><strong>Sample Input</strong></p>
<p>1</p>
<p>2</p>
<p>30</p>
<p><strong>Sample Output</strong></p>
<p>Cards&nbsp; Overhang</p>
<p>&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp; 0.500</p>
<p>&nbsp;&nbsp;&nbsp; 2&nbsp;&nbsp;&nbsp;&nbsp; 0.750</p>
<p>&nbsp;&nbsp; 30&nbsp;&nbsp;&nbsp;&nbsp; 1.997</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; （1）编程思路。</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; 本题题意为：将纸牌沿桌子推出，第1张推出桌面1/2，第2张推出第1张1/4，第3张1/6，依次类推。求n张纸牌推出桌面的长度。</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; 即输入正整数n，求S=1/2+1/4+&hellip;+1/(2n)的值。</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; 简单循环处理即可。</p>
<p>&nbsp; &nbsp; &nbsp; （2）源程序。</p>
<p style="margin-left: 60px;">#include &lt;stdio.h&gt;</p>
<p style="margin-left: 60px;">int main()</p>
<p style="margin-left: 60px;">{</p>
<p style="margin-left: 60px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int n,i;</p>
<p style="margin-left: 60px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; double s;</p>
<p style="margin-left: 60px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("Cards&nbsp; Overhang\n");</p>
<p style="margin-left: 60px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; while (scanf("%d",&amp;n)!=EOF)</p>
<p style="margin-left: 60px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p style="margin-left: 90px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; s=0;</p>
<p style="margin-left: 90px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; for (i=1;i&lt;=n;i++)</p>
<p style="margin-left: 90px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;s+=1.0/(2*i);</p>
<p style="margin-left: 90px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; printf("%5d&nbsp; %8.3lf\n",n,s);</p>
<p style="margin-left: 60px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p style="margin-left: 60px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 0;</p>
<p style="margin-left: 60px;">&nbsp;}</p>
<h5><span style="font-size: 16px;">7-2&nbsp; 求&pi;的值</span></h5>
<p><strong>题目描述</strong></p>
<p>根据公式</p>
<p>&nbsp;<img src="./images/C语言程序设计100例之（7）：级数求和0.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;计算&pi;的值，要求精确到最后一项的绝对值小于10&ndash;4。</p>
<p><strong>输入格式</strong></p>
<p>无</p>
<p><strong>输出格式</strong></p>
<p>求得的&pi;的值。</p>
<p>&nbsp; &nbsp; &nbsp; （1）编程思路。</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; 若计算如下多项式</p>
<p>&nbsp;<img src="./images/C语言程序设计100例之（7）：级数求和1.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;用一个简单循环即可实现。</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;int n=1;</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;double p=0.0;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; while (1.0/n&gt;=0.0001)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; {</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p=p+1.0/n;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n+=2;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; 但现在是加1项然后减1项交替进行，如何解决？</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; 一个最简单的办法是用一个变量flag作为符号标志，初始时f=1，运算p=p+1.0*f/n=p+1.0/n;完成加项运算；之后 f=-f，f值为-1，运算p=p+1.0*f/n=p-1.0/n;完成减项运算；再之后 f=-f，f值为1，&hellip;。这样，通过f的值在1,-1之间切换从而完成加项与减项的交替进行。</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;（2）源程序。</p>
<p style="margin-left: 60px;">#include &lt;stdio.h&gt;</p>
<p style="margin-left: 60px;">int main()</p>
<p style="margin-left: 60px;">{</p>
<p style="margin-left: 60px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;int n=1,f=1;</p>
<p style="margin-left: 60px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;double p=0.0;</p>
<p style="margin-left: 60px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;while (1.0/n&gt;=0.0001)</p>
<p style="margin-left: 90px;">&nbsp;&nbsp;&nbsp; {</p>
<p style="margin-left: 90px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p=p+1.0*f/n;</p>
<p style="margin-left: 90px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; f=-f;</p>
<p style="margin-left: 90px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n+=2;</p>
<p style="margin-left: 90px;">&nbsp;&nbsp;&nbsp; }</p>
<p style="margin-left: 90px;">&nbsp;&nbsp;&nbsp; printf("%f\n",4*p);</p>
<p style="margin-left: 90px;">&nbsp;&nbsp;&nbsp; return 0;</p>
<p style="margin-left: 60px;">}</p>
<h5><span style="font-size: 16px;">7-3&nbsp; u Calculate e</span></h5>
<p>&nbsp; &nbsp; &nbsp; &nbsp; 本题选自北大POJ题库 （http://poj.org/problem?id=1517）</p>
<p><strong>Description</strong></p>
<p>A simple mathematical formula for e is</p>
<p>e=&Sigma;<sub>0&lt;=i&lt;=n</sub>1/i!</p>
<p>where n is allowed to go to infinity. This can actually yield very accurate approximations of e using relatively small values of n.</p>
<p><strong>Input</strong></p>
<p>No input</p>
<p><strong>Output</strong></p>
<p>Output the approximations of e generated by the above formula for the values of n from 0 to 9. The beginning of your output should appear similar to that shown below.</p>
<p><strong>Sample Input</strong></p>
<p>no input</p>
<p><strong>Sample Output</strong></p>
<p>n e</p>
<p>- -----------</p>
<p>0 1</p>
<p>1 2</p>
<p>2 2.5</p>
<p>3 2.666666667</p>
<p>4 2.708333333</p>
<p>...</p>
<p>&nbsp;&nbsp;&nbsp; （1）编程思路。</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; 题目要求根据公式e=1+1/1!+1/2!+&hellip;+1/n!求e的值。可以用一个简单循环完成计算。设初始时，e=1.0，p=1，循环程序编写如下：</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (i=1;i&lt;=n;i++)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p style="margin-left: 30px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; p=p*i;</p>
<p style="margin-left: 30px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; e=e+1.0/p;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; 注意：不要写成二重循环</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (e=1.0, i=1;i&lt;=n;i++)</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p style="margin-left: 30px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for (p=1,j=1;j&lt;=i;j++)&nbsp;&nbsp; // 循环求 i! 的值</p>
<p style="margin-left: 30px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;p=p*i;</p>
<p style="margin-left: 30px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; e=e+1.0/p;</p>
<p style="margin-left: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; 因为，i!=i*(i-1)!，这样求i!时可以利用前一次求得的(i-1)!，无需每次重新求取。</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; （2）源程序。</p>
<p style="margin-left: 60px;">#include &lt;stdio.h&gt;</p>
<p style="margin-left: 60px;">int main()</p>
<p style="margin-left: 60px;">{&nbsp;</p>
<p style="margin-left: 60px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int i,p;</p>
<p style="margin-left: 60px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; double e;</p>
<p style="margin-left: 60px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;printf("n e\n");</p>
<p style="margin-left: 60px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;printf("- -----------\n");</p>
<p style="margin-left: 60px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("0 1\n");</p>
<p style="margin-left: 60px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e=1.0;</p>
<p style="margin-left: 60px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p=1;</p>
<p style="margin-left: 60px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (i=1;i&lt;=9;i++)</p>
<p style="margin-left: 60px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p style="margin-left: 90px;">&nbsp; &nbsp; &nbsp; &nbsp; p=p*i;</p>
<p style="margin-left: 90px;">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;e=e+1.0/p;</p>
<p style="margin-left: 90px;">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;if (i==1) printf("%d %.0f\n",i,e);</p>
<p style="margin-left: 90px;">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;else if (i==2) printf("%d %.1f\n",i,e);</p>
<p style="margin-left: 90px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else printf("%d %.9f\n",i,e);</p>
<p style="margin-left: 60px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p style="margin-left: 60px;">&nbsp; &nbsp; &nbsp; &nbsp; return 0;</p>
<p style="margin-left: 60px;">}</p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>