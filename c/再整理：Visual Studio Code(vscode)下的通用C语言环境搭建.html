<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修再整理：Visual Studio Code(vscode)下的通用C语言环境搭建' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>再整理：Visual Studio Code(vscode)下的通用C语言环境搭建</center></div><div class='banquan'>原文出处:本文由博客园博主EvilHare提供。<br/>
原文连接:https://www.cnblogs.com/czlhxm/p/11794743.html</div><br>
    <p><span style="font-size: 12px;">版权声明：本文为博主原创文章，遵循<a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="noopener" target="_blank">&nbsp;CC 4.0 BY-SA&nbsp;</a>版权协议，转载请附上原文出处链接和本声明。</span></p>
<p><span style="font-size: 12px;">本文链接：<a id="Editor_Edit_hlEntryLink" title="view: 再整理：Visual Studio Code(vscode)下的通用C语言环境搭建" href="https://www.cnblogs.com/czlhxm/p/11794743.html" target="_blank">https://www.cnblogs.com/czlhxm/p/11794743.html</a>&nbsp;</span></p>
<p><span style="font-size: 12px;">参考博客：<a href="https://blog.csdn.net/bat67/article/details/76095813" target="_blank">整理：Visual Studio Code (vscode) 配置C、C++环境/编写运行C、C++（主要Windows、简要Linux）</a></span></p>
<p>主要流程：</p>
<p>1.vscode的下载与简单配置</p>
<p>2.MinGw的下载与安装</p>
<p>3.配置系统环境变量</p>
<p>4.修改vscode调试配置文件</p>
<p>5.vscode下开发C项目的使用细节</p>
<p>6.通用的C语言debug方法</p>
<p>7.常见问题与解决方案(不定时更新)</p>
<p><span style="font-size: 14pt;"><strong>1.vscode的下载与简单配置</strong></span></p>
<p><span style="font-size: 16px;"><a href="https://code.visualstudio.com/Download" target="_blank">https://code.visualstudio.com/Download</a></span></p>
<p><span style="font-size: 16px;"><img src="./images/再整理：Visual Studio Code(vscode)下的通用C语言环境搭建0.png" alt="" /></span></p>
<p><img src="./images/再整理：Visual Studio Code(vscode)下的通用C语言环境搭建1.png" alt="" /></p>
<p>&nbsp;打开vscode</p>
<p>(可选操作)安装官方简体中文支持</p>
<p>打开菜单Debug-Install&nbsp;Additional Debuggers...</p>
<p><img src="./images/再整理：Visual Studio Code(vscode)下的通用C语言环境搭建2.png" alt="" /></p>
<p>输入language-找到Chinese(Simplified) Language选项点击install，片刻后，右下角弹窗内点击restart&nbsp;now即可。<img src="./images/再整理：Visual Studio Code(vscode)下的通用C语言环境搭建3.png" alt="" /></p>
<p><strong><span style="font-size: 14pt;">&nbsp;</span></strong><strong><span style="font-size: 14pt;">2.MinGw的下载与安装</span></strong></p>
<p>&nbsp;因为windows下vscode不直接具备对于C语言的编译调试工具，所以要下载集成gcc等工具的MinGw以提供扩展支持。</p>
<p><a href="https://sourceforge.net/projects/mingw-w64/files/" target="_blank"><span style="font-size: 18px;">https://sourceforge.net/projects/mingw-w64/files/</span></a></p>
<p><img src="./images/再整理：Visual Studio Code(vscode)下的通用C语言环境搭建4.png" alt="" /></p>
<p>&nbsp;任意选择一个(如果需要自定义安装gcc相关模块，也可以选择在线安装install.exe，注意该下载极其考验网络同时相当耗时)</p>
<p><img src="./images/再整理：Visual Studio Code(vscode)下的通用C语言环境搭建5.png" alt="" /></p>
<p>&nbsp;将该文件夹解压到需要安装的目录</p>
<p><span style="font-size: 14pt;"><strong>3.配置系统环境变量Path</strong></span></p>
<p>打开我的电脑-属性-高级系统设置-高级-环境变量</p>
<p>在系统变量中找到Path变量，选择编辑(没有则新建)，将之前mingw解压后目录下bin文件夹目录添加至其中，注意windows 7及以前版本需与原值用英文分号隔开，windows8及以上版本选择新建即可。</p>
<p><img src="./images/再整理：Visual Studio Code(vscode)下的通用C语言环境搭建6.png" alt="" /></p>
<p>&nbsp;或</p>
<p><img src="./images/再整理：Visual Studio Code(vscode)下的通用C语言环境搭建7.png" alt="" /></p>
<p>然后在系统变量中找到include变量(没有则新建一个，不区分大小写)，编辑，将原mingw解压目录下include文件夹目录添加进去。</p>
<p><img src="./images/再整理：Visual Studio Code(vscode)下的通用C语言环境搭建8.png" alt="" /></p>
<p>完成后，全部确定，关闭环境变量设置窗口，按win+r键打开运行，输入cmd回车后，可在控制台下输入gcc -v查看当前计算机mingw是否安装成功</p>
<p><img src="./images/再整理：Visual Studio Code(vscode)下的通用C语言环境搭建9.png" alt="" /></p>
<p><span style="font-size: 14pt;">4.修改vscode调试配置文件</span></p>
<p>重启vscode，打开菜单-调试-添加附加调试器...，找到左侧列表下的C/C++(找不到的话搜索试试)选择install安装</p>
<p>后(可选操作，推荐)搜索code runner选择install安装</p>
<p><img src="./images/再整理：Visual Studio Code(vscode)下的通用C语言环境搭建10.png" alt="" /></p>
<p>勾选下列两项</p>
<p><img src="./images/再整理：Visual Studio Code(vscode)下的通用C语言环境搭建11.png" alt="" /></p>
<p>随意指定一个目录，新建文件夹，新建一个文件，将文件名修改为.c后缀的c代码文件，返回vscode，选择菜单-打开文件夹，选择刚才新建的文件夹，在左侧窗口单击刚新建的c代码文件，随意写一个简单的C程序</p>
<p><img src="./images/再整理：Visual Studio Code(vscode)下的通用C语言环境搭建12.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;此时，单击窗口右上角的运行，即可在vscode下方终端中看到程序运行结果</p>
<p><img src="./images/再整理：Visual Studio Code(vscode)下的通用C语言环境搭建13.png" alt="" /></p>
<p>&nbsp;<img src="./images/再整理：Visual Studio Code(vscode)下的通用C语言环境搭建14.png" alt="" /></p>
<p>&nbsp;接下来配置C/C++ debuger：</p>
<p>在之前新建的文件夹下再新建一个名为.vscode的文件夹，新建一个launch.json文件，以记事本或者vscode的方式打开，在里面输入：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">{
        </span><span style="color: #800000;">"</span><span style="color: #800000;">version</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">0.2.0</span><span style="color: #800000;">"</span><span style="color: #000000;">,  
        </span><span style="color: #800000;">"</span><span style="color: #800000;">configurations</span><span style="color: #800000;">"</span><span style="color: #000000;">: [  
            {  
                </span><span style="color: #800000;">"</span><span style="color: #800000;">name</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">(gdb) Launch</span><span style="color: #800000;">"</span>, //<span style="color: #000000;"> 配置名称，将会在启动配置的下拉菜单中显示
                </span><span style="color: #800000;">"</span><span style="color: #800000;">type</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">cppdbg</span><span style="color: #800000;">"</span>,       //<span style="color: #000000;"> 配置类型，这里只能为cppdbg
                </span><span style="color: #800000;">"</span><span style="color: #800000;">request</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">launch</span><span style="color: #800000;">"</span>,    //<span style="color: #000000;"> 请求配置类型，可以为launch（启动）或attach（附加）  
                </span><span style="color: #800000;">"</span><span style="color: #800000;">program</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">${workspaceFolder}/${fileBasenameNoExtension}.exe</span><span style="color: #800000;">"</span>,//<span style="color: #000000;"> 将要进行调试的程序的路径  
                </span><span style="color: #800000;">"</span><span style="color: #800000;">args</span><span style="color: #800000;">"</span>: [],             //<span style="color: #000000;"> 程序调试时传递给程序的命令行参数，一般设为空即可  
                </span><span style="color: #800000;">"</span><span style="color: #800000;">stopAtEntry</span><span style="color: #800000;">"</span>: false,   //<span style="color: #000000;"> 设为true时程序将暂停在程序入口处，一般设置为false  
                </span><span style="color: #800000;">"</span><span style="color: #800000;">cwd</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">${workspaceFolder}</span><span style="color: #800000;">"</span>, //<span style="color: #000000;"> 调试程序时的工作目录，一般为${workspaceFolder}即代码所在目录  
                </span><span style="color: #800000;">"</span><span style="color: #800000;">environment</span><span style="color: #800000;">"</span><span style="color: #000000;">: [],  
                </span><span style="color: #800000;">"</span><span style="color: #800000;">externalConsole</span><span style="color: #800000;">"</span>: true, //<span style="color: #000000;"> 调试时是否显示控制台窗口，一般设置为true显示控制台  
                </span><span style="color: #800000;">"</span><span style="color: #800000;">MIMode</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">gdb</span><span style="color: #800000;">"</span><span style="color: #000000;">,  
                </span><span style="color: #800000;">"</span><span style="color: #800000;">miDebuggerPath</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">D:\\Install\\bin\\gdb.exe</span><span style="color: #800000;">"</span>, //<span style="color: #000000;"> miDebugger的路径，注意这里要与MinGw的路径对应  
                </span><span style="color: #800000;">"</span><span style="color: #800000;">preLaunchTask</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">gcc</span><span style="color: #800000;">"</span>, // 调试会话开始前执行的任务，一般为编译程序，c++为g++<span style="color: #000000;">, c为gcc  
                </span><span style="color: #800000;">"</span><span style="color: #800000;">setupCommands</span><span style="color: #800000;">"</span><span style="color: #000000;">: [  
                    {   
                </span><span style="color: #800000;">"</span><span style="color: #800000;">description</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">Enable pretty-printing for gdb</span><span style="color: #800000;">"</span><span style="color: #000000;">,  
                        </span><span style="color: #800000;">"</span><span style="color: #800000;">text</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">-enable-pretty-printing</span><span style="color: #800000;">"</span><span style="color: #000000;">,  
                        </span><span style="color: #800000;">"</span><span style="color: #800000;">ignoreFailures</span><span style="color: #800000;">"</span><span style="color: #000000;">: true  
                    }  
                ]  
            }  
        ]  
    }</span></code></pre>

<p>&nbsp;注意这里"miDebuggerPath": "D:\\Install\\bin\\gdb.exe"将其值改成自己所解压的mingw\bin\gdb.exe的路径</p>
<p>其他设置可看情况修改</p>
<p>在vscode中选择菜单-文件-打开文件夹，打开自己所新建的C代码下的文件夹，打开后选择左侧菜单对应的C代码文件，可选择菜单-调试-启动调试(快捷键F5)</p>
<p>弹出以下窗口</p>
<p><img src="./images/再整理：Visual Studio Code(vscode)下的通用C语言环境搭建15.png" alt="" /></p>
<p>&nbsp;选择第二个"配置任务"</p>
<p>&nbsp;<img src="./images/再整理：Visual Studio Code(vscode)下的通用C语言环境搭建16.png" alt="" /></p>
<p>&nbsp;<img src="./images/再整理：Visual Studio Code(vscode)下的通用C语言环境搭建17.png" alt="" /></p>
<p>&nbsp;在打开的task.json文件中输入：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">{
    </span><span style="color: #800000;">"</span><span style="color: #800000;">version</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">2.0.0</span><span style="color: #800000;">"</span><span style="color: #000000;">,
    </span><span style="color: #800000;">"</span><span style="color: #800000;">command</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">g++</span><span style="color: #800000;">"</span><span style="color: #000000;">,
    </span><span style="color: #800000;">"</span><span style="color: #800000;">args</span><span style="color: #800000;">"</span>: [<span style="color: #800000;">"</span><span style="color: #800000;">-g</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">${file}</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">-o</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">${fileBasenameNoExtension}.exe</span><span style="color: #800000;">"</span>],    //<span style="color: #000000;"> 编译命令参数
    </span><span style="color: #800000;">"</span><span style="color: #800000;">problemMatcher</span><span style="color: #800000;">"</span><span style="color: #000000;">: {
        </span><span style="color: #800000;">"</span><span style="color: #800000;">owner</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">cpp</span><span style="color: #800000;">"</span><span style="color: #000000;">,
        </span><span style="color: #800000;">"</span><span style="color: #800000;">fileLocation</span><span style="color: #800000;">"</span>: [<span style="color: #800000;">"</span><span style="color: #800000;">relative</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">${workspaceFolder}</span><span style="color: #800000;">"</span><span style="color: #000000;">],
        </span><span style="color: #800000;">"</span><span style="color: #800000;">pattern</span><span style="color: #800000;">"</span><span style="color: #000000;">: {
            </span><span style="color: #800000;">"</span><span style="color: #800000;">regexp</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">^(.*):(\\d+):(\\d+):\\s+(warning|error):\\s+(.*)$</span><span style="color: #800000;">"</span><span style="color: #000000;">,
            </span><span style="color: #800000;">"</span><span style="color: #800000;">file</span><span style="color: #800000;">"</span>: 1<span style="color: #000000;">,
            </span><span style="color: #800000;">"</span><span style="color: #800000;">line</span><span style="color: #800000;">"</span>: 2<span style="color: #000000;">,
            </span><span style="color: #800000;">"</span><span style="color: #800000;">column</span><span style="color: #800000;">"</span>: 3<span style="color: #000000;">,
            </span><span style="color: #800000;">"</span><span style="color: #800000;">severity</span><span style="color: #800000;">"</span>: 4<span style="color: #000000;">,
            </span><span style="color: #800000;">"</span><span style="color: #800000;">message</span><span style="color: #800000;">"</span>: 5<span style="color: #000000;">
        }
    }
}</span></code></pre>

<p>保存后，回到最初的C代码文件，菜单-调试-启动调试(快捷键F5)，即可成功运行C程序！</p>
<p><strong><span style="font-size: 14pt;">5.vscode下开发C项目的使用细节</span></strong></p>
<p><span style="font-size: 14px;">对于通常情况下，可将上述完成的.vscode文件夹放在C代码保存的大目录下，该目录下的所有C文件在vscode下调试都将适用该配置文件夹。</span></p>
<p><span style="font-size: 14px;">注意，在不含上述.vscode文件夹的C程序都无法直接调试！需要重新配置。(或者将配置好的.vscode文件夹复制到该程序所在目录下)</span></p>
<p><span style="font-size: 14px;">正在编辑过程中，要充分利用vscode的资源管理器，菜单-文件-打开文件夹/打开工作区的方式打开一个含.vscode文件夹的目录，可进行调试。</span></p>
<p><span style="font-size: 14px;">对于不需要调试的C程序，可利用预装好code&nbsp;runner(装好后窗口右上角会多出一排按钮)直接点击编译运行，在下方终端中可进行数据的输入与输出。</span></p>
<p><span style="font-size: 14px;">注意在调试方法下运行C程序，需在return前下断点或中断函数等方法使程序到执行出口前停下，否则可能会出现预料之内的闪退。</span></p>
<p><span style="font-size: 14pt;"><strong>6.通用的C语言debug方法</strong></span></p>
<p>vscode下的调试工具非常方便，对于需要调试的代码，可在对应行的行数前鼠标左键单击，即可下断点，右键断点，可对断点进行简单管理，如禁用或修改为逻辑断点</p>
<p><img src="./images/再整理：Visual Studio Code(vscode)下的通用C语言环境搭建18.png" alt="" /></p>
<p>&nbsp;常用快捷键下的调试：&nbsp;F5进入调试　　　　F10单步跳过　　　　F11单步执行(可进入执行函数体)　　　　Shift+F5　　　　Ctrl+Shift+F5重启调试</p>
<p>对于调试异常终止，若不能正常重新启动调试的，重启vscode试试</p>
<p>若上述操作存在无响应的，试试万能的以管理员方式启动大法。</p>
<p><span style="font-size: 14pt;"><strong>7.常见问题与解决方案(不定时更新)</strong></span></p>
<p>对于程序中含中文调试程序显示乱码的：右下角-UTF8-通过编码保存-输入gb2312回车</p>
<p>对于打开程序发现原本应该是中文的乱码的：右下角-UTF8-通过编码重新打开-输入gb2312回车</p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>