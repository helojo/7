<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修c语言数组放在main函数里面和外面的区别' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>c语言数组放在main函数里面和外面的区别</center></div><div class='banquan'>原文出处:本文由博客园博主darkerrry提供。<br/>
原文连接:https://www.cnblogs.com/gmj123/p/10597774.html</div><br>
    <p>最近a算法题的时候碰到一道题：一个数列前三项都为1，之后每项的值等于前三项之和，求第20193024项的最后4位数字。一开始写的代码如下：</p>
<p><img src="./images/c语言数组放在main函数里面和外面的区别0.png" alt="" width="312" height="253" /></p>
<p>结果一直爆 Terminated due to signal: SEGMENTATION FAULT (11)&nbsp;这个错误，改了好久没改出来。之后在stackoverflow上提问才找到自己错误所在。</p>
<p>这里先介绍一下栈区（stack)，堆区(heap)，数据区（data seg)和代码区。</p>
<p>栈区：由操作系统自动分配释放，存放函数的参数值，局部变量的值；当不需要时系统会自动清除。</p>
<p>堆区：由new分配的内存块，不由编译器管，由应用程序控制（相当于程序员控制）。如果程序员没有释放掉，程序结束后，操作系统会自动回收。</p>
<p>数据区：也称全局区或者静态区，存放全局的东西类似全局变量。</p>
<p>代码区：存放执行代码的地方，类似if else，while，for这种语句。</p>
<p>原来在main函数里面的数组是开在栈区(stack)，在函数外面的是开在数据区的。栈区的内存比较小，所以当数组非常大的时候，就会报错。假如把数组放在数据区就不会出现这个问题，因为数据区的内存很大。</p>
<p>修改后的代码如下：</p>
<p><img src="./images/c语言数组放在main函数里面和外面的区别1.png" alt="" width="306" height="264" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<style><!--
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
span.Apple-tab-span {white-space:pre}
--></style>
<style><!--
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 19.0px; font: 13.0px 'Helvetica Neue'}
--></style>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>