<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修C语言笔记 03_常量&amp;存储类' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>C语言笔记 03_常量&amp;存储类</center></div><div class='banquan'>原文出处:本文由博客园博主RopeHuo提供。<br/>
原文连接:https://www.cnblogs.com/rope/p/12018148.html</div><br>
    <h2 id="常量">常量</h2>
<p>常量是固定值，在程序执行期间不会改变。这些固定的值，又叫做<strong>字面量</strong>。</p>
<p>常量可以是任何的基本数据类型，比如整数常量、浮点常量、字符常量，或字符串字面值，也有枚举常量。</p>
<h3 id="整数常量">整数常量</h3>
<p>整数常量可以是十进制、八进制或十六进制的常量。前缀指定基数：0x 或 0X 表示十六进制，0 表示八进制，不带前缀则默认表示十进制。</p>
<p>整数常量也可以带一个后缀，后缀是 U 和 L 的组合，U 表示无符号整数（unsigned），L 表示长整数（long）。后缀可以是大写，也可以是小写，U 和 L 的顺序任意。</p>
<blockquote>
<p>无符号整数：如果最左边这一位不用来表示正负，而是和后面的连在一起表示<strong>整数</strong>，那么就不能区分这个数是正还是负，就只能是正数，这就是<strong>无符号整数</strong>。</p>
</blockquote>
<p>下面列举几个整数常量的实例：</p>
<pre><code><code>212         /* 合法的 */
215u        /* 合法的 */
0xFeeL      /* 合法的 */
078         /* 非法的：8 不是八进制的数字 */
032UU       /* 非法的：不能重复后缀 */</code></code></pre>
<p>以下是各种类型的整数常量的实例：</p>
<pre><code><code>85         /* 十进制 */
0213       /* 八进制 */
0x4b       /* 十六进制 */
30         /* 整数 */
30u        /* 无符号整数 */
30l        /* 长整数 */
30ul       /* 无符号长整数 */</code></code></pre>
<h3 id="浮点常量">浮点常量</h3>
<p>浮点常量由整数部分、小数点、小数部分和指数部分组成。您可以使用小数形式或者指数形式来表示浮点常量。</p>
<p>当使用小数形式表示时，必须包含整数部分、小数部分，或同时包含两者。当使用指数形式表示时， 必须包含小数点、指数，或同时包含两者。带符号的指数是用 e 或 E 引入的。</p>
<p>下面列举几个浮点常量的实例：</p>
<pre><code><code>3.14159       /* 合法的 */
314159E-5L    /* 合法的 */
510E          /* 非法的：不完整的指数 */
210f          /* 非法的：没有小数或指数 */
.e55          /* 非法的：缺少整数或分数 */</code></code></pre>
<h3 id="字符常量">字符常量</h3>
<p>字符常量是括在单引号中，例如，'x' 可以存储在 <strong>char</strong> 类型的简单变量中。</p>
<p>字符常量可以是一个普通的字符（例如 'x'）、一个转义序列（例如 '\t'），或一个通用的字符（例如 '\u02C0'）[Unicode编码]。</p>
<p>在 C 中，有一些特定的字符，当它们前面有反斜杠时，它们就具有特殊的含义，被用来表示如换行符（\n）或制表符（\t）等。下表列出了一些这样的转义序列码：</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">转义序列</th>
<th style="text-align: left;">含义</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">\</td>
<td style="text-align: left;"> 字符</td>
</tr>
<tr class="even">
<td style="text-align: left;">'</td>
<td style="text-align: left;">' 字符</td>
</tr>
<tr class="odd">
<td style="text-align: left;">&quot;</td>
<td style="text-align: left;">&quot; 字符</td>
</tr>
<tr class="even">
<td style="text-align: left;">?</td>
<td style="text-align: left;">? 字符</td>
</tr>
<tr class="odd">
<td style="text-align: left;">\a</td>
<td style="text-align: left;">警报铃声</td>
</tr>
<tr class="even">
<td style="text-align: left;">\b</td>
<td style="text-align: left;">退格键</td>
</tr>
<tr class="odd">
<td style="text-align: left;">\f</td>
<td style="text-align: left;">换页符</td>
</tr>
<tr class="even">
<td style="text-align: left;">\n</td>
<td style="text-align: left;">换行符</td>
</tr>
<tr class="odd">
<td style="text-align: left;">\r</td>
<td style="text-align: left;">回车</td>
</tr>
<tr class="even">
<td style="text-align: left;">\t</td>
<td style="text-align: left;">水平制表符</td>
</tr>
<tr class="odd">
<td style="text-align: left;">\v</td>
<td style="text-align: left;">垂直制表符</td>
</tr>
<tr class="even">
<td style="text-align: left;">\ooo</td>
<td style="text-align: left;">一到三位的八进制数</td>
</tr>
<tr class="odd">
<td style="text-align: left;">\xhh . . .</td>
<td style="text-align: left;">一个或多个数字的十六进制数</td>
</tr>
</tbody>
</table>
<p>下面的实例显示了一些转义序列字符：</p>
<pre><code><code>#include &lt;stdio.h&gt;
 
int main()
{
   printf(&quot;Hello\tWorld\n\n&quot;);
 
   return 0;
}</code></code></pre>
<p>当上面的代码被编译和执行时，它会产生下列结果：</p>
<blockquote>
<p>Hello World</p>
</blockquote>
<h3 id="字符串常量">字符串常量</h3>
<p>字符串字面值或常量是括在双引号 &quot;&quot; 中的。一个字符串包含类似于字符常量的字符：普通的字符、转义序列和通用的字符。</p>
<p>您可以使用空格做分隔符，把一个很长的字符串常量进行分行。</p>
<p>下面的实例显示了一些字符串常量。下面这三种形式所显示的字符串是相同的。</p>
<pre><code><code>&quot;hello, dear&quot;

&quot;hello, \
dear&quot;

&quot;hello, &quot; &quot;d&quot; &quot;ear&quot;</code></code></pre>
<h3 id="定义常量">定义常量</h3>
<p>在 C 中，有两种简单的定义常量的方式：</p>
<ol>
<li>使用 <strong>#define</strong> 预处理器。</li>
<li>使用 <strong>const</strong> 关键字。</li>
</ol>
<h4 id="define-预处理器">#define 预处理器</h4>
<p>下面是使用 #define 预处理器定义常量的形式：</p>
<pre><code><code>#include &lt;stdio.h&gt;
 
#define LENGTH 10   
#define WIDTH  5
#define NEWLINE &#39;\n&#39;
 
int main()
{
 
   int area;  
  
   area = LENGTH * WIDTH;
   printf(&quot;value of area : %d&quot;, area);
   printf(&quot;%c&quot;, NEWLINE);
 
   return 0;
}</code></code></pre>
<p>当上面的代码被编译和执行时，它会产生下列结果：</p>
<blockquote>
<p>value of area : 50</p>
</blockquote>
<h4 id="const-关键字">const 关键字</h4>
<p>您可以使用 <strong>const</strong> 前缀声明指定类型的常量，如下所示：</p>
<p><code>const type variable = value;</code></p>
<pre><code><code>#include &lt;stdio.h&gt;
 
int main()
{
   const int  LENGTH = 10;
   const int  WIDTH  = 5;
   const char NEWLINE = &#39;\n&#39;;
   int area;  
   
   area = LENGTH * WIDTH;
   printf(&quot;value of area : %d&quot;, area);
   printf(&quot;%c&quot;, NEWLINE);
 
   return 0;
}</code></code></pre>
<p>当上面的代码被编译和执行时，它会产生下列结果：</p>
<blockquote>
<p>value of area : 50</p>
</blockquote>
<p>我们习惯性把常量的名字设置全大写。</p>
<h2 id="存储类">存储类</h2>
<p>存储类定义 C 程序中变量/函数的范围（可见性）和生命周期。这些说明符放置在它们所修饰的类型之前。下面列出 C 程序中可用的存储类：</p>
<ul>
<li>auto</li>
<li>register</li>
<li>static</li>
<li>extern</li>
</ul>
<h3 id="auto-存储类">auto 存储类</h3>
<p><strong>auto</strong> 存储类是所有<strong>局部变量</strong>，<strong>默认</strong>的存储类。</p>
<pre><code><code>{
   int mount;
   auto int month;
}</code></code></pre>
<p>上面的实例定义了两个带有相同存储类的变量，auto 只能用在函数内，即 auto 只能修饰局部变量。</p>
<h3 id="register-存储类">register 存储类</h3>
<p><strong>register</strong> 存储类用于定义存储在寄存器中而不是 RAM 中的局部变量。这意味着变量的最大尺寸等于寄存器的大小（通常是一个词），且不能对它应用一元的 '&amp;' 运算符（因为它没有内存位置）。</p>
<pre><code><code>{
   register int  miles;
}</code></code></pre>
<p>寄存器只用于需要快速访问的变量，比如计数器。还应注意的是，定义 'register' 并不意味着变量将被存储在寄存器中，它意味着变量可能存储在寄存器中，这取决于硬件和实现的限制。</p>
<h3 id="static-存储类">static 存储类</h3>
<p><strong>static</strong> 存储类指示编译器在程序的生命周期内保持局部变量的存在，而不需要在每次它进入和离开作用域时进行创建和销毁。因此，使用 static 修饰局部变量可以在函数调用之间保持局部变量的值。</p>
<p>static 修饰符也可以应用于全局变量。当 static 修饰全局变量时，会使变量的作用域限制在声明它的文件内。</p>
<p>全局声明的一个 static 变量或方法可以被任何函数或方法调用，只要这些方法出现在跟 static 变量或方法同一个文件中。</p>
<p>以下实例演示了 static 修饰全局变量和局部变量的应用：</p>
<pre><code><code>#include &lt;stdio.h&gt;
 
/* 函数声明 */
// 函数的返回类型为void，函数的参数为void
void func1(void);

/* 全局变量 - static 是默认的 */
static int count=10;        

int main()
{
  while (count--) {
      func1();
  }
  return 0;
}
 
void func1(void)
{
/* &#39;thingy&#39; 是 &#39;func1&#39; 的局部变量 - 只初始化一次
 * 每次调用函数 &#39;func1&#39; &#39;thingy&#39; 值不会被重置。
 */                
  static int thingy=5;
  thingy++;
  printf(&quot; thingy 为 %d ， count 为 %d\n&quot;, thingy, count);
}</code></code></pre>
<p>当上面的代码被编译和执行时，它会产生下列结果：</p>
<blockquote>
<p>thingy 为 6 ， count 为 9<br />
thingy 为 7 ， count 为 8<br />
thingy 为 8 ， count 为 7<br />
thingy 为 9 ， count 为 6<br />
thingy 为 10 ， count 为 5<br />
thingy 为 11 ， count 为 4<br />
thingy 为 12 ， count 为 3<br />
thingy 为 13 ， count 为 2<br />
thingy 为 14 ， count 为 1<br />
thingy 为 15 ， count 为 0</p>
</blockquote>
<h3 id="extern-存储类">extern 存储类</h3>
<p><strong>extern</strong> 存储类用于提供一个全局变量的引用，全局变量对所有的程序文件都是可见的。当您使用 <strong>extern</strong> 时，对于无法初始化的变量，会把变量名指向一个之前定义过的存储位置。</p>
<p>当您有多个文件且定义了一个可以在其他文件中使用的全局变量或函数时，可以在其他文件中使用 <em>extern</em> 来得到已定义的变量或函数的引用。可以这么理解，<em>extern</em> 是用来在另一个文件中声明一个全局变量或函数。</p>
<p>extern 修饰符通常用于当有两个或多个文件共享相同的全局变量或函数的时候，如下所示：</p>
<p><strong>第一个文件：main.c</strong></p>
<pre><code><code>#include &lt;stdio.h&gt;
 
int count ;
extern void write_extern();
 
int main()
{
   count = 5;
   write_extern();
}</code></code></pre>
<p><strong>第二个文件：support.c</strong></p>
<pre><code><code>#include &lt;stdio.h&gt;
 
extern int count;
 
void write_extern(void)
{
   printf(&quot;count is %d\n&quot;, count);
}</code></code></pre>
<p>在这里，第二个文件中的 <em>extern</em> 关键字用于声明已经在第一个文件 main.c 中定义的 <em>count</em>。现在 ，编译这两个文件，如下所示：</p>
<p><code>$ gcc main.c support.c</code></p>
<p>这会产生 <strong>a.out</strong> 可执行程序，当程序被执行时，它会产生下列结果：</p>
<blockquote>
<p>count is 5</p>
</blockquote>
<hr />
<p>参考自：<a href="https://www.runoob.com/cprogramming/c-tutorial.html" class="uri">https://www.runoob.com/cprogramming/c-tutorial.html</a></p>


</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>