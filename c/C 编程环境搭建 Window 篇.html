<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修C 编程环境搭建 Window 篇' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>C 编程环境搭建 Window 篇</center></div><div class='banquan'>原文出处:本文由博客园博主喜欢兰花山丘提供。<br/>
原文连接:https://www.cnblogs.com/life2refuel/p/11482948.html</div><br>
    <p><strong>前言 - 简介</strong></p>
<p>　　我们在写代码的过程中, 不可避免的重度依赖所处的开发环境. 本文重点带大家在 Window&nbsp;搭建 C</p>
<p>简单控制台项目. 当作存档, 用于记录项目搭建各种重复操作.&nbsp; 在详细过程之前, 我们约定下基础环境</p>
<p>　　Best new version Window</p>
<p>　　Best new version Visual Studio</p>
<p>例如笔者当前是&nbsp;Windows 10 + Visual Studio 2019, 其中 Windows 推荐开启 UTF-8 支持.&nbsp;</p>
<p><img src="./images/C 编程环境搭建 Window 篇0.png" alt="" width="747" height="446" /></p>
<p>那此间, 骚年去唤醒自己的道 ~&nbsp;</p>
<p>&nbsp;</p>
<p><strong>正文 - 过程</strong></p>
<p>　　正文分三个过程. 其一是 Visual Studio C Consule 常用设置. 其二是导出模板, 来解放生产力. 其三演示使用.</p>
<p><strong>Visual Studio C Consule 常用设置</strong></p>
<p>1. 创建 c_template 项目</p>
<p><img src="./images/C 编程环境搭建 Window 篇1.png" alt="" width="796" height="180" /><strong>　　</strong></p>
<p><strong><img src="./images/C 编程环境搭建 Window 篇2.png" alt="" width="786" height="531" /></strong></p>
<p>&nbsp;</p>
<p>2. 只保留 x64 环境</p>
<p><img src="./images/C 编程环境搭建 Window 篇3.png" alt="" /></p>
<p><strong>人的精气有限, 做钉子更省力.</strong></p>
<p>3. 添加基础 main.c</p>
<p><img src="./images/C 编程环境搭建 Window 篇4.png" alt="" /></p>
<p>4. Visual Studio 项目详细配置</p>
<div>
<div><strong>a). 区域环境配置</strong>
<br />
<div><strong>    项目右击 -&gt; [配置属性] -&gt; [高级] -&gt; [字符集] -&gt; [未设置]</strong>
























<br />
<div><strong>    b). 添加包含库</strong>
<div><strong>    项目右击 -&gt; [配置属性] -&gt; [链接器] -&gt; [输入]</strong>
























<br />
<div><strong>    psapi.lib</strong>
<div><strong>    user32.lib</strong>
<div><strong>    shell32.lib</strong>
<div><strong>    ws2_32.lib</strong>
<div><strong>    userenv.lib</strong>
<div><strong>    iphlpapi.lib</strong>
<div><strong>    advapi32.lib</strong>
























<br />
<div><strong>    c). 添加预编译处理器</strong>
<div><strong>    项目右击 -&gt; [配置属性] -&gt; [C/C++]-&gt; [预处理器] -&gt; [预处理器定义]</strong>
























<br />
<div><strong>    [Debug]</strong>
<div><strong>    _DEBUG</strong>
























<br />
<div><strong>    [Release]</strong>
<div><strong>    NDEBUG</strong>
<div><strong>&nbsp;</strong>
<div><strong>    _LARGEFILE_SOURCE</strong>
<div><strong>    _FILE_OFFSET_BITS=64</strong>
<div><strong>    WIN32_LEAN_AND_MEAN</strong>
<div><strong>    _CRT_SECURE_NO_WARNINGS</strong>
<div><strong>    _CRT_NONSTDC_NO_DEPRECATE</strong>
<div><strong>    _WINSOCK_DEPRECATED_NO_WARNINGS</strong>
























<br />
<div><strong>    d). 设置编译额外选项</strong>
<div><strong>    项目右击 -&gt; [配置属性] -&gt; [C/C++] -&gt; [常规] -&gt; [调试信息格式] -&gt; [程序数据库 (/Zi)]</strong>
<div><strong>    项目右击 -&gt; [配置属性] -&gt; [C/C++] -&gt; [代码生成] -&gt; [运行库] -&gt; [多线程/MT]</strong>
<div><strong>    项目右击 -&gt; [配置属性] -&gt; [C/C++] -&gt; [高级] -&gt; [编译为] -&gt; [编译为C代码/TC]</strong>
<div><strong>    项目右击 -&gt; [配置属性] -&gt; [C/C++] -&gt; [高级] -&gt; [禁用特定警告] -&gt; [4098]</strong>
<div><strong>    项目右击 -&gt; [配置属性] -&gt; [C/C++] -&gt; [命令行] -&gt; [/D "restrict=__restrict"]</strong>
<div><strong>    项目右击 -&gt; [配置属性] -&gt; [链接器] -&gt; [常规] -&gt; [启用增量链接] -&gt; [否 (/INCREMENTAL:NO)]</strong>
<div><strong>    项目右击 -&gt; [配置属性] -&gt; [链接器] -&gt; [系统] -&gt; [子系统] -&gt; [控制台]</strong>
<div><strong>    项目右击 -&gt; [配置属性] -&gt; [链接器] -&gt; [命令行] -&gt; /IGNORE:4099</strong>
<div>&nbsp;
<div>详细配置遇到不明白可以自行搜索, 可以图了解, 也可以<strong>求精深</strong>.&nbsp;
























<p>&nbsp;</p>
<p><strong>导出模板</strong></p>
<p>　　上面这些每次操作都添加, 很恶心. 我们可以通过 [项目] -&gt; [导出模板] 一劳永逸. ~</p>
<p>1. 前戏</p>
<p>　　找到&nbsp;<strong>c_template.vcxproj </strong>项目文件, 通过你的慧眼, 将其中所有关于 Win32 相关的 xml 配置删除.</p>
<p>&nbsp;</p>
<p>2. 导出模板</p>
<p>[项目] -&gt; [导出模板]</p>
<p><img src="./images/C 编程环境搭建 Window 篇5.png" alt="" /></p>
<p>添加额外补充</p>
<p><img src="./images/C 编程环境搭建 Window 篇6.png" alt="" /></p>
<p>(图片什么的可以因自己喜好自己整)</p>
<p>&nbsp;</p>
<p><strong>演示使用</strong></p>
<p><img src="./images/C 编程环境搭建 Window 篇7.png" alt="" width="774" height="526" /></p>
<p>最终生成如下模板内容</p>
<p><img src="./images/C 编程环境搭建 Window 篇8.png" alt="" width="807" height="449" /></p>
<p>不妨既兴通过这个模板演示一段代码&nbsp;</p>
<div class="cnblogs_code">
<pre><code>#include &lt;stdio.h&gt;<span style="color: #000000;">
#include </span>&lt;<span style="color: #0000ff;">float</span>.h&gt;<span style="color: #000000;">
#include </span>&lt;errno.h&gt;<span style="color: #000000;">
#include </span>&lt;assert.h&gt;<span style="color: #000000;">
#include </span>&lt;limits.h&gt;<span style="color: #000000;">
#include </span>&lt;stdlib.h&gt;<span style="color: #000000;">
#include </span>&lt;<span style="color: #0000ff;">string</span>.h&gt;<span style="color: #000000;">
#include </span>&lt;stddef.h&gt;<span style="color: #000000;">
#include </span>&lt;stdint.h&gt;<span style="color: #000000;">
#include </span>&lt;stdbool.h&gt;

<span style="color: #008000;">/*</span><span style="color: #008000;">
 题目: 
    地上右一个 m 行 n 列的方格. 
    一个机器人从坐标(0, 0) 的格子开始移动, 它每次可以向左, 右, 上, 下移动一格, 
    但不能进入行坐标和列坐标的数位之和大于 k 的格子. 例如, 当 k 为 18 的时候,
    机器人能够进入方格 (35, 37), 因为 3 + 5 + 3 + 7 = 18. 
    但它不能进入方格 (35, 38), 因为 3 + 5 + 3 + 9 = 19.
    请问该机器人能够到达多少个格子?
 </span><span style="color: #008000;">*/</span>

<span style="color: #0000ff;">extern</span> <span style="color: #0000ff;">int</span> moving_count(<span style="color: #0000ff;">int</span> m, <span style="color: #0000ff;">int</span> n, <span style="color: #0000ff;">int</span><span style="color: #000000;"> threshold);

</span><span style="color: #0000ff;">int</span> main(<span style="color: #0000ff;">int</span> argc, <span style="color: #0000ff;">char</span> *<span style="color: #000000;"> argv[]) {
    </span><span style="color: #0000ff;">int</span> m = <span style="color: #800080;">20</span>, n = <span style="color: #800080;">20</span>, threshold = <span style="color: #800080;">10</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">int</span> count =<span style="color: #000000;"> moving_count(m, n, threshold);
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">&lt;m = %d, n = %d, threshold = %d&gt; -&gt; %d\n</span><span style="color: #800000;">"</span><span style="color: #000000;">, m, n, threshold, count);
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}

</span><span style="color: #0000ff;">struct</span><span style="color: #000000;"> visite {
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;">  rows;
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;">  cols;
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;">  threshold;
    </span><span style="color: #0000ff;">bool</span><span style="color: #000000;"> visited[];
};

inline </span><span style="color: #0000ff;">struct</span> visite * visite_create(<span style="color: #0000ff;">int</span> rows, <span style="color: #0000ff;">int</span> cols, <span style="color: #0000ff;">int</span><span style="color: #000000;"> threshold) {
    </span><span style="color: #0000ff;">struct</span> visite * v = <span style="color: #0000ff;">malloc</span>(<span style="color: #0000ff;">sizeof</span>(<span style="color: #0000ff;">struct</span> visite) + (rows * cols) * <span style="color: #0000ff;">sizeof</span> (<span style="color: #0000ff;">int</span><span style="color: #000000;">));
    assert(v </span>&amp;&amp; rows &gt; <span style="color: #800080;">0</span> &amp;&amp; cols &gt; <span style="color: #800080;">0</span> &amp;&amp; threshold &gt; <span style="color: #800080;">0</span><span style="color: #000000;">);
    v</span>-&gt;rows =<span style="color: #000000;"> rows;
    v</span>-&gt;cols =<span style="color: #000000;"> cols;
    v</span>-&gt;threshold =<span style="color: #000000;"> threshold;
    memset(v</span>-&gt;visited, <span style="color: #800080;">0</span>, (rows * cols) * <span style="color: #0000ff;">sizeof</span> (<span style="color: #0000ff;">int</span><span style="color: #000000;">));
    </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> v;
}

inline </span><span style="color: #0000ff;">void</span> visite_delete(<span style="color: #0000ff;">struct</span> visite *<span style="color: #000000;"> v) {
    </span><span style="color: #0000ff;">if</span> (v) <span style="color: #0000ff;">free</span><span style="color: #000000;">(v);
}

</span><span style="color: #0000ff;">static</span> inline <span style="color: #0000ff;">int</span> get_digit_sum(<span style="color: #0000ff;">int</span><span style="color: #000000;"> num) {
    </span><span style="color: #0000ff;">int</span> sum = <span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">while</span> (num &gt; <span style="color: #800080;">0</span><span style="color: #000000;">) {
        sum </span>= num % <span style="color: #800080;">10</span><span style="color: #000000;">;
        num </span>/= <span style="color: #800080;">10</span><span style="color: #000000;">;
    }
    </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> sum;
}

inline </span><span style="color: #0000ff;">bool</span> visite_check(<span style="color: #0000ff;">struct</span> visite * v, <span style="color: #0000ff;">int</span> row, <span style="color: #0000ff;">int</span><span style="color: #000000;"> col) {
    </span><span style="color: #0000ff;">if</span> (row &gt;= <span style="color: #800080;">0</span> &amp;&amp; row &lt; v-&gt;rows &amp;&amp; col &gt;= <span style="color: #800080;">0</span> &amp;&amp; col &lt; v-&gt;cols &amp;&amp; !v-&gt;visited[row * v-&gt;cols +<span style="color: #000000;"> col]) {
        </span><span style="color: #0000ff;">return</span> get_digit_sum(row) + get_digit_sum(col) &lt;= v-&gt;<span style="color: #000000;">threshold;
    }
    </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">false</span><span style="color: #000000;">;
}

</span><span style="color: #0000ff;">int</span> visite_moving(<span style="color: #0000ff;">struct</span> visite * v, <span style="color: #0000ff;">int</span> row, <span style="color: #0000ff;">int</span><span style="color: #000000;"> col) {
    </span><span style="color: #0000ff;">if</span> (!<span style="color: #000000;">visite_check(v, row, col))
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;

    v</span>-&gt;visited[row * v-&gt;cols + col] = <span style="color: #0000ff;">true</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">1</span> + visite_moving(v, row, col - <span style="color: #800080;">1</span><span style="color: #000000;">) 
             </span>+ visite_moving(v, row, col + <span style="color: #800080;">1</span><span style="color: #000000;">) 
             </span>+ visite_moving(v, row - <span style="color: #800080;">1</span><span style="color: #000000;">, col) 
             </span>+ visite_moving(v, row + <span style="color: #800080;">1</span><span style="color: #000000;">, col);
}

</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> 
moving_count(</span><span style="color: #0000ff;">int</span> m, <span style="color: #0000ff;">int</span> n, <span style="color: #0000ff;">int</span><span style="color: #000000;"> threshold) {
    </span><span style="color: #0000ff;">if</span> (m &lt; <span style="color: #800080;">0</span> || n &lt; <span style="color: #800080;">0</span> || threshold &lt; <span style="color: #800080;">0</span><span style="color: #000000;">)
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">if</span> (threshold == <span style="color: #800080;">0</span><span style="color: #000000;">)
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">1</span><span style="color: #000000;">;

    </span><span style="color: #0000ff;">struct</span> visite * v =<span style="color: #000000;"> visite_create(m, n, threshold);

    </span><span style="color: #0000ff;">int</span> count = visite_moving(v, <span style="color: #800080;">0</span>, <span style="color: #800080;">0</span><span style="color: #000000;">);

    visite_delete(v);

    </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> count;
}</span></code></pre>

<p>(有心的道友, 也可以转成栈回溯. )</p>
<p>&nbsp;</p>
<p><strong>后记 - 展望</strong></p>
<p><span style="font-size: 15px; font-family: 宋体;">错误是难免的, 欢迎朋友指正互相印证苦中作乐.</span></p>
<p><span style="font-size: 15px; font-family: 宋体;"><a title="明月照小楼" href="https://music.163.com/#/song?id=494407676" target="_blank"><span class="f-ff2">明月照小楼</span></a></span></p>
<pre><code><span style="font-family: 宋体; font-size: 15px;">  立秋 - 刘翰 - 南宋
  乳鸦啼散玉屏空，一枕新凉一扇风。
  睡起秋声无觅处，满阶梧桐月明中。</span></code></pre>
<p>&nbsp;</p>
<p>　　</p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>