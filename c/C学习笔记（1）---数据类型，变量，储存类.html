<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修C学习笔记（1）---数据类型，变量，储存类' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>C学习笔记（1）---数据类型，变量，储存类</center></div><div class='banquan'>原文出处:本文由博客园博主Parachute黑喵提供。<br/>
原文连接:https://www.cnblogs.com/cptCarlvon/p/11839602.html</div><br>
    <p><span style="font-size: 15px; font-family: 黑体;"><strong>1.常用基本数据类型占用空间（64位机器为例）：</strong></span></p>
<p><span style="font-size: 15px; font-family: 黑体;">char ： 1个字节<span class="fa fa-circle">&nbsp;--&nbsp;</span><span class="fa fa-circle">int ：4个字节</span><span class="fa fa-circle">&nbsp;--&nbsp;</span><span class="fa fa-circle">float：4个字节</span><span class="fa fa-circle">&nbsp;--&nbsp;</span><span class="fa fa-circle">double：8个字节</span></span></p>
<p>&nbsp;</p>
<p><strong><span class="fa fa-circle" style="font-size: 15px; font-family: 黑体;">2.书写类型：</span></strong></p>
<p><span style="font-size: 15px; font-family: 黑体;"><span class="fa fa-circle">A.整数： a. 默认为10进制 ，10 ，20.&nbsp; -&nbsp;</span><span class="fa fa-circle">b. 以0开头为8进制，045，021.&nbsp; - c.以0b开头为2进制，0b11101101. - . d.以0x开头为16进制，0x21458adf.</span></span></p>
<p><span class="fa fa-circle" style="font-size: 15px; font-family: 黑体;">B. 浮点：a. float 4 字节 Byte - b.double 8 byte -c.&nbsp;long double 16 byte<br /></span></p>
<p><span style="font-size: 15px; font-family: 黑体;">C.字符型常量</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">char 用英文单引号括起来，只保存一个字符'a'、'b' 、'*' ，还有转义字符 '\n' 、'\t'。</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">D.字符串常量</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">用英文的双引号引起来 可以保存多个字符："abc"。</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">&nbsp;</span></p>
<p><strong><span style="font-size: 15px; font-family: 黑体;">3.变量声明</span></strong></p>
<p><span style="font-size: 15px; font-family: 黑体;">a、一种是需要建立存储空间的。例如：int a 在声明的时候就已经建立了存储空间。</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">b、另一种是不需要建立存储空间的，通过使用extern关键字声明变量名而不定义它。 例如：extern int a 其中变量 a 可以在别的文件中定义的。除非有extern关键字，否则都是变量的定义。</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">c.&nbsp;<span class="marked">#define&nbsp;是宏定义，它不能定义常量，但宏定义可以实现在字面意义上和其它定义常量相同的功能，本质的区别就在于&nbsp;<span class="marked">#define&nbsp;不为宏名分配内存，而&nbsp;<span class="marked">const&nbsp;也不为常量分配内存，怎么回事呢，其实&nbsp;<span class="marked">const&nbsp;并不是去定义一个常量，而是去改变一个变量的存储类，把该变量所占的内存变为只读！</span></span></span></span></span></p>
<p><span class="marked" style="font-size: 15px; font-family: 黑体;"><span class="marked"><span class="marked"><span class="marked">------------------------------------------------------------------------</span></span></span></span></p>
<p><span class="marked" style="font-size: 15px; font-family: 黑体;"><span class="marked"><span class="marked"><span class="marked">sub:</span></span></span></span></p>
<p><span style="font-size: 15px; font-family: 黑体;">其实&nbsp;<span class="marked">const&nbsp;并不是去定义一个常量，而是去改变一个变量的存储类，把该变量所占的内存变为只读！所以这个变量不能改变值，</span></span><span style="font-size: 15px; font-family: 黑体;">编译运行的时候起作用存在类型检查。</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">define&nbsp;定义的是不带类型的常数，只进行简单的字符替换。在预编译的时候起作用，不存在类型检查。</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">1、两者的区别</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">(1) 编译器处理方式不同</span></p>
<ul>
<li><span class="fa fa-circle" style="font-size: 15px; font-family: 黑体;">#define 宏是在预处理阶段展开。</span></li>
<li><span class="fa fa-circle" style="font-size: 15px; font-family: 黑体;">&nbsp;const 常量是编译运行阶段使用。</span></li>







</ul>
<p><span style="font-size: 15px; font-family: 黑体;">(2) 类型和安全检查不同</span></p>
<ul>
<li><span class="fa fa-circle" style="font-size: 15px; font-family: 黑体;">&nbsp;#define 宏没有类型，不做任何类型检查，仅仅是展开。</span></li>
<li><span class="fa fa-circle" style="font-size: 15px; font-family: 黑体;">&nbsp;const 常量有具体的类型，在编译阶段会执行类型检查。</span></li>







</ul>
<p><span style="font-size: 15px; font-family: 黑体;">(3) 存储方式不同</span></p>
<ul>
<li><span class="fa fa-circle" style="font-size: 15px; font-family: 黑体;">#define宏仅仅是展开，有多少地方使用，就展开多少次，不会分配内存。（宏定义不分配内存，变量定义分配内存。）</span></li>
<li><span class="fa fa-circle" style="font-size: 15px; font-family: 黑体;">const常量会在内存中分配(可以是堆中也可以是栈中)。</span></li>







</ul>
<p><span style="font-size: 15px; font-family: 黑体;">(4) const 可以节省空间，避免不必要的内存分配。 例如：</span></p>
<pre><code><span class="com" style="font-size: 15px; font-family: 黑体;">#define<span class="pln"> NUM <span class="lit">3.14159<span class="pln"> <span class="com">//常量宏<span class="pln">
<span class="kwd">const<span class="pln"> doulbe <span class="typ">Num<span class="pln"> <span class="pun">=<span class="pln"> <span class="lit">3.14159<span class="pun">;<span class="pln"> <span class="com">//此时并未将Pi放入ROM中 ......<span class="pln">
<span class="kwd">double<span class="pln"> i <span class="pun">=<span class="pln"> <span class="typ">Num<span class="pun">;<span class="pln"> <span class="com">//此时为Pi分配内存，以后不再分配！<span class="pln">
<span class="kwd">double<span class="pln"> I<span class="pun">=<span class="pln"> NUM<span class="pun">;<span class="pln"> <span class="com">//编译期间进行宏替换，分配内存<span class="pln">
<span class="kwd">double<span class="pln"> j <span class="pun">=<span class="pln"> <span class="typ">Num<span class="pun">;<span class="pln"> <span class="com">//没有内存分配<span class="pln">
<span class="kwd">double<span class="pln"> J <span class="pun">=<span class="pln"> NUM<span class="pun">;<span class="pln"> <span class="com">//再进行宏替换，又一次分配内存！</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p><span style="font-size: 15px; font-family: 黑体;">const 定义常量从汇编的角度来看，只是给出了对应的内存地址，而不是象 #define 一样给出的是立即数，所以，const 定义的常量在程序运行过程中只有一份拷贝（因为是全局的只读变量，存在静态区），而 #define 定义的常量在内存中有若干个拷贝。</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">(5) 提高了效率。 编译器通常不为普通const常量分配存储空间，而是将它们保存在符号表中，这使得它成为一个编译期间的常量，没有了存储与读内存的操作，使得它的效率也很高。</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">(6) 宏替换只作替换，不做计算，不做表达式求解;</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">宏预编译时就替换了，程序运行时，并不分配内存。</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">----------------------------------</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">d.</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">define 注意&ldquo;边缘效应&rdquo;，例：<span class="marked">#define N 2+3, N 的值是 5。</span></span></p>
<pre><code><span class="kwd" style="font-size: 15px; font-family: 黑体;">int<span class="pln"> a <span class="pun">=<span class="pln"> N<span class="pun">/<span class="lit">2</span></span></span></span></span></span></code></pre>
<p><span style="font-size: 15px; font-family: 黑体;">在编译时我们预想&nbsp;a=2.5，实际打印结果是&nbsp;3.5&nbsp;原因是在预处理阶段，编译器将&nbsp;<span class="marked">a=N/2&nbsp;处理成&nbsp;<span class="marked">a=2+3/2，这就是&nbsp;define&nbsp;宏的边缘效应，所以我们应该写成&nbsp;<span class="marked">#define N (2+3)。</span></span></span></span></p>
<p><span style="font-size: 15px; font-family: 黑体;">&nbsp;</span></p>
<p><strong><span class="marked" style="font-size: 15px; font-family: 黑体;">4.储存类(Storage Class)</span><span class="marked" style="font-size: 15px; font-family: 黑体;">：</span></strong></p>
<p><span style="font-size: 15px; font-family: 黑体;">auto&nbsp;是局部变量的默认存储类, 限定变量只能在函数内部使用；</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">register&nbsp;代表了寄存器变量，不在内存中使用； sub:&nbsp; register用于定义存储在寄存器中而不是 RAM 中的局部变量。这意味着变量的最大尺寸等于寄存器的大小（通常是一个词），且不能对它应用一元的 '&amp;' 运算符（因为它没有内存位置）。</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">static是全局变量的默认存储类,表示变量在程序生命周期内可见； sub:</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">static&nbsp;存储类指示编译器在程序的生命周期内保持局部变量的存在，而不需要在每次它进入和离开作用域时进行创建和销毁。因此，使用 static 修饰局部变量可以在函数调用之间保持局部变量的值。</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">static 修饰符也可以应用于全局变量。当 static 修饰全局变量时，会使变量的作用域限制在声明它的文件内。</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">全局声明的一个 static 变量或方法可以被任何函数或方法调用，只要这些方法出现在跟 static 变量或方法同一个文件中。</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">extern&nbsp;表示全局变量，即对程序内所有文件可见，类似于Java中的public关键字</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">sub:</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">extern&nbsp;存储类用于提供一个全局变量的引用，全局变量对所有的程序文件都是可见的。当您使用&nbsp;extern&nbsp;时，对于无法初始化的变量，会把变量名指向一个之前定义过的存储位置。</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">当您有多个文件且定义了一个可以在其他文件中使用的全局变量或函数时，可以在其他文件中使用&nbsp;extern&nbsp;来得到已定义的变量或函数的引用。可以这么理解，extern&nbsp;是用来在另一个文件中声明一个全局变量或函数。</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">&nbsp;</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">&nbsp;</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">&nbsp;</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">&nbsp;</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">引用：1.菜鸟教程：<a href="https://www.runoob.com/cprogramming/c-storage-classes.html">https://www.runoob.com/cprogramming/c-storage-classes.html</a></span></p>
<p><span style="font-size: 15px; font-family: 黑体;">2. 评论区笔记</span></p>
<p><span style="font-size: 15px; font-family: 黑体;">&nbsp;</span></p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>