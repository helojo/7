<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修大一C语言课程设计——班级档案管理系统' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>大一C语言课程设计——班级档案管理系统</center></div><div class='banquan'>原文出处:本文由博客园博主小风车吱呀转提供。<br/>
原文连接:https://www.cnblogs.com/Small-Windmill/p/11677936.html</div><br>
    <p>记录我在大一第二学期期末做的C语言课程毕业设计</p>
<h1>1. 班级档案管理系统运用到的主要结构体</h1>
<p>typedef struct birthday //出生日期<br />{<br />int year;<br />int month;<br />int day;<br />}Birthday;<br />struct file //学生档案信息<br />{<br />char id[20];//学号<br />char name[20];//姓名<br />char sex[2];//性别<br />int age;//年龄<br />Birthday birthday;//出生日期<br />char desc[20];//备注<br />}File[N];</p>
<h1>2.班级档案管理系统任务目标</h1>
<p>对一个有N个学生的班级，通过该系统实现对该班级学生的基本信息进行录入、显示、修改、删除、保存等操作的管理。<br />功能要求：<br />（1）本系统采用一个包含N个数据的结构体数组，每个数据的结构应当包括：学号、姓名、性别、年龄、备注。<br />（2）本系统显示这样的菜单：<br />请选择系统功能项：<br />a 学生基本信息录入<br />b 学生基本信息显示<br />c 学生基本信息保存<br />d 学生基本信息删除<br />e 学生基本信息修改（要求先输入密码）<br />f 学生基本信息查询<br />(1)按学号查询<br />(2)按姓名查询<br />(3)按性别查询<br />(4)按年龄查询<br />g. 退出系统<br />（3）执行一个具体的功能之后，程序将重新显示菜单。<br />（4）将学生基本信息保存到文件中。<br />（5）进入系统之前要先输入密码。</p>
<h1>3.c程序源码</h1>
<div class="cnblogs_code">
<pre><code>#include&lt;stdio.h&gt;<span style="color: #000000;">
#include</span>&lt;windows.h&gt;<span style="color: #000000;">
#include</span>&lt;stdlib.h&gt;<span style="color: #000000;">
#include</span>&lt;<span style="color: #0000ff;">string</span>.h&gt;<span style="color: #000000;">
#include</span>&lt;conio.h&gt;
<span style="color: #0000ff;">#define</span> N 200<span style="color: #000000;">
typedef </span><span style="color: #0000ff;">struct</span><span style="color: #000000;"> birthday
{
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> year;
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> month;
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> day;
}Birthday;
</span><span style="color: #0000ff;">struct</span><span style="color: #000000;"> file
{
    </span><span style="color: #0000ff;">char</span> id[<span style="color: #800080;">20</span>];<span style="color: #008000;">//</span><span style="color: #008000;">学号</span>
    <span style="color: #0000ff;">char</span> name[<span style="color: #800080;">20</span>];<span style="color: #008000;">//</span><span style="color: #008000;">姓名</span>
    <span style="color: #0000ff;">char</span> sex[<span style="color: #800080;">2</span>];<span style="color: #008000;">//</span><span style="color: #008000;">性别</span>
    <span style="color: #0000ff;">int</span> age;<span style="color: #008000;">//</span><span style="color: #008000;">年龄</span>
    Birthday birthday;<span style="color: #008000;">//</span><span style="color: #008000;">出生日期</span>
    <span style="color: #0000ff;">char</span> desc[<span style="color: #800080;">20</span>];<span style="color: #008000;">//</span><span style="color: #008000;">备注</span>
<span style="color: #000000;">}File[N];

</span><span style="color: #0000ff;">void</span> toxy(<span style="color: #0000ff;">int</span> x, <span style="color: #0000ff;">int</span> y)      <span style="color: #008000;">//</span><span style="color: #008000;">将光标移动到X,Y坐标处</span>
<span style="color: #000000;">{
COORD pos </span>=<span style="color: #000000;"> { x , y };
HANDLE Out </span>=<span style="color: #000000;"> GetStdHandle(STD_OUTPUT_HANDLE);
SetConsoleCursorPosition(Out, pos); 
}



</span><span style="color: #0000ff;">void</span> load();<span style="color: #008000;">//</span><span style="color: #008000;">系统登陆页面</span>
<span style="color: #0000ff;">void</span> save_password(<span style="color: #0000ff;">char</span> str[]);<span style="color: #008000;">//</span><span style="color: #008000;">保存密码</span>
<span style="color: #0000ff;">void</span> menu();<span style="color: #008000;">//</span><span style="color: #008000;">系统主菜单</span>
<span style="color: #0000ff;">void</span> input(<span style="color: #0000ff;">int</span> n);<span style="color: #008000;">//</span><span style="color: #008000;">学生信息录入</span>
<span style="color: #0000ff;">void</span> output();<span style="color: #008000;">//</span><span style="color: #008000;">学生信息显示</span>
<span style="color: #0000ff;">void</span> save(<span style="color: #0000ff;">int</span> n);<span style="color: #008000;">//</span><span style="color: #008000;">学生信息保存</span>
<span style="color: #0000ff;">void</span> dele();<span style="color: #008000;">//</span><span style="color: #008000;">学生信息删除</span>
<span style="color: #0000ff;">void</span> change();<span style="color: #008000;">//</span><span style="color: #008000;">学生信息修改</span>
<span style="color: #0000ff;">void</span> invest();<span style="color: #008000;">//</span><span style="color: #008000;">学生信息查询</span>
<span style="color: #0000ff;">void</span> change_password();<span style="color: #008000;">//</span><span style="color: #008000;">修改密码</span>
<span style="color: #0000ff;">void</span> over();<span style="color: #008000;">//</span><span style="color: #008000;">退出系统</span>

<span style="color: #0000ff;">void</span> input(<span style="color: #0000ff;">int</span> n)<span style="color: #008000;">//</span><span style="color: #008000;">信息录入，录入学生的基本信息</span>
<span style="color: #000000;">{   
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> i;
    </span><span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>;i&lt;n;i++<span style="color: #000000;">)
    {
        system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
        toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">请输入学生学号:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span><span style="color: #000000;">,File[i].id);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">7</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">请输入学生姓名:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span><span style="color: #000000;">,File[i].name);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">请输入学生性别(男/女):</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span><span style="color: #000000;">,File[i].sex);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">9</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">请输入学生年龄:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span>,&amp;<span style="color: #000000;">File[i].age);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">10</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">请输入学生的出生日期(年月日，以空格隔开):</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d%d%d</span><span style="color: #800000;">"</span>,&amp;File[i].birthday.year,&amp;File[i].birthday.month,&amp;<span style="color: #000000;">File[i].birthday.day);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">11</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">请输入备注:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
      scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span><span style="color: #000000;">,File[i].desc);
    }
    system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
    toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">录入完毕，请记得返回保存(*^▽^*)</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">按任意键可返回主菜单！</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    getch();

}

</span><span style="color: #0000ff;">void</span> output()<span style="color: #008000;">//</span><span style="color: #008000;">信息显示，将学生的基本信息显示到屏幕上</span>
<span style="color: #000000;">{
    system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
    system(<span style="color: #800000;">"</span><span style="color: #800000;">color F</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">字体颜色为亮白色</span>
    <span style="color: #0000ff;">int</span><span style="color: #000000;"> i;
    FILE</span>*<span style="color: #000000;">fp;
    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">***********学生基本信息*************\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;"> 学号       姓名     性别     年龄    出生日期    备注</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">10</span><span style="color: #000000;">);
    </span><span style="color: #0000ff;">if</span>((fp=fopen(<span style="color: #800000;">"</span><span style="color: #800000;">stu</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">r</span><span style="color: #800000;">"</span>))==NULL)<span style="color: #008000;">//</span><span style="color: #008000;">只用读，用r打开stu文件</span>
<span style="color: #000000;">    {
        system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">cannot open file</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
        exit(</span><span style="color: #800080;">0</span><span style="color: #000000;">);
    }
    </span><span style="color: #0000ff;">else</span><span style="color: #000000;">
    {

      </span><span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>;i&lt;N;i++<span style="color: #000000;">)
      {
        fread(</span>&amp;File[i],<span style="color: #0000ff;">sizeof</span>(<span style="color: #0000ff;">struct</span> file),<span style="color: #800080;">1</span>,fp);<span style="color: #008000;">//</span><span style="color: #008000;">从文件中读取数据到File中</span>
        <span style="color: #0000ff;">if</span>(feof(fp))<span style="color: #008000;">//</span><span style="color: #008000;">判断文件是否读到了最后</span>
            <span style="color: #0000ff;">break</span><span style="color: #000000;">;
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%-10s  %-10s%-s %7d    %d-%d-%d  %7s\n</span><span style="color: #800000;">"</span><span style="color: #000000;">,File[i].id,File[i].name,File[i].sex,File[i].age,File[i].birthday.year,File[i].birthday.month,File[i].birthday.day,File[i].desc);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">11</span>+<span style="color: #000000;">i);  
      }
    memset(File,NULL,</span><span style="color: #0000ff;">sizeof</span>(File));<span style="color: #008000;">//</span><span style="color: #008000;">重置File</span>
<span style="color: #000000;">    }
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">显示完毕，请按任意键返回主菜单</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    getch();

}

</span><span style="color: #0000ff;">void</span> save(<span style="color: #0000ff;">int</span> n) <span style="color: #008000;">//</span><span style="color: #008000;">信息保存，将录入的学生信息保存到文件中</span>
<span style="color: #000000;">{   
    system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
    system(<span style="color: #800000;">"</span><span style="color: #800000;">color F</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">字体颜色为亮白色</span>
    FILE*<span style="color: #000000;">fp;
    fp</span>=fopen(<span style="color: #800000;">"</span><span style="color: #800000;">stu</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">a+</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">以追加的方式打开文件，结束时指针停在文件尾</span>
    <span style="color: #0000ff;">int</span><span style="color: #000000;"> i;
    </span><span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>;i&lt;n;i++<span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span>(File[i].age==NULL) <span style="color: #0000ff;">continue</span>;<span style="color: #008000;">//</span><span style="color: #008000;">避免空白数据</span>
         fwrite(&amp;File[i],<span style="color: #0000ff;">sizeof</span>(<span style="color: #0000ff;">struct</span> file),<span style="color: #800080;">1</span>,fp);<span style="color: #008000;">//</span><span style="color: #008000;">向指定的文件中写入数据</span>
<span style="color: #000000;">    }
    fclose(fp);
    n</span>=NULL;<span style="color: #008000;">//</span><span style="color: #008000;">重置</span>
    memset(File,NULL,<span style="color: #0000ff;">sizeof</span>(File));<span style="color: #008000;">//</span><span style="color: #008000;">重置结构体数组File</span>
    toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">档案保存成功!即将返回主菜单&hellip;&hellip;</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    Sleep(</span><span style="color: #800080;">800</span><span style="color: #000000;">);

}

</span><span style="color: #0000ff;">void</span> dele()<span style="color: #008000;">//</span><span style="color: #008000;">信息删除，把不要的学生基本信息删除</span>
<span style="color: #000000;">{
  
   system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
   system(<span style="color: #800000;">"</span><span style="color: #800000;">color F</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">字体颜色为亮白色</span>
   <span style="color: #0000ff;">int</span> i,flag=<span style="color: #800080;">0</span>;<span style="color: #008000;">//</span><span style="color: #008000;">flag是否找到删除学生的标志</span>
   <span style="color: #0000ff;">char</span> number[<span style="color: #800080;">20</span><span style="color: #000000;">];
   </span><span style="color: #0000ff;">char</span> name[<span style="color: #800080;">20</span><span style="color: #000000;">];
   </span><span style="color: #0000ff;">char</span><span style="color: #000000;"> c;
 </span><span style="color: #0000ff;">do</span><span style="color: #000000;">
 {
     toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
     printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">请输入要删除学生的学号和姓名:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
     toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
  scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s%s</span><span style="color: #800000;">"</span><span style="color: #000000;">,number,name);
  FILE</span>*fp1,*<span style="color: #000000;">fp2;
  fp1</span>=fopen(<span style="color: #800000;">"</span><span style="color: #800000;">stu</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">r+</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">为了读和写，用r+打开stu文本文件</span>
  fp2=fopen(<span style="color: #800000;">"</span><span style="color: #800000;">linshi</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">w+</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">用w+打开一个临时的文本文件</span>
  <span style="color: #0000ff;">if</span>(fp1==NULL||fp2==<span style="color: #000000;">NULL)
  {
      toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">10</span><span style="color: #000000;">);
      printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">cannot open file!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
      toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">12</span><span style="color: #000000;">);
      exit(</span><span style="color: #800080;">0</span><span style="color: #000000;">);
  }
  </span><span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>;i&lt;N;i++<span style="color: #000000;">)
  {
      </span><span style="color: #0000ff;">while</span>(fread(&amp;File[i],<span style="color: #0000ff;">sizeof</span>(<span style="color: #0000ff;">struct</span> file),<span style="color: #800080;">1</span>,fp1))<span style="color: #008000;">//</span><span style="color: #008000;">从文件中读取数据到File</span>
<span style="color: #000000;">      {
          </span><span style="color: #0000ff;">if</span>(feof(fp1))<span style="color: #008000;">//</span><span style="color: #008000;"> 判断文件是否读到了最后</span>
              <span style="color: #0000ff;">break</span><span style="color: #000000;">;
          </span><span style="color: #0000ff;">if</span>(strcmp(number,File[i].id)==<span style="color: #800080;">0</span>&amp;&amp;strcmp(name,File[i].name)==<span style="color: #800080;">0</span>)<span style="color: #008000;">//</span><span style="color: #008000;">判断要删除的学号和姓名是否与文件数据有相同，若相同则跳过这次循环</span>
<span style="color: #000000;">          {
              flag</span>=<span style="color: #800080;">1</span><span style="color: #000000;">;
              </span><span style="color: #0000ff;">continue</span><span style="color: #000000;">;
          }
          </span><span style="color: #0000ff;">else</span><span style="color: #000000;">
          {
              fwrite(</span>&amp;File[i],<span style="color: #0000ff;">sizeof</span>(<span style="color: #0000ff;">struct</span> file),<span style="color: #800080;">1</span>,fp2);<span style="color: #008000;">//</span><span style="color: #008000;">将File的信息写入文件</span>
<span style="color: #000000;">          }
      }
  }
  fclose(fp1);
  fclose(fp2);
  </span><span style="color: #0000ff;">if</span>(system(<span style="color: #800000;">"</span><span style="color: #800000;">copy linshi stu</span><span style="color: #800000;">"</span>)==<span style="color: #800080;">0</span>)<span style="color: #008000;">//</span><span style="color: #008000;">将linshi文件的内容复制覆盖到stu文件，若成功则返回0</span>
<span style="color: #000000;">  {   
      system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
      system(<span style="color: #800000;">"</span><span style="color: #800000;">DEL linshi</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">删除linshi文件</span>
      system(<span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
<span style="color: #000000;">  }
  </span><span style="color: #0000ff;">if</span>(flag==<span style="color: #800080;">1</span>)<span style="color: #008000;">//</span><span style="color: #008000;">找到删除学生            </span>
<span style="color: #000000;">  {
                    
      toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">10</span><span style="color: #000000;">);   
      printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">成功删除该学生，系统将自动帮您更新并保存档案\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
      Sleep(</span><span style="color: #800080;">800</span><span style="color: #000000;">);
      menu();
                     
  }
  </span><span style="color: #0000ff;">if</span>(flag==<span style="color: #800080;">0</span>)<span style="color: #008000;">//</span><span style="color: #008000;">无法找到被删除学生</span>
<span style="color: #000000;">  {
      toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">10</span><span style="color: #000000;">);
      printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">删除失败!学号或姓名输入错误</span><span style="color: #800000;">"</span><span style="color: #000000;">);
      toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">11</span><span style="color: #000000;">);
      printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">按1返回主菜单，按2重新输入\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
      toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">11</span><span style="color: #000000;">);
      </span><span style="color: #0000ff;">while</span>(<span style="color: #800080;">1</span><span style="color: #000000;">)
      {
          c</span>=<span style="color: #000000;">getch();
          </span><span style="color: #0000ff;">if</span>(c==<span style="color: #800000;">'</span><span style="color: #800000;">1</span><span style="color: #800000;">'</span><span style="color: #000000;">)
          {
              menu();
          }
          </span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(c==<span style="color: #800000;">'</span><span style="color: #800000;">2</span><span style="color: #800000;">'</span><span style="color: #000000;">)
              dele();
      }
  }
 
 }</span><span style="color: #0000ff;">while</span>(<span style="color: #800080;">1</span><span style="color: #000000;">);
}
</span><span style="color: #0000ff;">void</span> change()<span style="color: #008000;">//</span><span style="color: #008000;">修改信息，修改错误的学生信息</span>
<span style="color: #000000;">{   
    </span><span style="color: #0000ff;">int</span> sign=<span style="color: #800080;">0</span>;<span style="color: #008000;">//</span><span style="color: #008000;">用来标志密码验证成功或否</span>
    <span style="color: #0000ff;">int</span> j=<span style="color: #800080;">3</span>;<span style="color: #008000;">//</span><span style="color: #008000;">每次进入此功能，用户有3次验证密码机会</span>
    <span style="color: #0000ff;">do</span><span style="color: #000000;">
    {
    system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
    system(<span style="color: #800000;">"</span><span style="color: #800000;">color F</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">字体颜色为亮白色</span>
    <span style="color: #0000ff;">char</span> str[<span style="color: #800080;">18</span><span style="color: #000000;">];
    FILE</span>*<span style="color: #000000;">fp;
    </span><span style="color: #0000ff;">if</span>((fp=fopen(<span style="color: #800000;">"</span><span style="color: #800000;">password</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">r</span><span style="color: #800000;">"</span>))==<span style="color: #000000;">NULL)
    {
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">cannot open file\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        exit(</span><span style="color: #800080;">0</span><span style="color: #000000;">);
    }
    fgets(str,</span><span style="color: #800080;">18</span>,fp);<span style="color: #008000;">//</span><span style="color: #008000;">从文件中读取密码数据保存到str数组中</span>
<span style="color: #000000;">    fclose(fp);
    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">进入该功能，须再次验证登陆密码:\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">char</span><span style="color: #000000;"> c;
        </span><span style="color: #0000ff;">char</span> password[<span style="color: #800080;">18</span><span style="color: #000000;">];
        </span><span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">for</span>(;;)<span style="color: #008000;">//</span><span style="color: #008000;">此处为输入密码不回显操作</span>
<span style="color: #000000;">        {
            c</span>=getch();<span style="color: #008000;">//</span><span style="color: #008000;">输入c</span>
            <span style="color: #0000ff;">if</span>(c==<span style="color: #800000;">'</span><span style="color: #800000;">\r</span><span style="color: #800000;">'</span>)<span style="color: #008000;">//</span><span style="color: #008000;">如果输入c为回车，则跳出循环</span>
<span style="color: #000000;">            {
                </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
            }
            </span><span style="color: #0000ff;">if</span>(c==<span style="color: #800000;">'</span><span style="color: #800000;">\b</span><span style="color: #800000;">'</span>) <span style="color: #008000;">//</span><span style="color: #008000;">如果输入c为删除键</span>
<span style="color: #000000;">            {
                printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">\b</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                printf(</span><span style="color: #800000;">"</span> <span style="color: #800000;">"</span><span style="color: #000000;">);
                printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">\b</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            }
            </span><span style="color: #0000ff;">else</span><span style="color: #000000;">
            {
                password[i]</span>=<span style="color: #000000;">c;
                printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">*</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                i</span>++<span style="color: #000000;">;
            }
        }
        password[i]</span>=<span style="color: #800000;">'</span><span style="color: #800000;">\0</span><span style="color: #800000;">'</span>;<span style="color: #008000;">//</span><span style="color: #008000;">在字符串结尾作结束符标记</span>
        <span style="color: #0000ff;">if</span>(strcmp(str,password)==<span style="color: #800080;">0</span>)<span style="color: #008000;">//</span><span style="color: #008000;">验证密码是否正确</span>
<span style="color: #000000;">        {
          system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
          toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">10</span><span style="color: #000000;">);
          printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">验证成功！即将进入修改功能!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
          Sleep(</span><span style="color: #800080;">600</span><span style="color: #000000;">);
          sign</span>=<span style="color: #800080;">1</span><span style="color: #000000;">;
          </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
        }
        </span><span style="color: #0000ff;">else</span><span style="color: #000000;">
        {
            toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">10</span><span style="color: #000000;">);
            j</span>--<span style="color: #000000;">;
            printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">密码错误!您还有%d次验证机会</span><span style="color: #800000;">"</span><span style="color: #000000;">,j);
            Sleep(</span><span style="color: #800080;">600</span><span style="color: #000000;">);
        }
    }</span><span style="color: #0000ff;">while</span>(j&gt;<span style="color: #800080;">0</span>);<span style="color: #008000;">//</span><span style="color: #008000;">验证机会不为0</span>
    <span style="color: #0000ff;">if</span>(j==<span style="color: #800080;">0</span><span style="color: #000000;">)
    {
        system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">验证机会已用完，即将返回主菜单&hellip;&hellip;</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        Sleep(</span><span style="color: #800080;">600</span><span style="color: #000000;">);
        menu();
    }
    
    </span><span style="color: #0000ff;">int</span> <span style="color: #0000ff;">select</span><span style="color: #000000;">,i;
    </span><span style="color: #0000ff;">char</span> number[<span style="color: #800080;">20</span><span style="color: #000000;">];
    </span><span style="color: #0000ff;">int</span> count=<span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(sign)
    {
        system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">while</span>(<span style="color: #0000ff;">select</span>!=<span style="color: #800080;">7</span><span style="color: #000000;">)
        {
        system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">--------------1.修改学号-------------</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">7</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">--------------2.修改姓名-------------</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">--------------3.修改性别-------------</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">9</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">--------------4.修改年龄-------------</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">10</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">--------------5.修改出生日期---------</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">11</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">--------------6.修改备注 ------------</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">12</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">--------------7. 退出 ---------------</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">13</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">请输入1~6进行选择:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">14</span><span style="color: #000000;">);
        scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span>,&amp;<span style="color: #0000ff;">select</span><span style="color: #000000;">);
        FILE</span>*<span style="color: #000000;">fp1;
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">15</span><span style="color: #000000;">);
     </span><span style="color: #0000ff;">if</span>((fp1=fopen(<span style="color: #800000;">"</span><span style="color: #800000;">stu</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">r+</span><span style="color: #800000;">"</span>))==NULL)<span style="color: #008000;">//</span><span style="color: #008000;">为了读和写，用r+打开stu文件</span>
<span style="color: #000000;">     {
         system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
         toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">cannot open file!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
        exit(</span><span style="color: #800080;">0</span><span style="color: #000000;">);
     }  
     </span><span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>;i&lt;N;i++<span style="color: #000000;">)
    {
        fread(</span>&amp;File[i],<span style="color: #0000ff;">sizeof</span>(<span style="color: #0000ff;">struct</span> file),<span style="color: #800080;">1</span>,fp1);<span style="color: #008000;">//</span><span style="color: #008000;">从文件中读取数据到File</span>
         <span style="color: #0000ff;">if</span>(feof(fp1))<span style="color: #008000;">//</span><span style="color: #008000;">判断文件是否读到了最后</span>
            <span style="color: #0000ff;">break</span><span style="color: #000000;">;
        count</span>++;<span style="color: #008000;">//</span><span style="color: #008000;">每次成功从stu文件中读取信息，则学生数据个数加1</span>
<span style="color: #000000;">    }
     </span><span style="color: #0000ff;">int</span> flag=<span style="color: #800080;">0</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">switch</span>(<span style="color: #0000ff;">select</span><span style="color: #000000;">)
        {
        </span><span style="color: #0000ff;">case</span> <span style="color: #800080;">1</span>:<span style="color: #008000;">//</span><span style="color: #008000;">修改学号</span>
                system(<span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
                toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">5</span><span style="color: #000000;">);
                printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">请输入要修改学生的学号:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
                scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span><span style="color: #000000;">,number);
                </span><span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>;i&lt;count;i++<span style="color: #000000;">)
                {
                    </span><span style="color: #0000ff;">if</span>((strcmp(number,File[i].id))==<span style="color: #800080;">0</span><span style="color: #000000;">)
                    {
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">7</span><span style="color: #000000;">);
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">*********************学生基本信息*********************</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;"> 学号       姓名     性别     年龄    出生日期    备注</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">9</span><span style="color: #000000;">);
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%-10s  %-10s%-s %7d    %d-%d-%d  %7s</span><span style="color: #800000;">"</span><span style="color: #000000;">,File[i].id,File[i].name,File[i].sex,File[i].age,File[i].birthday.year,File[i].birthday.month,File[i].birthday.day,File[i].desc);
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">10</span><span style="color: #000000;">);
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">重新输入该学生的学号进行修改:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">11</span><span style="color: #000000;">);
                        scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span><span style="color: #000000;">,File[i].id);
                        flag</span>=<span style="color: #800080;">1</span><span style="color: #000000;">;
                        </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
                    }
                }
                fclose(fp1);
                </span><span style="color: #0000ff;">if</span>(flag==<span style="color: #800080;">1</span><span style="color: #000000;">)
                {
                    system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
                    toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">12</span><span style="color: #000000;">);
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">修改成功！系统已自动保存！</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">13</span><span style="color: #000000;">);
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">正在自动跳转到主菜单....</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    FILE</span>*<span style="color: #000000;">fp2;
                    </span><span style="color: #0000ff;">if</span>((fp2=fopen(<span style="color: #800000;">"</span><span style="color: #800000;">stu</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">w+</span><span style="color: #800000;">"</span>))==NULL)<span style="color: #008000;">//</span><span style="color: #008000;">用w+打开stu文件同时清空文件内容</span>
<span style="color: #000000;">                    {
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">cannot open file!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                        exit(</span><span style="color: #800080;">0</span><span style="color: #000000;">);
                    }
                    </span><span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>;i&lt;count;i++<span style="color: #000000;">)
                        fwrite(</span>&amp;File[i],<span style="color: #0000ff;">sizeof</span>(file),<span style="color: #800080;">1</span>,fp2);<span style="color: #008000;">//</span><span style="color: #008000;">将File的信息写入stu文件</span>
<span style="color: #000000;">                    fclose(fp2);
                    Sleep(</span><span style="color: #800080;">600</span><span style="color: #000000;">);
                    menu();
                    
                }
                </span><span style="color: #0000ff;">if</span>(flag==<span style="color: #800080;">0</span><span style="color: #000000;">)
                {
                    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">12</span><span style="color: #000000;">);
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">该学生不存在!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">13</span><span style="color: #000000;">);
                    </span><span style="color: #0000ff;">char</span><span style="color: #000000;"> c;
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">1.返回上一级  2.返回主菜单</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">14</span><span style="color: #000000;">);
                    c</span>=<span style="color: #000000;">getch();
                    </span><span style="color: #0000ff;">if</span>(c==<span style="color: #800000;">'</span><span style="color: #800000;">1</span><span style="color: #800000;">'</span>) <span style="color: #0000ff;">break</span><span style="color: #000000;">;
                    </span><span style="color: #0000ff;">if</span>(c==<span style="color: #800000;">'</span><span style="color: #800000;">2</span><span style="color: #800000;">'</span><span style="color: #000000;">) menu();
                }

        </span><span style="color: #0000ff;">case</span> <span style="color: #800080;">2</span>:<span style="color: #008000;">//</span><span style="color: #008000;">修改姓名</span>
            system(<span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
            toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">5</span><span style="color: #000000;">);
                printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">请输入要修改学生的学号:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
                scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span><span style="color: #000000;">,number);
                </span><span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>;i&lt;count;i++<span style="color: #000000;">)
                {
                    </span><span style="color: #0000ff;">if</span>((strcmp(number,File[i].id))==<span style="color: #800080;">0</span><span style="color: #000000;">)
                    {
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">7</span><span style="color: #000000;">);
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">*********************学生基本信息*********************</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;"> 学号       姓名     性别     年龄    出生日期    备注</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">9</span><span style="color: #000000;">);
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%-10s  %-10s%-s %7d    %d-%d-%d  %7s</span><span style="color: #800000;">"</span><span style="color: #000000;">,File[i].id,File[i].name,File[i].sex,File[i].age,File[i].birthday.year,File[i].birthday.month,File[i].birthday.day,File[i].desc);
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">10</span><span style="color: #000000;">);
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">重新输入该学生的姓名进行修改:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">11</span><span style="color: #000000;">);
                        scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span><span style="color: #000000;">,File[i].name);
                        flag</span>=<span style="color: #800080;">1</span><span style="color: #000000;">;
                        </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
                    }
                }
                </span><span style="color: #0000ff;">if</span>(flag==<span style="color: #800080;">1</span><span style="color: #000000;">)
                {
                    system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
                    toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">12</span><span style="color: #000000;">);
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">修改成功！系统已自动保存！</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">13</span><span style="color: #000000;">);
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">正在自动跳转到主菜单....</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    FILE</span>*<span style="color: #000000;">fp2;
                    </span><span style="color: #0000ff;">if</span>((fp2=fopen(<span style="color: #800000;">"</span><span style="color: #800000;">stu</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">w+</span><span style="color: #800000;">"</span>))==NULL)<span style="color: #008000;">//</span><span style="color: #008000;">用w+打开stu文件同时清空文件内容</span>
<span style="color: #000000;">                    {
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">cannot open file!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                        exit(</span><span style="color: #800080;">0</span><span style="color: #000000;">);
                    }
                    </span><span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>;i&lt;count;i++<span style="color: #000000;">)
                        fwrite(</span>&amp;File[i],<span style="color: #0000ff;">sizeof</span>(file),<span style="color: #800080;">1</span>,fp2);<span style="color: #008000;">//</span><span style="color: #008000;">将File的信息写入stu文件</span>
<span style="color: #000000;">                    fclose(fp2);
                    Sleep(</span><span style="color: #800080;">600</span><span style="color: #000000;">);
                    menu();
                    
                }
                </span><span style="color: #0000ff;">if</span>(flag==<span style="color: #800080;">0</span><span style="color: #000000;">)
                {
                    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">12</span><span style="color: #000000;">);
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">该学生不存在!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">13</span><span style="color: #000000;">);
                    </span><span style="color: #0000ff;">char</span><span style="color: #000000;"> c;
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">1.返回上一级  2.返回主菜单</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">14</span><span style="color: #000000;">);
                    c</span>=<span style="color: #000000;">getch();
                    </span><span style="color: #0000ff;">if</span>(c==<span style="color: #800000;">'</span><span style="color: #800000;">1</span><span style="color: #800000;">'</span>) <span style="color: #0000ff;">break</span><span style="color: #000000;">;
                    </span><span style="color: #0000ff;">if</span>(c==<span style="color: #800000;">'</span><span style="color: #800000;">2</span><span style="color: #800000;">'</span><span style="color: #000000;">) menu();
                }

        </span><span style="color: #0000ff;">case</span> <span style="color: #800080;">3</span>:<span style="color: #008000;">//</span><span style="color: #008000;">修改性别</span>
            system(<span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
            toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">5</span><span style="color: #000000;">);
                printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">请输入要修改学生的学号:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
                scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span><span style="color: #000000;">,number);
                </span><span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>;i&lt;count;i++<span style="color: #000000;">)
                {
                    </span><span style="color: #0000ff;">if</span>((strcmp(number,File[i].id))==<span style="color: #800080;">0</span><span style="color: #000000;">)
                    {
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">7</span><span style="color: #000000;">);
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">*********************学生基本信息*********************</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;"> 学号       姓名     性别     年龄    出生日期    备注</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">9</span><span style="color: #000000;">);
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%-10s  %-10s%-s %7d    %d-%d-%d  %7s</span><span style="color: #800000;">"</span><span style="color: #000000;">,File[i].id,File[i].name,File[i].sex,File[i].age,File[i].birthday.year,File[i].birthday.month,File[i].birthday.day,File[i].desc);
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">10</span><span style="color: #000000;">);
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">重新输入该学生的性别进行修改:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">11</span><span style="color: #000000;">);
                        scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span><span style="color: #000000;">,File[i].sex);
                        flag</span>=<span style="color: #800080;">1</span><span style="color: #000000;">;
                        </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
                    }
                }
                </span><span style="color: #0000ff;">if</span>(flag==<span style="color: #800080;">1</span><span style="color: #000000;">)
                {
                    system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
                    toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">12</span><span style="color: #000000;">);
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">修改成功！系统已自动保存！</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">13</span><span style="color: #000000;">);
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">正在自动跳转到主菜单....</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    FILE</span>*<span style="color: #000000;">fp2;
                    </span><span style="color: #0000ff;">if</span>((fp2=fopen(<span style="color: #800000;">"</span><span style="color: #800000;">stu</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">w+</span><span style="color: #800000;">"</span>))==NULL)<span style="color: #008000;">//</span><span style="color: #008000;">用w+打开stu文件同时清空文件内容</span>
<span style="color: #000000;">                    {
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">cannot open file!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                        exit(</span><span style="color: #800080;">0</span><span style="color: #000000;">);
                    }
                    </span><span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>;i&lt;count;i++<span style="color: #000000;">)
                        fwrite(</span>&amp;File[i],<span style="color: #0000ff;">sizeof</span>(file),<span style="color: #800080;">1</span>,fp2);<span style="color: #008000;">//</span><span style="color: #008000;">将File的信息写入stu文件</span>
<span style="color: #000000;">                    fclose(fp2);
                    Sleep(</span><span style="color: #800080;">600</span><span style="color: #000000;">);
                    menu();
                    
                }
                </span><span style="color: #0000ff;">if</span>(flag==<span style="color: #800080;">0</span><span style="color: #000000;">)
                {
                    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">12</span><span style="color: #000000;">);
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">该学生不存在!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">13</span><span style="color: #000000;">);
                    </span><span style="color: #0000ff;">char</span><span style="color: #000000;"> c;
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">1.返回上一级  2.返回主菜单</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">14</span><span style="color: #000000;">);
                    c</span>=<span style="color: #000000;">getch();
                    </span><span style="color: #0000ff;">if</span>(c==<span style="color: #800000;">'</span><span style="color: #800000;">1</span><span style="color: #800000;">'</span>) <span style="color: #0000ff;">break</span><span style="color: #000000;">;
                    </span><span style="color: #0000ff;">if</span>(c==<span style="color: #800000;">'</span><span style="color: #800000;">2</span><span style="color: #800000;">'</span><span style="color: #000000;">) menu();
                }
        </span><span style="color: #0000ff;">case</span> <span style="color: #800080;">4</span>:<span style="color: #008000;">//</span><span style="color: #008000;">修改年龄</span>
            system(<span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
            toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">5</span><span style="color: #000000;">);
                printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">请输入要修改学生的学号:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
                scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span><span style="color: #000000;">,number);
                </span><span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>;i&lt;count;i++<span style="color: #000000;">)
                {
                    </span><span style="color: #0000ff;">if</span>((strcmp(number,File[i].id))==<span style="color: #800080;">0</span><span style="color: #000000;">)
                    {
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">7</span><span style="color: #000000;">);
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">*********************学生基本信息*********************</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;"> 学号       姓名     性别     年龄    出生日期    备注</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">9</span><span style="color: #000000;">);
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%-10s  %-10s%-s %7d    %d-%d-%d  %7s</span><span style="color: #800000;">"</span><span style="color: #000000;">,File[i].id,File[i].name,File[i].sex,File[i].age,File[i].birthday.year,File[i].birthday.month,File[i].birthday.day,File[i].desc);
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">10</span><span style="color: #000000;">);
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">重新输入该学生的年龄进行修改:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">11</span><span style="color: #000000;">);
                        scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span>,&amp;<span style="color: #000000;">File[i].age);
                        flag</span>=<span style="color: #800080;">1</span><span style="color: #000000;">;
                    }
                }
                </span><span style="color: #0000ff;">if</span>(flag==<span style="color: #800080;">1</span><span style="color: #000000;">)
                {
                    system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
                    toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">12</span><span style="color: #000000;">);
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">修改成功！系统已自动保存！</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">13</span><span style="color: #000000;">);
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">正在自动跳转到主菜单....</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    FILE</span>*<span style="color: #000000;">fp2;
                    </span><span style="color: #0000ff;">if</span>((fp2=fopen(<span style="color: #800000;">"</span><span style="color: #800000;">stu</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">w+</span><span style="color: #800000;">"</span>))==NULL)<span style="color: #008000;">//</span><span style="color: #008000;">用w+打开stu文件同时清空文件内容</span>
<span style="color: #000000;">                    {
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">cannot open file!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                        exit(</span><span style="color: #800080;">0</span><span style="color: #000000;">);
                    }
                    </span><span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>;i&lt;count;i++<span style="color: #000000;">)
                        fwrite(</span>&amp;File[i],<span style="color: #0000ff;">sizeof</span>(file),<span style="color: #800080;">1</span>,fp2);<span style="color: #008000;">//</span><span style="color: #008000;">将File的信息写入stu文件</span>
<span style="color: #000000;">                    fclose(fp2);
                    Sleep(</span><span style="color: #800080;">600</span><span style="color: #000000;">);
                    menu();
                    
                }
                </span><span style="color: #0000ff;">if</span>(flag==<span style="color: #800080;">0</span><span style="color: #000000;">)
                {
                    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">12</span><span style="color: #000000;">);
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">该学生不存在!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">13</span><span style="color: #000000;">);
                    </span><span style="color: #0000ff;">char</span><span style="color: #000000;"> c;
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">1.返回上一级  2.返回主菜单</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">14</span><span style="color: #000000;">);
                    c</span>=<span style="color: #000000;">getch();
                    </span><span style="color: #0000ff;">if</span>(c==<span style="color: #800000;">'</span><span style="color: #800000;">1</span><span style="color: #800000;">'</span>) <span style="color: #0000ff;">break</span><span style="color: #000000;">;
                    </span><span style="color: #0000ff;">if</span>(c==<span style="color: #800000;">'</span><span style="color: #800000;">2</span><span style="color: #800000;">'</span><span style="color: #000000;">) menu();
                }

        </span><span style="color: #0000ff;">case</span> <span style="color: #800080;">5</span>:<span style="color: #008000;">//</span><span style="color: #008000;">修改出生日期</span>
            system(<span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
            toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">5</span><span style="color: #000000;">);
            printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">请输入要修改学生的学号:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
                scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span><span style="color: #000000;">,number);
                </span><span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>;i&lt;count;i++<span style="color: #000000;">)
                {
                    </span><span style="color: #0000ff;">if</span>((strcmp(number,File[i].id))==<span style="color: #800080;">0</span><span style="color: #000000;">)
                    {
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">7</span><span style="color: #000000;">);
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">*********************学生基本信息*********************</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;"> 学号       姓名     性别     年龄    出生日期    备注</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">9</span><span style="color: #000000;">);
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%-10s  %-10s%-s %7d    %d-%d-%d  %7s</span><span style="color: #800000;">"</span><span style="color: #000000;">,File[i].id,File[i].name,File[i].sex,File[i].age,File[i].birthday.year,File[i].birthday.month,File[i].birthday.day,File[i].desc);
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">10</span><span style="color: #000000;">);
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">重新输入该学生的出生日期(年 月 日)进行修改:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">11</span><span style="color: #000000;">);
                        scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d%d%d</span><span style="color: #800000;">"</span>,&amp;File[i].birthday.year,&amp;File[i].birthday.month,&amp;<span style="color: #000000;">File[i].birthday.day);
                        flag</span>=<span style="color: #800080;">1</span><span style="color: #000000;">;
                    }
                }
                </span><span style="color: #0000ff;">if</span>(flag==<span style="color: #800080;">1</span><span style="color: #000000;">)
                {
                    system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
                    toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">12</span><span style="color: #000000;">);
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">修改成功！系统已自动保存！</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">13</span><span style="color: #000000;">);
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">正在自动跳转到主菜单....</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    FILE</span>*<span style="color: #000000;">fp2;
                    </span><span style="color: #0000ff;">if</span>((fp2=fopen(<span style="color: #800000;">"</span><span style="color: #800000;">stu</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">w+</span><span style="color: #800000;">"</span>))==NULL)<span style="color: #008000;">//</span><span style="color: #008000;">用w+打开stu文件同时清空文件内容</span>
<span style="color: #000000;">                    {
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">cannot open file!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                        exit(</span><span style="color: #800080;">0</span><span style="color: #000000;">);
                    }
                    </span><span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>;i&lt;count;i++<span style="color: #000000;">)
                        fwrite(</span>&amp;File[i],<span style="color: #0000ff;">sizeof</span>(file),<span style="color: #800080;">1</span>,fp2);<span style="color: #008000;">//</span><span style="color: #008000;">将File的信息写入stu文件</span>
<span style="color: #000000;">                    fclose(fp2);
                    Sleep(</span><span style="color: #800080;">600</span><span style="color: #000000;">);
                    menu();
                    
                }
                </span><span style="color: #0000ff;">if</span>(flag==<span style="color: #800080;">0</span><span style="color: #000000;">)
                {
                    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">12</span><span style="color: #000000;">);
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">该学生不存在!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">13</span><span style="color: #000000;">);
                    </span><span style="color: #0000ff;">char</span><span style="color: #000000;"> c;
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">1.返回上一级  2.返回主菜单</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">14</span><span style="color: #000000;">);
                    c</span>=<span style="color: #000000;">getch();
                    </span><span style="color: #0000ff;">if</span>(c==<span style="color: #800000;">'</span><span style="color: #800000;">1</span><span style="color: #800000;">'</span>) <span style="color: #0000ff;">break</span><span style="color: #000000;">;
                    </span><span style="color: #0000ff;">if</span>(c==<span style="color: #800000;">'</span><span style="color: #800000;">2</span><span style="color: #800000;">'</span><span style="color: #000000;">) menu();
                }

        </span><span style="color: #0000ff;">case</span> <span style="color: #800080;">6</span>:<span style="color: #008000;">//</span><span style="color: #008000;">修改备注</span>
        system(<span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
            toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">5</span><span style="color: #000000;">);
                printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">请输入要修改学生的学号:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
                scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span><span style="color: #000000;">,number);
                </span><span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>;i&lt;count;i++<span style="color: #000000;">)
                {
                    </span><span style="color: #0000ff;">if</span>((strcmp(number,File[i].id))==<span style="color: #800080;">0</span><span style="color: #000000;">)
                    {
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">7</span><span style="color: #000000;">);
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">*********************学生基本信息*********************</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;"> 学号       姓名     性别     年龄    出生日期    备注</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">9</span><span style="color: #000000;">);
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%-10s  %-10s%-s %7d    %d-%d-%d  %7s</span><span style="color: #800000;">"</span><span style="color: #000000;">,File[i].id,File[i].name,File[i].sex,File[i].age,File[i].birthday.year,File[i].birthday.month,File[i].birthday.day,File[i].desc);
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">10</span><span style="color: #000000;">);
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">重新输入该学生的备注进行修改:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">11</span><span style="color: #000000;">);
                        scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span>,&amp;<span style="color: #000000;">File[i].desc);
                        flag</span>=<span style="color: #800080;">1</span><span style="color: #000000;">;
                    }
                }
                </span><span style="color: #0000ff;">if</span>(flag==<span style="color: #800080;">1</span><span style="color: #000000;">)
                {
                    system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
                    toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">12</span><span style="color: #000000;">);
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">修改成功！系统已自动保存！</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">13</span><span style="color: #000000;">);
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">正在自动跳转到主菜单....</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    FILE</span>*<span style="color: #000000;">fp2;
                    </span><span style="color: #0000ff;">if</span>((fp2=fopen(<span style="color: #800000;">"</span><span style="color: #800000;">stu</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">w+</span><span style="color: #800000;">"</span>))==NULL)<span style="color: #008000;">//</span><span style="color: #008000;">用w+打开stu文件同时清空文件内容</span>
<span style="color: #000000;">                    {
                        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">cannot open file!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                        exit(</span><span style="color: #800080;">0</span><span style="color: #000000;">);
                    }
                    </span><span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>;i&lt;count;i++<span style="color: #000000;">)
                        fwrite(</span>&amp;File[i],<span style="color: #0000ff;">sizeof</span>(file),<span style="color: #800080;">1</span>,fp2);<span style="color: #008000;">//</span><span style="color: #008000;">将File的信息写入stu文件</span>
<span style="color: #000000;">                    fclose(fp2);
                    Sleep(</span><span style="color: #800080;">600</span><span style="color: #000000;">);
                    menu();
                    
                }
                </span><span style="color: #0000ff;">if</span>(flag==<span style="color: #800080;">0</span><span style="color: #000000;">)
                {
                    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">12</span><span style="color: #000000;">);
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">该学生不存在!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">13</span><span style="color: #000000;">);
                    </span><span style="color: #0000ff;">char</span><span style="color: #000000;"> c;
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">1.返回上一级  2.返回主菜单</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">14</span><span style="color: #000000;">);
                    c</span>=<span style="color: #000000;">getch();
                    </span><span style="color: #0000ff;">if</span>(c==<span style="color: #800000;">'</span><span style="color: #800000;">1</span><span style="color: #800000;">'</span>) <span style="color: #0000ff;">break</span><span style="color: #000000;">;
                    </span><span style="color: #0000ff;">if</span>(c==<span style="color: #800000;">'</span><span style="color: #800000;">2</span><span style="color: #800000;">'</span><span style="color: #000000;">) menu();
                }

        </span><span style="color: #0000ff;">case</span> <span style="color: #800080;">7</span>:system(<span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
        <span style="color: #0000ff;">default</span>:<span style="color: #0000ff;">break</span><span style="color: #000000;">;
        }
        }

    }
}
</span><span style="color: #0000ff;">void</span> invest()<span style="color: #008000;">//</span><span style="color: #008000;">查询信息，可按学号、姓名、性别、年龄、出生日期查询学生的基本信息</span>
<span style="color: #000000;">{   
    system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
    system(<span style="color: #800000;">"</span><span style="color: #800000;">color F</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">字体颜色为亮白色</span>
    <span style="color: #0000ff;">int</span><span style="color: #000000;"> i,x,flag,year,month,day,age;
    </span><span style="color: #0000ff;">char</span> number[<span style="color: #800080;">20</span><span style="color: #000000;">];
    </span><span style="color: #0000ff;">char</span> name[<span style="color: #800080;">20</span><span style="color: #000000;">];
    </span><span style="color: #0000ff;">char</span> sex[<span style="color: #800080;">5</span><span style="color: #000000;">];
    </span><span style="color: #0000ff;">while</span>(x!=<span style="color: #800080;">6</span><span style="color: #000000;">)
    {
    system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">请选择查询功能:\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">7</span><span style="color: #000000;">);
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">\t1.查询学号\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">\t2.查询姓名\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">9</span><span style="color: #000000;">);
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">\t3.查询性别\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">10</span><span style="color: #000000;">);
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">\t4.查询出生日期\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">11</span><span style="color: #000000;">);
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">\t5.查询年龄\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">12</span><span style="color: #000000;">);
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">\t6.退出\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">13</span><span style="color: #000000;">);
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">请输入选择:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span>,&amp;<span style="color: #000000;">x);
    FILE</span>*<span style="color: #000000;">fp;
    </span><span style="color: #0000ff;">if</span>((fp=fopen(<span style="color: #800000;">"</span><span style="color: #800000;">stu</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">r</span><span style="color: #800000;">"</span>))==NULL)<span style="color: #008000;">//</span><span style="color: #008000;">只用读，用r打开stu文件</span>
<span style="color: #000000;">    {
        system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
        toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">cannot open file\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
        exit(</span><span style="color: #800080;">0</span><span style="color: #000000;">);
    }
    </span><span style="color: #0000ff;">int</span> count=<span style="color: #800080;">0</span>;<span style="color: #008000;">//</span><span style="color: #008000;">用来记录文件中学生数据的个数</span>
    <span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>;i&lt;N;i++<span style="color: #000000;">)
        {
        fread(</span>&amp;File[i],<span style="color: #0000ff;">sizeof</span>(<span style="color: #0000ff;">struct</span> file),<span style="color: #800080;">1</span>,fp);<span style="color: #008000;">//</span><span style="color: #008000;">将stu文件信息传到File中</span>
        <span style="color: #0000ff;">if</span>(feof(fp))<span style="color: #008000;">//</span><span style="color: #008000;">判断文件是否读到了最后</span>
             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
        count</span>++;<span style="color: #008000;">//</span><span style="color: #008000;">每次成功从stu文件中读取信息，则学生数据个数加1</span>
<span style="color: #000000;">        }
    fclose(fp);
    </span><span style="color: #0000ff;">switch</span><span style="color: #000000;">(x)
    {
    </span><span style="color: #0000ff;">case</span> <span style="color: #800080;">1</span><span style="color: #000000;">:
        system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
        toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">请输入学号:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
        scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span><span style="color: #000000;">,number);
        system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
        flag=<span style="color: #800080;">0</span><span style="color: #000000;">;
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">学号为%s的学生信息如下:</span><span style="color: #800000;">"</span><span style="color: #000000;">,number);
        </span><span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>;i&lt;count;i++<span style="color: #000000;">)
        {   
            </span><span style="color: #0000ff;">if</span>((strcmp(number,File[i].id))==<span style="color: #800080;">0</span><span style="color: #000000;">)
            {
                toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">7</span>+<span style="color: #000000;">i);
                printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%-10s  %-10s%-s %7d    %d-%d-%d  %7s</span><span style="color: #800000;">"</span><span style="color: #000000;">,File[i].id,File[i].name,File[i].sex,File[i].age,File[i].birthday.year,File[i].birthday.month,File[i].birthday.day,File[i].desc);
                flag</span>=<span style="color: #800080;">1</span><span style="color: #000000;">;
            }
        }
        </span><span style="color: #0000ff;">if</span>(flag==<span style="color: #800080;">0</span><span style="color: #000000;">)
        {   
            toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
            printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">无法找到你要找的学生!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        }
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">11</span>+<span style="color: #000000;">count);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">按任意键后可返回&hellip;&hellip;</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                getch();
        </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">case</span> <span style="color: #800080;">2</span><span style="color: #000000;">:
        system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
        toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">请输入姓名:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
         scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span><span style="color: #000000;">,name);
         flag</span>=<span style="color: #800080;">0</span><span style="color: #000000;">;
         system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
         toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
         printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">姓名为%s的学生信息如下:</span><span style="color: #800000;">"</span><span style="color: #000000;">,name);
        </span><span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>;i&lt;count;i++<span style="color: #000000;">)
        {
            </span><span style="color: #0000ff;">if</span>(strcmp(name,File[i].name)==<span style="color: #800080;">0</span><span style="color: #000000;">)
            {
               toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">7</span>+<span style="color: #000000;">i);
               printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%-10s  %-10s%-s %7d    %d-%d-%d  %7s</span><span style="color: #800000;">"</span><span style="color: #000000;">,File[i].id,File[i].name,File[i].sex,File[i].age,File[i].birthday.year,File[i].birthday.month,File[i].birthday.day,File[i].desc);
               flag</span>=<span style="color: #800080;">1</span><span style="color: #000000;">;
            }
        }
        </span><span style="color: #0000ff;">if</span>(flag==<span style="color: #800080;">0</span><span style="color: #000000;">)
        {
            toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
            printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">无法找到你要找的学生!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        }
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">11</span>+<span style="color: #000000;">count);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">按任意键后可返回&hellip;&hellip;</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        getch();
        </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">case</span> <span style="color: #800080;">3</span><span style="color: #000000;">:
        system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
        toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">请输入性别(男/女):</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
        scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span><span style="color: #000000;">,sex);
        system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
        flag=<span style="color: #800080;">0</span><span style="color: #000000;">;
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">性别为%s的学生信息如下:</span><span style="color: #800000;">"</span><span style="color: #000000;">,sex);
        </span><span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>;i&lt;count;i++<span style="color: #000000;">)
        {     
            </span><span style="color: #0000ff;">if</span>(strcmp(sex,File[i].sex)==<span style="color: #800080;">0</span><span style="color: #000000;">)
            {
               toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">7</span>+<span style="color: #000000;">i);
               printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%-10s  %-10s%-s %7d    %d-%d-%d  %7s</span><span style="color: #800000;">"</span><span style="color: #000000;">,File[i].id,File[i].name,File[i].sex,File[i].age,File[i].birthday.year,File[i].birthday.month,File[i].birthday.day,File[i].desc);
               flag</span>=<span style="color: #800080;">1</span><span style="color: #000000;">;
            }
        }
        </span><span style="color: #0000ff;">if</span>(flag==<span style="color: #800080;">0</span><span style="color: #000000;">)
        {
            toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
            printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">无法找到你要找的学生!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        }
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">11</span>+<span style="color: #000000;">count);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">按任意键后可返回&hellip;&hellip;</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        getch();
            </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">case</span> <span style="color: #800080;">4</span><span style="color: #000000;">:
        system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
        toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">请输入出生日期(年 月 日):</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
        scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d%d%d</span><span style="color: #800000;">"</span>,&amp;year,&amp;month,&amp;<span style="color: #000000;">day);
        system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
        flag=<span style="color: #800080;">0</span><span style="color: #000000;">;
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">出生日期为%d年%d月%d日的学生信息如下:</span><span style="color: #800000;">"</span><span style="color: #000000;">,year,month,day);
        </span><span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>;i&lt;count;i++<span style="color: #000000;">)
        {
           </span><span style="color: #0000ff;">if</span>(year==File[i].birthday.year&amp;&amp;year==File[i].birthday.month&amp;&amp;year==<span style="color: #000000;">File[i].birthday.day)
           {
               toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">7</span>+<span style="color: #000000;">i);
               printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%-10s  %-10s%-s %7d    %d-%d-%d  %7s</span><span style="color: #800000;">"</span><span style="color: #000000;">,File[i].id,File[i].name,File[i].sex,File[i].age,File[i].birthday.year,File[i].birthday.month,File[i].birthday.day,File[i].desc);
               flag</span>=<span style="color: #800080;">1</span><span style="color: #000000;">;
           }
        }
        </span><span style="color: #0000ff;">if</span>(flag==<span style="color: #800080;">0</span><span style="color: #000000;">)
        {
            toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
            printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">无法找到你要找的学生!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        }
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">11</span>+<span style="color: #000000;">count);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">按任意键后可返回&hellip;&hellip;</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        getch();
        </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">case</span> <span style="color: #800080;">5</span><span style="color: #000000;">:
        system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
        toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">请输入年龄:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
        scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span>,&amp;<span style="color: #000000;">age);
        system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
        flag=<span style="color: #800080;">0</span><span style="color: #000000;">;
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">年龄为%d的学生信息如下:</span><span style="color: #800000;">"</span><span style="color: #000000;">,age);
       </span><span style="color: #0000ff;">for</span>(i=<span style="color: #800080;">0</span>;i&lt;count;i++<span style="color: #000000;">)
       {
           </span><span style="color: #0000ff;">if</span>(age==<span style="color: #000000;">File[i].age)
           {
               toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">7</span>+<span style="color: #000000;">i);
               printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%-10s  %-10s%-s %7d    %d-%d-%d  %7s</span><span style="color: #800000;">"</span><span style="color: #000000;">,File[i].id,File[i].name,File[i].sex,File[i].age,File[i].birthday.year,File[i].birthday.month,File[i].birthday.day,File[i].desc);
               flag</span>=<span style="color: #800080;">1</span><span style="color: #000000;">;
           }
        }
       </span><span style="color: #0000ff;">if</span>(flag==<span style="color: #800080;">0</span><span style="color: #000000;">)
       {
           toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
           printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">无法找到你要找的学生!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
       }
       toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">11</span>+<span style="color: #000000;">count);
       printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">按任意键后可返回&hellip;&hellip;</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        getch();
       </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">case</span> <span style="color: #800080;">6</span>:system(<span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
        toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">即将返回主菜单&hellip;&hellip;</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        Sleep(</span><span style="color: #800080;">700</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
    }
    }
}
</span><span style="color: #0000ff;">void</span> over()<span style="color: #008000;">//</span><span style="color: #008000;">退出功能，显示退出软件的提示 </span>
<span style="color: #000000;">{
    </span><span style="color: #0000ff;">char</span><span style="color: #000000;"> t;
    system(</span><span style="color: #800000;">"</span><span style="color: #800000;">color F</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">字体颜色为亮白色</span>
    toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">11</span><span style="color: #000000;">);
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">--------------------------</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">12</span><span style="color: #000000;">);
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">|    您确定要退出吗？    |</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">14</span><span style="color: #000000;">);
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">|  1.确定      2.取消    |</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">15</span><span style="color: #000000;">);
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">--------------------------</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    </span><span style="color: #0000ff;">while</span>(<span style="color: #800080;">1</span><span style="color: #000000;">)
    {
        t</span>=getch();         <span style="color: #008000;">//</span><span style="color: #008000;">输入t</span>
        <span style="color: #0000ff;">switch</span><span style="color: #000000;">(t)
        {
            </span><span style="color: #0000ff;">case</span> <span style="color: #800000;">'</span><span style="color: #800000;">1</span><span style="color: #800000;">'</span><span style="color: #000000;">:
            system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
            system(<span style="color: #800000;">"</span><span style="color: #800000;">color F</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">字体颜色为亮白色</span>
            toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">10</span><span style="color: #000000;">);
            printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">正在安全退出....</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            Sleep(</span><span style="color: #800080;">1000</span>);     <span style="color: #008000;">//</span><span style="color: #008000;">暂停1秒 </span>
            system(<span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            system(</span><span style="color: #800000;">"</span><span style="color: #800000;">color F</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">字体颜色为亮白色</span>
            toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">10</span><span style="color: #000000;">);
            printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">已安全退出软件</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">12</span><span style="color: #000000;">);
            printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">谢谢使用！</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">14</span><span style="color: #000000;">);
            printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">bye-bye^_^</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">16</span><span style="color: #000000;">);
            exit(</span><span style="color: #800080;">0</span>);  <span style="color: #0000ff;">break</span>; <span style="color: #008000;">//</span><span style="color: #008000;">终止程序 </span>
            <span style="color: #0000ff;">case</span> <span style="color: #800000;">'</span><span style="color: #800000;">2</span><span style="color: #800000;">'</span><span style="color: #000000;">:
            menu(); </span><span style="color: #0000ff;">break</span>;   <span style="color: #008000;">//</span><span style="color: #008000;">调用函数，进入菜单 </span>
            <span style="color: #0000ff;">default</span> :<span style="color: #0000ff;">break</span><span style="color: #000000;">;
        }
    }
}

</span><span style="color: #0000ff;">void</span> menu()<span style="color: #008000;">//</span><span style="color: #008000;">菜单功能，显示各种操作功能</span>
<span style="color: #000000;">{ 
    system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
    fflush(stdin);<span style="color: #008000;">//</span><span style="color: #008000;">清空缓存</span>
    <span style="color: #0000ff;">char</span><span style="color: #000000;"> x;
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> n;
    </span><span style="color: #0000ff;">while</span>(x!=<span style="color: #800000;">'</span><span style="color: #800000;">h</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        system(</span><span style="color: #800000;">"</span><span style="color: #800000;">color F</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">字体颜色为亮白色</span>
        system(<span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">4</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">-----班级档案管理系统-----</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">5</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">|                        |</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">|    a.学生基本信息录入  |</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">7</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">|                        |</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">|    b.学生基本信息显示  |</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">9</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">|                        |</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">10</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">|    c.学生基本信息保存  |</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">11</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">|                        |</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">12</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">|    d.学生基本信息删除  |</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">13</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">|                        |</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">14</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">|    e.学生基本信息修改  |</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">15</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">|                        |</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">16</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">|    f.学生基本信息查询  |</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">17</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">|                        |</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">18</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">|    g.修  改   密   码  |</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">19</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">|                        |</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">20</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">|    h.退  出   系   统  |</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">21</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">|                        |</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">22</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">--------------------------</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">23</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">请输入选择:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        x</span>=<span style="color: #000000;">getch();
        </span><span style="color: #0000ff;">if</span>(x&lt;<span style="color: #800000;">'</span><span style="color: #800000;">A</span><span style="color: #800000;">'</span>||x&gt;<span style="color: #800000;">'</span><span style="color: #800000;">H</span><span style="color: #800000;">'</span>&amp;&amp;x&lt;<span style="color: #800000;">'</span><span style="color: #800000;">a</span><span style="color: #800000;">'</span>||x&gt;<span style="color: #800000;">'</span><span style="color: #800000;">h</span><span style="color: #800000;">'</span>)<span style="color: #008000;">//</span><span style="color: #008000;">如果输入的范围不是在A-H或a-h</span>
<span style="color: #000000;">        {
            toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">25</span><span style="color: #000000;">);
            printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">输入选项有误,请重新输入</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            Sleep(</span><span style="color: #800080;">700</span><span style="color: #000000;">);
            </span><span style="color: #0000ff;">continue</span><span style="color: #000000;">;
        }
        </span><span style="color: #0000ff;">if</span>(x&gt;=<span style="color: #800000;">'</span><span style="color: #800000;">A</span><span style="color: #800000;">'</span>&amp;&amp;x&lt;=<span style="color: #800000;">'</span><span style="color: #800000;">H</span><span style="color: #800000;">'</span><span style="color: #000000;">)
            x</span>=x+<span style="color: #800080;">32</span>;<span style="color: #008000;">//</span><span style="color: #008000;">将大写转换为小写</span>
        <span style="color: #0000ff;">switch</span><span style="color: #000000;">(x)
        {
        </span><span style="color: #0000ff;">case</span> <span style="color: #800000;">'</span><span style="color: #800000;">a</span><span style="color: #800000;">'</span><span style="color: #000000;">:
            system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            system(</span><span style="color: #800000;">"</span><span style="color: #800000;">color F</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">字体颜色为亮白色</span>
            toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
            printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">请输入录入学生人数:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span>,&amp;<span style="color: #000000;">n);
            input(n);
            </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">case</span> <span style="color: #800000;">'</span><span style="color: #800000;">b</span><span style="color: #800000;">'</span><span style="color: #000000;">:
            output();
                 </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">case</span> <span style="color: #800000;">'</span><span style="color: #800000;">c</span><span style="color: #800000;">'</span><span style="color: #000000;">:
            save(n);
                 </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">case</span> <span style="color: #800000;">'</span><span style="color: #800000;">d</span><span style="color: #800000;">'</span><span style="color: #000000;">:dele();
                 </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">case</span> <span style="color: #800000;">'</span><span style="color: #800000;">e</span><span style="color: #800000;">'</span><span style="color: #000000;">:
            change();
                </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">case</span> <span style="color: #800000;">'</span><span style="color: #800000;">f</span><span style="color: #800000;">'</span>:invest();<span style="color: #0000ff;">break</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">case</span> <span style="color: #800000;">'</span><span style="color: #800000;">g</span><span style="color: #800000;">'</span><span style="color: #000000;">:change_password();
            </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">case</span><span style="color: #800000;">'</span><span style="color: #800000;">h</span><span style="color: #800000;">'</span><span style="color: #000000;">:
            over();
            </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
            
        </span><span style="color: #0000ff;">default</span>:<span style="color: #0000ff;">break</span><span style="color: #000000;">;
        }
    }
}

</span><span style="color: #0000ff;">void</span> save_password(<span style="color: #0000ff;">char</span> str[])<span style="color: #008000;">//</span><span style="color: #008000;">保存密码到password文本文件中</span>
<span style="color: #000000;">{
    FILE</span>*<span style="color: #000000;">fp;
    fp</span>=fopen(<span style="color: #800000;">"</span><span style="color: #800000;">password</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">w</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">打开文本文件</span>
    <span style="color: #0000ff;">if</span>(fp==<span style="color: #000000;">NULL)
    {
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">cannot open file</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    }
    </span><span style="color: #0000ff;">if</span>(fputs(str,fp)!=<span style="color: #800080;">0</span>)<span style="color: #008000;">//</span><span style="color: #008000;">使用fputs将密码写入密码文件，成功则返回0，否则返回非0值</span>
<span style="color: #000000;">    {
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">write error!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    }
    fclose(fp);
}

</span><span style="color: #0000ff;">void</span> load()<span style="color: #008000;">//</span><span style="color: #008000;">密码登陆，通过验证读取文件的密码与用户输入的密码是否一致，从而进入系统</span>
<span style="color: #000000;">{
    </span><span style="color: #0000ff;">char</span> _password[<span style="color: #800080;">18</span><span style="color: #000000;">];
    </span><span style="color: #0000ff;">int</span> p=<span style="color: #800080;">3</span>;<span style="color: #008000;">//</span><span style="color: #008000;">有3次验证密码机会</span>
    <span style="color: #0000ff;">do</span><span style="color: #000000;">
    {
        system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
        system(<span style="color: #800000;">"</span><span style="color: #800000;">color F</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">字体颜色为亮白色</span>
        <span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">char</span> password[<span style="color: #800080;">18</span><span style="color: #000000;">];
        </span><span style="color: #0000ff;">char</span> str[]=<span style="color: #800000;">"</span><span style="color: #800000;">hstc2018</span><span style="color: #800000;">"</span>;<span style="color: #008000;">//</span><span style="color: #008000;">第一次登陆的初始密码</span>
        <span style="color: #0000ff;">char</span><span style="color: #000000;"> k;
        FILE</span>*<span style="color: #000000;">fp;
        </span><span style="color: #0000ff;">if</span>((fp=fopen(<span style="color: #800000;">"</span><span style="color: #800000;">password</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">a+</span><span style="color: #800000;">"</span>))==<span style="color: #000000;">NULL)
        {
            printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">cannot open file</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            exit(</span><span style="color: #800080;">0</span><span style="color: #000000;">);
        }
        fseek(fp,</span><span style="color: #800080;">0L</span>,SEEK_END);<span style="color: #008000;">//</span><span style="color: #008000;">把文件指针移到最后</span>
        <span style="color: #0000ff;">int</span> size=ftell(fp);<span style="color: #008000;">//</span><span style="color: #008000;">用ftell函数测定文件位置标记的当前位置</span>
        rewind(fp);<span style="color: #008000;">//</span><span style="color: #008000;">使文件位置标记重新返回文件的开头</span>
        <span style="color: #0000ff;">if</span>(size==<span style="color: #800080;">0</span>)<span style="color: #008000;">//</span><span style="color: #008000;">如果文件的长度为空，则说明是第一次登陆使用</span>
<span style="color: #000000;">        {
            strcpy(password,str);</span><span style="color: #008000;">//</span><span style="color: #008000;">将初始密码复制到password数组</span>
            save_password(password);<span style="color: #008000;">//</span><span style="color: #008000;">保存密码到文件中</span>
<span style="color: #000000;">        }
        </span><span style="color: #0000ff;">else</span><span style="color: #000000;">
            fgets(password,</span><span style="color: #800080;">18</span>,fp);<span style="color: #008000;">//</span><span style="color: #008000;">从文件中读取密码</span>
        toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">----------学生档案管理系统---------\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">请输入管理者密码:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">for</span>(;;)<span style="color: #008000;">//</span><span style="color: #008000;">此处为输入密码不回显操作 </span>
<span style="color: #000000;">        {
            k</span>=getch();<span style="color: #008000;">//</span><span style="color: #008000;">输入k</span>
            <span style="color: #0000ff;">if</span>(k==<span style="color: #800000;">'</span><span style="color: #800000;">\r</span><span style="color: #800000;">'</span>) <span style="color: #008000;">//</span><span style="color: #008000;">如果输入k为回车，则跳出循环 </span>
<span style="color: #000000;">            {
                </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
            }
            </span><span style="color: #0000ff;">if</span>(k==<span style="color: #800000;">'</span><span style="color: #800000;">\b</span><span style="color: #800000;">'</span>)<span style="color: #008000;">//</span><span style="color: #008000;">如果输入k为删除键 </span>
<span style="color: #000000;">            {
                </span><span style="color: #0000ff;">if</span>(i&gt;<span style="color: #800080;">0</span>)<span style="color: #008000;">//</span><span style="color: #008000;">如果密码还没完全删除 </span>
<span style="color: #000000;">                {
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">\b</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    printf(</span><span style="color: #800000;">"</span> <span style="color: #800000;">"</span><span style="color: #000000;">);
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">\b</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    i</span>--<span style="color: #000000;">;
                }
            }
            </span><span style="color: #0000ff;">else</span>  <span style="color: #008000;">//</span><span style="color: #008000;">如果输入的k既不是删除键，也不是回车键</span>
<span style="color: #000000;">            {
                _password[i]</span>=<span style="color: #000000;">k;
                printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">*</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                i</span>++<span style="color: #000000;">;
            }
        }
        _password[i]</span>=<span style="color: #800000;">'</span><span style="color: #800000;">\0</span><span style="color: #800000;">'</span>;<span style="color: #008000;">//</span><span style="color: #008000;">在字符串结尾作结束符标记</span>
        <span style="color: #0000ff;">if</span>(strcmp(password,_password)==<span style="color: #800080;">0</span>)<span style="color: #008000;">//</span><span style="color: #008000;">判断密码是否输入正确</span>
<span style="color: #000000;">        {
            system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
            toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">10</span><span style="color: #000000;">);
            printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">正在登陆&hellip;&hellip;</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            Sleep(</span><span style="color: #800080;">500</span><span style="color: #000000;">);
            menu();
        }
        </span><span style="color: #0000ff;">else</span><span style="color: #000000;">
        {
            toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">10</span><span style="color: #000000;">);
            p</span>--<span style="color: #000000;">;
            printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">密码错误!您还有%d次机会</span><span style="color: #800000;">"</span><span style="color: #000000;">,p);
            Sleep(</span><span style="color: #800080;">600</span><span style="color: #000000;">);
        }

    }</span><span style="color: #0000ff;">while</span>(p&gt;<span style="color: #800080;">0</span>);<span style="color: #008000;">//</span><span style="color: #008000;">验证机会不为0</span>
    <span style="color: #0000ff;">if</span>(p==<span style="color: #800080;">0</span><span style="color: #000000;">)
    {
        system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
        toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">机会已用完!</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
    }
}
</span><span style="color: #0000ff;">void</span> change_password()<span style="color: #008000;">//</span><span style="color: #008000;">修改密码，需要输入旧密码和新密码，如果旧密码验证正确则可成功修改</span>
<span style="color: #000000;">{
    system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
    system(<span style="color: #800000;">"</span><span style="color: #800000;">color F</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">字体颜色为亮白色</span>
    <span style="color: #0000ff;">char</span> str[<span style="color: #800080;">18</span><span style="color: #000000;">];
    FILE</span>*<span style="color: #000000;">fp;
    </span><span style="color: #0000ff;">if</span>((fp=fopen(<span style="color: #800000;">"</span><span style="color: #800000;">password</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">r</span><span style="color: #800000;">"</span>))==NULL)<span style="color: #008000;">//</span><span style="color: #008000;">只用读，用r打开stu文件</span>
<span style="color: #000000;">    {
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">cannot open file</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        exit(</span><span style="color: #800080;">0</span><span style="color: #000000;">);
    }
    fgets(str,</span><span style="color: #800080;">18</span>,fp);<span style="color: #008000;">//</span><span style="color: #008000;">从fp指向的password文件读入字符串，存放到字符数组str中</span>
<span style="color: #000000;">    fclose(fp);
    </span><span style="color: #0000ff;">do</span><span style="color: #000000;">
    {
        system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
        <span style="color: #0000ff;">char</span> password[<span style="color: #800080;">18</span>],newpassword[<span style="color: #800080;">18</span><span style="color: #000000;">],c,t;
        </span><span style="color: #0000ff;">int</span> i=<span style="color: #800080;">0</span><span style="color: #000000;">;
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">学生管理系统</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">修改密码</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">10</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">请输入旧密码:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">for</span>(;;)<span style="color: #008000;">//</span><span style="color: #008000;">此处为密码不回显操作</span>
<span style="color: #000000;">        {
            c</span>=<span style="color: #000000;">getch();
            </span><span style="color: #0000ff;">if</span>(c==<span style="color: #800000;">'</span><span style="color: #800000;">\r</span><span style="color: #800000;">'</span>)<span style="color: #008000;">//</span><span style="color: #008000;">如果输入为回车键</span>
<span style="color: #000000;">            {
                </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
            }
            </span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(c==<span style="color: #800000;">'</span><span style="color: #800000;">\b</span><span style="color: #800000;">'</span>)<span style="color: #008000;">//</span><span style="color: #008000;">如果输入c为删除键</span>
<span style="color: #000000;">            {
                </span><span style="color: #0000ff;">if</span>(i&gt;<span style="color: #800080;">0</span>) <span style="color: #008000;">//</span><span style="color: #008000;">如果密码还没完全删除</span>
<span style="color: #000000;">                {
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">\b</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    printf(</span><span style="color: #800000;">"</span> <span style="color: #800000;">"</span><span style="color: #000000;">);
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">\b</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    i</span>--<span style="color: #000000;">;
                }
            }
            </span><span style="color: #0000ff;">else</span>  <span style="color: #008000;">//</span><span style="color: #008000;">如果输入的c既不是删除键，也不是回车键</span>
<span style="color: #000000;">            {
                password[i]</span>=<span style="color: #000000;">c;
                printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">*</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                i</span>++<span style="color: #000000;">;
            }
        }
        password[i]</span>=<span style="color: #800000;">'</span><span style="color: #800000;">\0</span><span style="color: #800000;">'</span>;<span style="color: #008000;">//</span><span style="color: #008000;">在字符串结尾作结束符标记</span>
        i=<span style="color: #800080;">0</span><span style="color: #000000;">;
        toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">12</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">请输入新密码:</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">for</span>(;;)<span style="color: #008000;">//</span><span style="color: #008000;">此处为输入密码不回显操作</span>
<span style="color: #000000;">        {
            c</span>=<span style="color: #000000;">getch();
            </span><span style="color: #0000ff;">if</span>(c==<span style="color: #800000;">'</span><span style="color: #800000;">\r</span><span style="color: #800000;">'</span>) <span style="color: #008000;">//</span><span style="color: #008000;">如果输入c为回车，则跳出循环</span>
<span style="color: #000000;">            {
                </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
            }
            </span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(c==<span style="color: #800000;">'</span><span style="color: #800000;">\b</span><span style="color: #800000;">'</span>)<span style="color: #008000;">//</span><span style="color: #008000;">如果输入c为删除键</span>
<span style="color: #000000;">            {
                </span><span style="color: #0000ff;">if</span>(i&gt;<span style="color: #800080;">0</span>)<span style="color: #008000;">//</span><span style="color: #008000;">如果密码还没完全删除</span>
<span style="color: #000000;">                {
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">\b</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    printf(</span><span style="color: #800000;">"</span> <span style="color: #800000;">"</span><span style="color: #000000;">);
                    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">\b</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                    i</span>--<span style="color: #000000;">;
                }
            }
            </span><span style="color: #0000ff;">else</span><span style="color: #000000;">
            {
                newpassword[i]</span>=<span style="color: #000000;">c;
                printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">*</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                i</span>++<span style="color: #000000;">;
            }
        }
        newpassword[i]</span>=<span style="color: #800000;">'</span><span style="color: #800000;">\0</span><span style="color: #800000;">'</span>;<span style="color: #008000;">//</span><span style="color: #008000;">在字符串结尾作结束符标记</span>
        <span style="color: #0000ff;">if</span>(strcmp(str,password)==<span style="color: #800080;">0</span>)<span style="color: #008000;">//</span><span style="color: #008000;">如果旧密码与原来密码验证成功</span>
<span style="color: #000000;">        {
            save_password(newpassword);</span><span style="color: #008000;">//</span><span style="color: #008000;">保存新密码</span>
            system(<span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
            toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">6</span><span style="color: #000000;">);
            printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">修改成功,即将返回主菜单&hellip;&hellip;</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            Sleep(</span><span style="color: #800080;">600</span><span style="color: #000000;">);
            menu();
        }
        </span><span style="color: #0000ff;">else</span><span style="color: #000000;">
        {
            system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
                toxy(<span style="color: #800080;">15</span>,<span style="color: #800080;">8</span><span style="color: #000000;">);
                printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">-------------------------------------</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">9</span><span style="color: #000000;">);
                printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">|                                   |</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">10</span><span style="color: #000000;">);
                printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">|        密码错误！是否继续?        |</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">11</span><span style="color: #000000;">);
                printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">|                                   |</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">12</span><span style="color: #000000;">);
                printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">| 1.是                      2.否    |</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">13</span><span style="color: #000000;">);
                printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">|                                   |</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                toxy(</span><span style="color: #800080;">15</span>,<span style="color: #800080;">14</span><span style="color: #000000;">);
                printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">-------------------------------------</span><span style="color: #800000;">"</span><span style="color: #000000;">);
                </span><span style="color: #0000ff;">while</span>(<span style="color: #800080;">1</span><span style="color: #000000;">)
                {
                    t</span>=<span style="color: #000000;">getch();
                    </span><span style="color: #0000ff;">if</span>(t==<span style="color: #800000;">'</span><span style="color: #800000;">1</span><span style="color: #800000;">'</span><span style="color: #000000;">)
                    {
                        system(</span><span style="color: #800000;">"</span><span style="color: #800000;">cls</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">清屏</span>
                        <span style="color: #0000ff;">break</span><span style="color: #000000;">;
                    }
                    </span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(t==<span style="color: #800000;">'</span><span style="color: #800000;">2</span><span style="color: #800000;">'</span><span style="color: #000000;">)
                    {
                        menu();
                    }
                }
        }
    }</span><span style="color: #0000ff;">while</span>(<span style="color: #800080;">1</span><span style="color: #000000;">);

}
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    load();
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></code></pre>

<p>&nbsp;</p>
<h1>4.总结与展望</h1>
<p>完成了该课程设计后，对文件的输入输出有了更深一层的了解。还学会了利用windows.h函数库里的system函数去进行<br />清屏-system("cls"），<br />延时-Sleep（），<br />设置字体颜色-system("color X"）<br />删除文件-system("DEL XX"）<br />复制文件-system("copy X1 X2")<br />虽然较为成功地完成了课程设计，但由于知识和时间的局限性，系统仍然存在缺陷。我认为此系统还可以链接数据库，增加用户权限等，这样能够使系统更具有实用性。</p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>