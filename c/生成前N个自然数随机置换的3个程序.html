<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修生成前N个自然数随机置换的3个程序' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>生成前N个自然数随机置换的3个程序</center></div><div class='banquan'>原文出处:本文由博客园博主yooooooo提供。<br/>
原文连接:https://www.cnblogs.com/linhaostudy/p/11147884.html</div><br>
    <h2 id="问题描述">问题描述：</h2>
<p>假设需要生成前N个自然数的一个随机置换。例如，{4，3，1，5，2}和{3，1，4，2，5}就是合法的置换，但{5，4，1，2，1}却不是，因为数1出现两次而数3却没有。这个程序常常用于模拟一些算法。我们假设存在一个随机数生成器RandInt(i,j)，它以相同的概率生成i和j之间的一个整数。</p>
<pre><code><code>int RandInt(int i, int j)       //srand()放在主函数中了
{
    if(i==0)
        return rand()%(j+1);
    else
        return rand()%(j-i+1) + i;
}</code></code></pre>
<h2 id="算法一-时间复杂度onlogn">算法一： 时间复杂度O（N²logN）</h2>
<p>填入从a[0]到a[n-1]的数组a,为了填入a[i]，生成随机数直到它不同于已经生成的a[0],a[1],...,a[i-1]时，再将其填入a[i].</p>
<pre><code><code>void fun1(int a[], int n)
{
    int tmp;
    for (int i = 0; i &lt; n; i++)
    {
        tmp=RandInt(1, n);
        for (int j = 0; j &lt; i; j++)
        {
            if(tmp==a[j])
            {
                tmp=RandInt(1, n);
                j=-1;
            }
        }
        a[i] = tmp;
    }
}
</code></code></pre>
<h2 id="算法二时间复杂度onlogn">算法二：时间复杂度O(NlogN)</h2>
<p>同算法一，但要保存一个附加的数组，称之为Used(用过的)数组。当一个随机数ran最初被放入数组A的时候，置Used[ran]=1。</p>
<pre><code><code>void fun2(int a[], int n)
{
    int tmp;
    for (int i = 0; i &lt; n; i++)
    {
        tmp=RandInt(1, n);
        while(used[tmp]!=0)
            tmp=RandInt(1, n);
        a[i]=tmp;
        used[tmp]=1;
    }
}</code></code></pre>
<h2 id="算法三时间复杂度on">算法三：时间复杂度O(N)</h2>
<p>填写该数组使得a[i]=i+1.然后：</p>
<pre><code><code>for(i=1; i&lt;N; i++)
swap(&amp;a[i], a[RandInt(0,i)]);</code></code></pre>
<pre><code><code>void swap(int &amp;a, int &amp;b)
{
    int tmp=a;
    a=b;
    b=tmp;
}
 
void fun3(int a[], int n)
{
    for (int i = 0; i &lt; n; i++)
    {
        a[i]=i+1;
    }
    for (int i = 1; i &lt; n; i++)
    {
        swap(a[i], a[ RandInt(0, i) ]);
    }
}
</code></code></pre>
<h2 id="运行效果">运行效果：</h2>
<p><img src="./images/生成前N个自然数随机置换的3个程序0.png" alt="image" /></p>


</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>