<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修C语言入门-字符串' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>C语言入门-字符串</center></div><div class='banquan'>原文出处:本文由博客园博主山丘i提供。<br/>
原文连接:https://www.cnblogs.com/mengd/p/11625954.html</div><br>
    <p>还是要继续学习，每天给自己打气。</p>
<h4 id="字符数组">字符数组</h4>
<pre><code><code>char word[] = {&#39;H&#39;,&#39;e&#39;,&#39;l&#39;,&#39;l&#39;,&#39;o&#39;};</code></code></pre>
<p>这不是c语言的字符串，不能用字符串的方式做计算</p>
<h3 id="一字符串">一、字符串</h3>
<pre><code><code>char word[] = {&#39;H&#39;,&#39;e&#39;,&#39;l&#39;,&#39;l&#39;,&#39;o&#39;,&#39;\0&#39;};</code></code></pre>
<p><strong>区别就是最后多了一个0</strong>，这就成为了字符串</p>
<ol>
<li>以0(整数0)结尾的一串字符</li>
<li>0或'\0'是一样的，但和'0'不同</li>
<li>0标志字符串的结束，但它不是字符串的一部分</li>
<li>计算字符串长度的时候不包含这个0</li>
<li>字符串以数组的形式存在，以数组或者指针的形式访问，<strong>更多的是以指针的形式</strong></li>
<li>string.h里有很多处理字符串的函数</li>
</ol>
<h4 id="字符串变量">字符串变量</h4>
<pre><code><code>char *str = &quot;hello&quot;;
char word[] = &quot;hello&quot;;
char line[10] = &quot;hello&quot;;</code></code></pre>
<h4 id="字符串常量">字符串常量</h4>
<ol>
<li>“hello”</li>
<li>“hello&quot;会被编译器变成一个字符数组放在某处，这个数组的长度是6，结尾还有表示结束的0</li>
<li>两个相邻的字符串常量会被自动连接起来</li>
</ol>
<h4 id="字符串">字符串</h4>
<ol>
<li>c语言的字符串是以字符数组的形态存在的</li>
<li>不能用运算符对字符串做运算</li>
<li>通过数组的方式可以遍历字符串</li>
<li>唯一特殊的地方是字符串字面量可以用来初始化字符数组</li>
</ol>
<h3 id="二字符串常量">二、字符串常量</h3>
<pre><code><code>char *s = &quot;hello world&quot;;</code></code></pre>
<ol>
<li>s是一个指针，初始化为指向一个字符串常量</li>
<li>由于这个常量所在的地方，所有实际上s是const char* s ，但是由于历史的原因，编译器接受不带const的写法</li>
<li>但试图对s所指的字符串做写入会导致严重的后果</li>
<li>如果需要修改字符串，应该用数组</li>
</ol>
<pre><code><code>char s[] = &quot;hello , world!&quot;;</code></code></pre>
<h4 id="指针还是数组">指针还是数组</h4>
<pre><code><code>char *str = &quot;hello&quot;;
char word[] = &quot;hello&quot;;</code></code></pre>
<p>数组：可以读，可以写</p>
<p>指针：只能读，不能修改</p>
<p><strong>如果要构造一个字符串 ------&gt;数组</strong></p>
<p><strong>如果要处理一个字符串 ------&gt;指针</strong></p>
<h4 id="char是字符串">char*是字符串</h4>
<ol>
<li>字符串可以表达为char*的形式</li>
<li>char*不一定是字符串</li>
<li>本意是指向字符串的指针，可能指向的是字符的数组</li>
<li>只有它所指的字符数组的结尾有0，才能说它所指的是字符串</li>
</ol>
<pre><code><code>#include &lt;stdio.h&gt;

int main(void)
{
    char *s = &quot;hello world&quot;;
    char *s1 = &quot;hello world&quot;;
    char s3[] = &quot;hello world&quot;;

    // 这个是不能修改的
    // s[0] = &#39;B&#39;;

    s3[0] = &#39;B&#39;;

    printf(&quot;%p\n&quot;, s);
    printf(&quot;%p\n&quot;, s1);
    printf(&quot;%p\n&quot;, s3);

    printf(&quot;Here! s[0]=%c\n&quot;, s[0]);
    printf(&quot;Here! s3[0]=%c\n&quot;, s3[0]);

//  0000000000404000
// 0000000000404000
// 000000000062FE30
// Here! s[0]=h
// Here! s3[0]=B

    return 0;
}</code></code></pre>
<h3 id="三字符串的输入和输出">三、字符串的输入和输出</h3>
<h4 id="字符串赋值">字符串赋值</h4>
<pre><code><code>char *t = &#39;title&#39;;
char *s;
s = t;</code></code></pre>
<p>并没有产生新的字符串，只是让指针s指向了t所指的字符串，对s的任何操作就是对t做的</p>
<h4 id="字符串输入和输出">字符串输入和输出</h4>
<pre><code><code>char string[8];
scanf(&quot;%s&quot; , string);
printf(&quot;%s&quot; , string);</code></code></pre>
<p>scanf读入一个单词(到空格、tab、回车为止)</p>
<p>scanf是不安全的，因为不知道要读入的内容的长度</p>
<h4 id="常见错误">常见错误</h4>
<ol>
<li>char *string;</li>
<li>scanf(&quot;%s&quot; , string);</li>
<li>以为char*是字符串类型，定义了一个字符串类型的变量string就可以直接使用了</li>
<li>由于没有对string初始化0 ， 所以不一定每次运行都出错</li>
</ol>
<h3 id="四单字符输入和输出">四、单字符输入和输出</h3>
<pre><code><code>int putchar(int c);</code></code></pre>
<ol>
<li>向标准输出写一个字符</li>
<li>返回写了几个字符，EOF(-1)表示写失败</li>
</ol>
<pre><code><code>int getchar(void);</code></code></pre>
<ol>
<li>从标准输入读入一个字符</li>
<li>返回类型是int是为了返回EOF(-1) windows ---&gt;Ctrl-z</li>
</ol>
<h3 id="五字符串函数strlen">五、字符串函数strlen</h3>
<ol>
<li>size_t strlen(const char *s);</li>
<li>返回s的字符串长度(不包括结尾的0)</li>
</ol>
<pre><code><code>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

int main(int argc, char const *argv[])
{
    char line[] = &quot;hello&quot;;

    printf(&quot;strlen=%lu\n&quot;, strlen(line));
    
    printf(&quot;sizeof=%lu\n&quot;, sizeof(line));
    return 0;
}
//strlen=5
// 这个包括了字符串最后的0
//sizeof=6
</code></code></pre>
<p>当然了，也可以自己写一个函数来计算字符串长度</p>
<pre><code><code>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

// 自定义方法来计算字符串长度
int mylen(const char *s)
{
    int idx = 0;
    while ( s[idx] != &#39;\0&#39; ){
        idx++;
    }
    return idx;
}


int main(int argc, char const *argv[])
{
    char line[] = &quot;hello&quot;;

    printf(&quot;strlen=%lu\n&quot;, mylen(line));
    
    printf(&quot;sizeof=%lu\n&quot;, sizeof(line));
    return 0;
}</code></code></pre>
<h3 id="六字符串函数strcmp">六、字符串函数strcmp</h3>
<ol>
<li>int strcmp(const char <em>s1 , const char </em>s2);</li>
<li>比较两个字符串返回：
<ul>
<li>0：s1 == s2</li>
<li>1: s1 &gt; s2</li>
<li>-1: s1 &lt; s2</li>
</ul></li>
</ol>
<h3 id="七字符串函数strcpy">七、字符串函数strcpy</h3>
<ol>
<li>char* strcpy(char <em>restrict dst , const char </em> restrict src);</li>
<li>把src的字符串拷贝到dst</li>
<li>restrict表明src和dst不重叠(c99)</li>
<li>返回dst，为了能连起代码来</li>
</ol>
<p>复制一个字符串</p>
<pre><code><code>    char *dst = (char*)malloc(Strlen(src)+1);
    strcpy(dst , src);
</code></code></pre>
<h3 id="八字符串strcat">八、字符串strcat</h3>
<ol>
<li>char* strcat(char <em>restrict s1 , const char </em>restrict s2);</li>
<li>把s2拷贝到s1的后面，接成一个长的字符串</li>
<li>返回s1</li>
<li>s1必须具有足够的空间</li>
</ol>
<p>但是这些函数都是不安全的，因为你不知道有没有足够的空间，所以</p>
<p>安全版本：如图</p>
<p><img src="./images/C语言入门-字符串0.png" alt="安全版本.png" /></p>
<h3 id="九字符串搜索函数">九、字符串搜索函数</h3>
<ol>
<li>char * strchr(const char *s , int c);</li>
<li>char * strrchr(const chat *s int c);</li>
<li>返回NULL表示没有找到</li>
</ol>
<pre><code><code>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;stdlib.h&gt;

int main(int argc, char const *argv[])
{
    char s[] = &quot;hello&quot;;

    char *p = strchr(s, &#39;l&#39;);
    // 找到第二个l
    p = strchr(p+1,&#39;l&#39;);
    printf(&quot;%s\n&quot;, p);

    return 0;
}</code></code></pre>
<p>复制给另一个</p>
<pre><code><code>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;stdlib.h&gt;

int main(int argc, char const *argv[])
{
    char s[] = &quot;hello&quot;;
    char *p = strchr(s, &#39;l&#39;);
    char *t = (char*)malloc(strlen(p)+1);
    strcpy(t,p);
    printf(&quot;%s\n&quot;, t);
    free(t);
    // llo
    return 0;
}</code></code></pre>


</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>